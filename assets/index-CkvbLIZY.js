(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();var Hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vr(D){return D&&D.__esModule&&Object.prototype.hasOwnProperty.call(D,"default")?D.default:D}var gf={exports:{}},Hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function I0(){if(Ov)return Hu;Ov=1;var D=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(s,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var p in u)p!=="key"&&(c[p]=u[p])}else c=u;return u=c.ref,{$$typeof:D,type:s,key:f,ref:u!==void 0?u:null,props:c}}return Hu.Fragment=i,Hu.jsx=r,Hu.jsxs=r,Hu}var Rv;function F0(){return Rv||(Rv=1,gf.exports=I0()),gf.exports}var $=F0(),yf={exports:{}},Gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function H0(){if(kv)return Gt;kv=1;var D=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),O=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=O&&V[O]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,w={};function A(V,pe,Pe){this.props=V,this.context=pe,this.refs=w,this.updater=Pe||H}A.prototype.isReactComponent={},A.prototype.setState=function(V,pe){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,pe,"setState")},A.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function C(){}C.prototype=A.prototype;function j(V,pe,Pe){this.props=V,this.context=pe,this.refs=w,this.updater=Pe||H}var F=j.prototype=new C;F.constructor=j,B(F,A.prototype),F.isPureReactComponent=!0;var k=Array.isArray;function I(){}var G={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function Q(V,pe,Pe){var Me=Pe.ref;return{$$typeof:D,type:V,key:pe,ref:Me!==void 0?Me:null,props:Pe}}function J(V,pe){return Q(V.type,pe,V.props)}function Ee(V){return typeof V=="object"&&V!==null&&V.$$typeof===D}function ce(V){var pe={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Pe){return pe[Pe]})}var Ce=/\/+/g;function Ye(V,pe){return typeof V=="object"&&V!==null&&V.key!=null?ce(""+V.key):pe.toString(36)}function Le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(pe){V.status==="pending"&&(V.status="fulfilled",V.value=pe)},function(pe){V.status==="pending"&&(V.status="rejected",V.reason=pe)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ae(V,pe,Pe,Me,it){var ut=typeof V;(ut==="undefined"||ut==="boolean")&&(V=null);var vt=!1;if(V===null)vt=!0;else switch(ut){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(V.$$typeof){case D:case i:vt=!0;break;case x:return vt=V._init,ae(vt(V._payload),pe,Pe,Me,it)}}if(vt)return it=it(V),vt=Me===""?"."+Ye(V,0):Me,k(it)?(Pe="",vt!=null&&(Pe=vt.replace(Ce,"$&/")+"/"),ae(it,pe,Pe,"",function($e){return $e})):it!=null&&(Ee(it)&&(it=J(it,Pe+(it.key==null||V&&V.key===it.key?"":(""+it.key).replace(Ce,"$&/")+"/")+vt)),pe.push(it)),1;vt=0;var ct=Me===""?".":Me+":";if(k(V))for(var At=0;At<V.length;At++)Me=V[At],ut=ct+Ye(Me,At),vt+=ae(Me,pe,Pe,ut,it);else if(At=T(V),typeof At=="function")for(V=At.call(V),At=0;!(Me=V.next()).done;)Me=Me.value,ut=ct+Ye(Me,At++),vt+=ae(Me,pe,Pe,ut,it);else if(ut==="object"){if(typeof V.then=="function")return ae(Le(V),pe,Pe,Me,it);throw pe=String(V),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return vt}function be(V,pe,Pe){if(V==null)return V;var Me=[],it=0;return ae(V,Me,"","",function(ut){return pe.call(Pe,ut,it++)}),Me}function Se(V){if(V._status===-1){var pe=V._result;pe=pe(),pe.then(function(Pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=Pe)},function(Pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=Pe)}),V._status===-1&&(V._status=0,V._result=pe)}if(V._status===1)return V._result.default;throw V._result}var Ie=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},nt={map:be,forEach:function(V,pe,Pe){be(V,function(){pe.apply(this,arguments)},Pe)},count:function(V){var pe=0;return be(V,function(){pe++}),pe},toArray:function(V){return be(V,function(pe){return pe})||[]},only:function(V){if(!Ee(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Gt.Activity=_,Gt.Children=nt,Gt.Component=A,Gt.Fragment=r,Gt.Profiler=u,Gt.PureComponent=j,Gt.StrictMode=s,Gt.Suspense=v,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return G.H.useMemoCache(V)}},Gt.cache=function(V){return function(){return V.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(V,pe,Pe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Me=B({},V.props),it=V.key;if(pe!=null)for(ut in pe.key!==void 0&&(it=""+pe.key),pe)!W.call(pe,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&pe.ref===void 0||(Me[ut]=pe[ut]);var ut=arguments.length-2;if(ut===1)Me.children=Pe;else if(1<ut){for(var vt=Array(ut),ct=0;ct<ut;ct++)vt[ct]=arguments[ct+2];Me.children=vt}return Q(V.type,it,Me)},Gt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Gt.createElement=function(V,pe,Pe){var Me,it={},ut=null;if(pe!=null)for(Me in pe.key!==void 0&&(ut=""+pe.key),pe)W.call(pe,Me)&&Me!=="key"&&Me!=="__self"&&Me!=="__source"&&(it[Me]=pe[Me]);var vt=arguments.length-2;if(vt===1)it.children=Pe;else if(1<vt){for(var ct=Array(vt),At=0;At<vt;At++)ct[At]=arguments[At+2];it.children=ct}if(V&&V.defaultProps)for(Me in vt=V.defaultProps,vt)it[Me]===void 0&&(it[Me]=vt[Me]);return Q(V,ut,it)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(V){return{$$typeof:p,render:V}},Gt.isValidElement=Ee,Gt.lazy=function(V){return{$$typeof:x,_payload:{_status:-1,_result:V},_init:Se}},Gt.memo=function(V,pe){return{$$typeof:y,type:V,compare:pe===void 0?null:pe}},Gt.startTransition=function(V){var pe=G.T,Pe={};G.T=Pe;try{var Me=V(),it=G.S;it!==null&&it(Pe,Me),typeof Me=="object"&&Me!==null&&typeof Me.then=="function"&&Me.then(I,Ie)}catch(ut){Ie(ut)}finally{pe!==null&&Pe.types!==null&&(pe.types=Pe.types),G.T=pe}},Gt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Gt.use=function(V){return G.H.use(V)},Gt.useActionState=function(V,pe,Pe){return G.H.useActionState(V,pe,Pe)},Gt.useCallback=function(V,pe){return G.H.useCallback(V,pe)},Gt.useContext=function(V){return G.H.useContext(V)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(V,pe){return G.H.useDeferredValue(V,pe)},Gt.useEffect=function(V,pe){return G.H.useEffect(V,pe)},Gt.useEffectEvent=function(V){return G.H.useEffectEvent(V)},Gt.useId=function(){return G.H.useId()},Gt.useImperativeHandle=function(V,pe,Pe){return G.H.useImperativeHandle(V,pe,Pe)},Gt.useInsertionEffect=function(V,pe){return G.H.useInsertionEffect(V,pe)},Gt.useLayoutEffect=function(V,pe){return G.H.useLayoutEffect(V,pe)},Gt.useMemo=function(V,pe){return G.H.useMemo(V,pe)},Gt.useOptimistic=function(V,pe){return G.H.useOptimistic(V,pe)},Gt.useReducer=function(V,pe,Pe){return G.H.useReducer(V,pe,Pe)},Gt.useRef=function(V){return G.H.useRef(V)},Gt.useState=function(V){return G.H.useState(V)},Gt.useSyncExternalStore=function(V,pe,Pe){return G.H.useSyncExternalStore(V,pe,Pe)},Gt.useTransition=function(){return G.H.useTransition()},Gt.version="19.2.4",Gt}var Bv;function yh(){return Bv||(Bv=1,yf.exports=H0()),yf.exports}var dt=yh();const P0=Vr(dt);var bf={exports:{}},Pu={},wf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function G0(){return zv||(zv=1,(function(D){function i(ae,be){var Se=ae.length;ae.push(be);e:for(;0<Se;){var Ie=Se-1>>>1,nt=ae[Ie];if(0<u(nt,be))ae[Ie]=be,ae[Se]=nt,Se=Ie;else break e}}function r(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var be=ae[0],Se=ae.pop();if(Se!==be){ae[0]=Se;e:for(var Ie=0,nt=ae.length,V=nt>>>1;Ie<V;){var pe=2*(Ie+1)-1,Pe=ae[pe],Me=pe+1,it=ae[Me];if(0>u(Pe,Se))Me<nt&&0>u(it,Pe)?(ae[Ie]=it,ae[Me]=Se,Ie=Me):(ae[Ie]=Pe,ae[pe]=Se,Ie=pe);else if(Me<nt&&0>u(it,Se))ae[Ie]=it,ae[Me]=Se,Ie=Me;else break e}}return be}function u(ae,be){var Se=ae.sortIndex-be.sortIndex;return Se!==0?Se:ae.id-be.id}if(D.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;D.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();D.unstable_now=function(){return f.now()-p}}var v=[],y=[],x=1,_=null,O=3,T=!1,H=!1,B=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function F(ae){for(var be=r(y);be!==null;){if(be.callback===null)s(y);else if(be.startTime<=ae)s(y),be.sortIndex=be.expirationTime,i(v,be);else break;be=r(y)}}function k(ae){if(B=!1,F(ae),!H)if(r(v)!==null)H=!0,I||(I=!0,ce());else{var be=r(y);be!==null&&Le(k,be.startTime-ae)}}var I=!1,G=-1,W=5,Q=-1;function J(){return w?!0:!(D.unstable_now()-Q<W)}function Ee(){if(w=!1,I){var ae=D.unstable_now();Q=ae;var be=!0;try{e:{H=!1,B&&(B=!1,C(G),G=-1),T=!0;var Se=O;try{t:{for(F(ae),_=r(v);_!==null&&!(_.expirationTime>ae&&J());){var Ie=_.callback;if(typeof Ie=="function"){_.callback=null,O=_.priorityLevel;var nt=Ie(_.expirationTime<=ae);if(ae=D.unstable_now(),typeof nt=="function"){_.callback=nt,F(ae),be=!0;break t}_===r(v)&&s(v),F(ae)}else s(v);_=r(v)}if(_!==null)be=!0;else{var V=r(y);V!==null&&Le(k,V.startTime-ae),be=!1}}break e}finally{_=null,O=Se,T=!1}be=void 0}}finally{be?ce():I=!1}}}var ce;if(typeof j=="function")ce=function(){j(Ee)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ye=Ce.port2;Ce.port1.onmessage=Ee,ce=function(){Ye.postMessage(null)}}else ce=function(){A(Ee,0)};function Le(ae,be){G=A(function(){ae(D.unstable_now())},be)}D.unstable_IdlePriority=5,D.unstable_ImmediatePriority=1,D.unstable_LowPriority=4,D.unstable_NormalPriority=3,D.unstable_Profiling=null,D.unstable_UserBlockingPriority=2,D.unstable_cancelCallback=function(ae){ae.callback=null},D.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ae?Math.floor(1e3/ae):5},D.unstable_getCurrentPriorityLevel=function(){return O},D.unstable_next=function(ae){switch(O){case 1:case 2:case 3:var be=3;break;default:be=O}var Se=O;O=be;try{return ae()}finally{O=Se}},D.unstable_requestPaint=function(){w=!0},D.unstable_runWithPriority=function(ae,be){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Se=O;O=ae;try{return be()}finally{O=Se}},D.unstable_scheduleCallback=function(ae,be,Se){var Ie=D.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Ie+Se:Ie):Se=Ie,ae){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Se+nt,ae={id:x++,callback:be,priorityLevel:ae,startTime:Se,expirationTime:nt,sortIndex:-1},Se>Ie?(ae.sortIndex=Se,i(y,ae),r(v)===null&&ae===r(y)&&(B?(C(G),G=-1):B=!0,Le(k,Se-Ie))):(ae.sortIndex=nt,i(v,ae),H||T||(H=!0,I||(I=!0,ce()))),ae},D.unstable_shouldYield=J,D.unstable_wrapCallback=function(ae){var be=O;return function(){var Se=O;O=be;try{return ae.apply(this,arguments)}finally{O=Se}}}})(_f)),_f}var Lv;function Y0(){return Lv||(Lv=1,wf.exports=G0()),wf.exports}var xf={exports:{}},Ei={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function V0(){if(Mv)return Ei;Mv=1;var D=yh();function i(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(v,y,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:v,containerInfo:y,implementation:x}}var f=D.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ei.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ei.createPortal=function(v,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(i(299));return c(v,y,null,x)},Ei.flushSync=function(v){var y=f.T,x=s.p;try{if(f.T=null,s.p=2,v)return v()}finally{f.T=y,s.p=x,s.d.f()}},Ei.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},Ei.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ei.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var x=y.as,_=p(x,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,T=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:O,fetchPriority:T}):x==="script"&&s.d.X(v,{crossOrigin:_,integrity:O,fetchPriority:T,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ei.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},Ei.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,_=p(x,y.crossOrigin);s.d.L(v,x,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ei.preloadModule=function(v,y){if(typeof v=="string")if(y){var x=p(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},Ei.requestFormReset=function(v){s.d.r(v)},Ei.unstable_batchedUpdates=function(v,y){return v(y)},Ei.useFormState=function(v,y,x){return f.H.useFormState(v,y,x)},Ei.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ei.version="19.2.4",Ei}var jv;function K0(){if(jv)return xf.exports;jv=1;function D(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D)}catch(i){console.error(i)}}return D(),xf.exports=V0(),xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Z0(){if(Uv)return Pu;Uv=1;var D=Y0(),i=yh(),r=K0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var o=n.return;if(o===null)break;var h=o.alternate;if(h===null){if(a=o.return,a!==null){n=a;continue}break}if(o.child===h.child){for(h=o.child;h;){if(h===n)return v(o),e;if(h===a)return v(o),t;h=h.sibling}throw Error(s(188))}if(n.return!==a.return)n=o,a=h;else{for(var S=!1,U=o.child;U;){if(U===n){S=!0,n=o,a=h;break}if(U===a){S=!0,a=o,n=h;break}U=U.sibling}if(!S){for(U=h.child;U;){if(U===n){S=!0,n=h,a=o;break}if(U===a){S=!0,a=h,n=o;break}U=U.sibling}if(!S)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,O=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=Ee&&e[Ee]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function Ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case j:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return t=e.displayName||null,t!==null?t:Ye(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return Ye(e(t))}catch{}}return null}var Le=Array.isArray,ae=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se={pending:!1,data:null,method:null,action:null},Ie=[],nt=-1;function V(e){return{current:e}}function pe(e){0>nt||(e.current=Ie[nt],Ie[nt]=null,nt--)}function Pe(e,t){nt++,Ie[nt]=e.current,e.current=t}var Me=V(null),it=V(null),ut=V(null),vt=V(null);function ct(e,t){switch(Pe(ut,t),Pe(it,e),Pe(Me,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$p(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$p(t),e=ev(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pe(Me),Pe(Me,e)}function At(){pe(Me),pe(it),pe(ut)}function $e(e){e.memoizedState!==null&&Pe(vt,e);var t=Me.current,n=ev(t,e.type);t!==n&&(Pe(it,e),Pe(Me,n))}function Tt(e){it.current===e&&(pe(Me),pe(it)),vt.current===e&&(pe(vt),Uu._currentValue=Se)}var pt,kt;function Ut(e){if(pt===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pt=t&&t[1]||"",kt=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pt+e+kt}var Vt=!1;function tn(e,t){if(!e||Vt)return"";Vt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Ge=function(){throw Error()};if(Object.defineProperty(Ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ge,[])}catch(ke){var Re=ke}Reflect.construct(e,[],Ge)}else{try{Ge.call()}catch(ke){Re=ke}e.call(Ge.prototype)}}else{try{throw Error()}catch(ke){Re=ke}(Ge=e())&&typeof Ge.catch=="function"&&Ge.catch(function(){})}}catch(ke){if(ke&&Re&&typeof ke.stack=="string")return[ke.stack,Re.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),S=h[0],U=h[1];if(S&&U){var ne=S.split(`
`),Ne=U.split(`
`);for(o=a=0;a<ne.length&&!ne[a].includes("DetermineComponentFrameRoot");)a++;for(;o<Ne.length&&!Ne[o].includes("DetermineComponentFrameRoot");)o++;if(a===ne.length||o===Ne.length)for(a=ne.length-1,o=Ne.length-1;1<=a&&0<=o&&ne[a]!==Ne[o];)o--;for(;1<=a&&0<=o;a--,o--)if(ne[a]!==Ne[o]){if(a!==1||o!==1)do if(a--,o--,0>o||ne[a]!==Ne[o]){var Ue=`
`+ne[a].replace(" at new "," at ");return e.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",e.displayName)),Ue}while(1<=a&&0<=o);break}}}finally{Vt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ut(n):""}function Kt(e,t){switch(e.tag){case 26:case 27:case 5:return Ut(e.type);case 16:return Ut("Lazy");case 13:return e.child!==t&&t!==null?Ut("Suspense Fallback"):Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return tn(e.type,!1);case 11:return tn(e.type.render,!1);case 1:return tn(e.type,!0);case 31:return Ut("Activity");default:return""}}function on(e){try{var t="",n=null;do t+=Kt(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var bn=Object.prototype.hasOwnProperty,wn=D.unstable_scheduleCallback,xt=D.unstable_cancelCallback,Bt=D.unstable_shouldYield,Ct=D.unstable_requestPaint,nn=D.unstable_now,mt=D.unstable_getCurrentPriorityLevel,rt=D.unstable_ImmediatePriority,bt=D.unstable_UserBlockingPriority,Ht=D.unstable_NormalPriority,rn=D.unstable_LowPriority,Et=D.unstable_IdlePriority,jt=D.log,Ft=D.unstable_setDisableYieldValue,Nt=null,Wt=null;function hn(e){if(typeof jt=="function"&&Ft(e),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Nt,e)}catch{}}var M=Math.clz32?Math.clz32:ot,Fe=Math.log,Ze=Math.LN2;function ot(e){return e>>>=0,e===0?32:31-(Fe(e)/Ze|0)|0}var X=256,Be=262144,g=4194304;function R(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Z(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var U=a&134217727;return U!==0?(a=U&~h,a!==0?o=R(a):(S&=U,S!==0?o=R(S):n||(n=U&~e,n!==0&&(o=R(n))))):(U=a&~h,U!==0?o=R(U):S!==0?o=R(S):n||(n=a&~e,n!==0&&(o=R(n)))),o===0?0:t!==0&&t!==o&&(t&h)===0&&(h=o&-o,n=t&-t,h>=n||h===32&&(n&4194048)!==0)?t:o}function m(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ge(){var e=g;return g<<=1,(g&62914560)===0&&(g=4194304),e}function L(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ee(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n,a,o,h){var S=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var U=e.entanglements,ne=e.expirationTimes,Ne=e.hiddenUpdates;for(n=S&~n;0<n;){var Ue=31-M(n),Ge=1<<Ue;U[Ue]=0,ne[Ue]=-1;var Re=Ne[Ue];if(Re!==null)for(Ne[Ue]=null,Ue=0;Ue<Re.length;Ue++){var ke=Re[Ue];ke!==null&&(ke.lane&=-536870913)}n&=~Ge}a!==0&&lt(e,a,0),h!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~t))}function lt(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-M(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function Ve(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-M(n),o=1<<a;o&t|e[a]&t&&(e[a]|=t),n&=~o}}function Je(e,t){var n=t&-t;return n=(n&42)!==0?1:zt(n),(n&(e.suspendedLanes|t))!==0?0:n}function zt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yt(){var e=be.p;return e!==0?e:(e=window.event,e===void 0?32:Ev(e.type))}function Lt(e,t){var n=be.p;try{return be.p=e,t()}finally{be.p=n}}var sn=Math.random().toString(36).slice(2),St="__reactFiber$"+sn,Jt="__reactProps$"+sn,An="__reactContainer$"+sn,ai="__reactEvents$"+sn,Mn="__reactListeners$"+sn,jn="__reactHandles$"+sn,Un="__reactResources$"+sn,qn="__reactMarker$"+sn;function ii(e){delete e[St],delete e[Jt],delete e[ai],delete e[Mn],delete e[jn]}function Si(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[An]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uv(e);e!==null;){if(n=e[St])return n;e=uv(e)}return t}e=n,n=e.parentNode}return null}function En(e){if(e=e[St]||e[An]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Vn(e){var t=e[Un];return t||(t=e[Un]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Gn(e){e[qn]=!0}var vi=new Set,gr={};function mi(e,t){Ci(e,t),Ci(e+"Capture",t)}function Ci(e,t){for(gr[e]=t,e=0;e<t.length;e++)vi.add(t[e])}var $i=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ca={},er={};function Qa(e){return bn.call(er,e)?!0:bn.call(Ca,e)?!1:$i.test(e)?er[e]=!0:(Ca[e]=!0,!1)}function Zt(e,t,n){if(Qa(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function q(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ie(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Y(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function me(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function we(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,h=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(S){n=""+S,h.call(this,S)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(S){n=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ve(e){if(!e._valueTracker){var t=me(e)?"checked":"value";e._valueTracker=we(e,t,""+e[t])}}function qe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=me(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function ze(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var et=/[\n"\\]/g;function Ke(e){return e.replace(et,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function tt(e,t,n,a,o,h,S,U){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Y(t)):e.value!==""+Y(t)&&(e.value=""+Y(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?It(e,S,Y(t)):n!=null?It(e,S,Y(n)):a!=null&&e.removeAttribute("value"),o==null&&h!=null&&(e.defaultChecked=!!h),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?e.name=""+Y(U):e.removeAttribute("name")}function wt(e,t,n,a,o,h,S,U){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||n!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){ve(e);return}n=n!=null?""+Y(n):"",t=t!=null?""+Y(t):n,U||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=U?e.checked:!!a,e.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ve(e)}function It(e,t,n){t==="number"&&ze(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Xt(e,t,n,a){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function dn(e,t,n){if(t!=null&&(t=""+Y(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Y(n):""}function Nn(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(s(92));if(Le(a)){if(1<a.length)throw Error(s(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Y(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),ve(e)}function _n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $t(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||gi.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function yr(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&n[o]!==a&&$t(e,o,a)}else for(var h in t)t.hasOwnProperty(h)&&$t(e,h,t[h])}function Ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zi(e){return yi.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bi(){}var Ai=null;function Wa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var br=null,In=null;function Li(e){var t=En(e);if(t&&(e=t.stateNode)){var n=e[Jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(tt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ke(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var o=a[Jt]||null;if(!o)throw Error(s(90));tt(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&qe(a)}break e;case"textarea":dn(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Xt(e,!!n.multiple,t,!1)}}}var wr=!1;function Kr(e,t,n){if(wr)return e(t,n);wr=!0;try{var a=e(t);return a}finally{if(wr=!1,(br!==null||In!==null)&&(ql(),br&&(t=br,e=In,In=br=null,Li(t),e)))for(t=0;t<e.length;t++)Li(e[t])}}function _r(e,t){var n=e.stateNode;if(n===null)return null;var a=n[Jt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qs=!1;if(si)try{var wi={};Object.defineProperty(wi,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{Qs=!1}var Pi=null,Ja=null,Zr=null;function Xr(){if(Zr)return Zr;var e,t=Ja,n=t.length,a,o="value"in Pi?Pi.value:Pi.textContent,h=o.length;for(e=0;e<n&&t[e]===o[e];e++);var S=n-e;for(a=1;a<=S&&t[n-a]===o[h-a];a++);return Zr=o.slice(e,1<a?1-a:void 0)}function Qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Oa(){return!0}function Wu(){return!1}function Jn(e){function t(n,a,o,h,S){this._reactName=n,this._targetInst=o,this.type=a,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var U in e)e.hasOwnProperty(U)&&(n=e[U],this[U]=n?n(h):h[U]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Oa:Wu,this.isPropagationStopped=Wu,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),t}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Jn(xr),ur=_({},xr,{view:0,detail:0}),es=Jn(ur),Ra,Ws,ka,ts=_({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ka&&(ka&&e.type==="mousemove"?(Ra=e.screenX-ka.screenX,Ws=e.screenY-ka.screenY):Ws=Ra=0,ka=e),Ra)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),ns=Jn(ts),Js=_({},ts,{dataTransfer:0}),Ju=Jn(Js),is=_({},ur,{relatedTarget:0}),Wr=Jn(is),rs=_({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),$u=Jn(rs),Co=_({},xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jr=Jn(Co),$s=_({},xr,{data:0}),as=Jn($s),eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ui={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ba(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ui[e])?!!t[e]:!1}function Er(){return Ba}var el=_({},ur,{key:function(e){if(e.key){var t=eu[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?Qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ss=Jn(el),tl=_({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=Jn(tl),us=_({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),iu=Jn(us),Sr=_({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ru=Jn(Sr),au=_({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ls=Jn(au),su=_({},xr,{newState:0,oldState:0}),nl=Jn(su),To=[9,13,27,32],za=si&&"CompositionEvent"in window,lr=null;si&&"documentMode"in document&&(lr=document.documentMode);var No=si&&"TextEvent"in window&&!lr,os=si&&(!za||lr&&8<lr&&11>=lr),cs=" ",il=!1;function uu(e,t){switch(e){case"keyup":return To.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ar=!1;function al(e,t){switch(e){case"compositionend":return rl(t);case"keypress":return t.which!==32?null:(il=!0,cs);case"textInput":return e=t.data,e===cs&&il?null:e;default:return null}}function Oo(e,t){if(Ar)return e==="compositionend"||!za&&uu(e,t)?(e=Xr(),Zr=Ja=Pi=null,Ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return os&&t.locale!=="ko"?null:t.data;default:return null}}var sl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sl[e.type]:t==="textarea"}function lu(e,t,n,a){br?In?In.push(a):In=[a]:br=a,t=Vl(t,"onChange"),0<t.length&&(n=new $a("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $r=null,La=null;function Ro(e){Kp(e,0)}function hs(e){var t=pi(e);if(qe(t))return e}function Ma(e,t){if(e==="change")return t}var Gi=!1;if(si){var Fn;if(si){var ea="oninput"in document;if(!ea){var Dr=document.createElement("div");Dr.setAttribute("oninput","return;"),ea=typeof Dr.oninput=="function"}Fn=ea}else Fn=!1;Gi=Fn&&(!document.documentMode||9<document.documentMode)}function ul(){$r&&($r.detachEvent("onpropertychange",ds),La=$r=null)}function ds(e){if(e.propertyName==="value"&&hs(La)){var t=[];lu(t,La,e,Wa(e)),Kr(Ro,t)}}function ll(e,t,n){e==="focusin"?(ul(),$r=t,La=n,$r.attachEvent("onpropertychange",ds)):e==="focusout"&&ul()}function Cr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hs(La)}function ou(e,t){if(e==="click")return hs(t)}function ta(e,t){if(e==="input"||e==="change")return hs(t)}function or(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _i=typeof Object.is=="function"?Object.is:or;function l(e,t){if(_i(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var o=n[a];if(!bn.call(t,o)||!_i(e[o],t[o]))return!1}return!0}function d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function b(e,t){var n=d(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d(n)}}function E(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function N(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ze(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ze(e.document)}return t}function z(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var P=si&&"documentMode"in document&&11>=document.documentMode,K=null,se=null,_e=null,ue=!1;function re(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ue||K==null||K!==ze(a)||(a=K,"selectionStart"in a&&z(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),_e&&l(_e,a)||(_e=a,a=Vl(se,"onSelect"),0<a.length&&(t=new $a("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=K)))}function fe(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var de={animationend:fe("Animation","AnimationEnd"),animationiteration:fe("Animation","AnimationIteration"),animationstart:fe("Animation","AnimationStart"),transitionrun:fe("Transition","TransitionRun"),transitionstart:fe("Transition","TransitionStart"),transitioncancel:fe("Transition","TransitionCancel"),transitionend:fe("Transition","TransitionEnd")},le={},oe={};si&&(oe=document.createElement("div").style,"AnimationEvent"in window||(delete de.animationend.animation,delete de.animationiteration.animation,delete de.animationstart.animation),"TransitionEvent"in window||delete de.transitionend.transition);function Ae(e){if(le[e])return le[e];if(!de[e])return e;var t=de[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oe)return le[e]=t[n];return e}var Oe=Ae("animationend"),xe=Ae("animationiteration"),je=Ae("animationstart"),Xe=Ae("transitionrun"),at=Ae("transitionstart"),st=Ae("transitioncancel"),Qe=Ae("transitionend"),gt=new Map,ft="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ft.push("scrollEnd");function We(e,t){gt.set(e,t),mi(t,[e])}var yt=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qt=[],an=0,Ot=0;function Pt(){for(var e=an,t=Ot=an=0;t<e;){var n=qt[t];qt[t++]=null;var a=qt[t];qt[t++]=null;var o=qt[t];qt[t++]=null;var h=qt[t];if(qt[t++]=null,a!==null&&o!==null){var S=a.pending;S===null?o.next=o:(o.next=S.next,S.next=o),a.pending=o}h!==0&&cr(n,o,h)}}function On(e,t,n,a){qt[an++]=e,qt[an++]=t,qt[an++]=n,qt[an++]=a,Ot|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function xi(e,t,n,a){return On(e,t,n,a),na(e)}function Sn(e,t){return On(e,null,null,t),na(e)}function cr(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var o=!1,h=e.return;h!==null;)h.childLanes|=n,a=h.alternate,a!==null&&(a.childLanes|=n),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(o=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,o&&t!==null&&(o=31-M(n),e=h.hiddenUpdates,a=e[o],a===null?e[o]=[t]:a.push(t),t.lane=n|536870912),h):null}function na(e){if(50<Ru)throw Ru=0,Ic=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ps={};function Eg(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(e,t,n,a){return new Eg(e,t,n,a)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tr(e,t){var n=e.alternate;return n===null?(n=Mi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Nh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ol(e,t,n,a,o,h){var S=0;if(a=e,typeof e=="function")ko(e)&&(S=1);else if(typeof e=="string")S=T0(e,n,Me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=Mi(31,n,t,o),e.elementType=Q,e.lanes=h,e;case B:return ja(n.children,o,h,t);case w:S=8,o|=24;break;case A:return e=Mi(12,n,t,o|2),e.elementType=A,e.lanes=h,e;case k:return e=Mi(13,n,t,o),e.elementType=k,e.lanes=h,e;case I:return e=Mi(19,n,t,o),e.elementType=I,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:S=10;break e;case C:S=9;break e;case F:S=11;break e;case G:S=14;break e;case W:S=16,a=null;break e}S=29,n=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=Mi(S,n,t,o),t.elementType=e,t.type=a,t.lanes=h,t}function ja(e,t,n,a){return e=Mi(7,e,a,t),e.lanes=n,e}function Bo(e,t,n){return e=Mi(6,e,null,t),e.lanes=n,e}function Oh(e){var t=Mi(18,null,null,0);return t.stateNode=e,t}function zo(e,t,n){return t=Mi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Rh=new WeakMap;function Yi(e,t){if(typeof e=="object"&&e!==null){var n=Rh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:on(t)},Rh.set(e,t),t)}return{value:e,source:t,stack:on(t)}}var vs=[],ms=0,cl=null,cu=0,Vi=[],Ki=0,ia=null,fr=1,hr="";function Nr(e,t){vs[ms++]=cu,vs[ms++]=cl,cl=e,cu=t}function kh(e,t,n){Vi[Ki++]=fr,Vi[Ki++]=hr,Vi[Ki++]=ia,ia=e;var a=fr;e=hr;var o=32-M(a)-1;a&=~(1<<o),n+=1;var h=32-M(t)+o;if(30<h){var S=o-o%5;h=(a&(1<<S)-1).toString(32),a>>=S,o-=S,fr=1<<32-M(t)+o|n<<o|a,hr=h+e}else fr=1<<h|n<<o|a,hr=e}function Lo(e){e.return!==null&&(Nr(e,1),kh(e,1,0))}function Mo(e){for(;e===cl;)cl=vs[--ms],vs[ms]=null,cu=vs[--ms],vs[ms]=null;for(;e===ia;)ia=Vi[--Ki],Vi[Ki]=null,hr=Vi[--Ki],Vi[Ki]=null,fr=Vi[--Ki],Vi[Ki]=null}function Bh(e,t){Vi[Ki++]=fr,Vi[Ki++]=hr,Vi[Ki++]=ia,fr=t.id,hr=t.overflow,ia=e}var oi=null,Hn=null,pn=!1,ra=null,Zi=!1,jo=Error(s(519));function aa(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(Yi(t,e)),jo}function zh(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[St]=e,t[Jt]=a,n){case"dialog":ln("cancel",t),ln("close",t);break;case"iframe":case"object":case"embed":ln("load",t);break;case"video":case"audio":for(n=0;n<Bu.length;n++)ln(Bu[n],t);break;case"source":ln("error",t);break;case"img":case"image":case"link":ln("error",t),ln("load",t);break;case"details":ln("toggle",t);break;case"input":ln("invalid",t),wt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ln("invalid",t);break;case"textarea":ln("invalid",t),Nn(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||Wp(t.textContent,n)?(a.popover!=null&&(ln("beforetoggle",t),ln("toggle",t)),a.onScroll!=null&&ln("scroll",t),a.onScrollEnd!=null&&ln("scrollend",t),a.onClick!=null&&(t.onclick=bi),t=!0):t=!1,t||aa(e,!0)}function Lh(e){for(oi=e.return;oi;)switch(oi.tag){case 5:case 31:case 13:Zi=!1;return;case 27:case 3:Zi=!0;return;default:oi=oi.return}}function gs(e){if(e!==oi)return!1;if(!pn)return Lh(e),pn=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||tf(e.type,e.memoizedProps)),n=!n),n&&Hn&&aa(e),Lh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Hn=sv(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Hn=sv(e)}else t===27?(t=Hn,ba(e.type)?(e=uf,uf=null,Hn=e):Hn=t):Hn=oi?Qi(e.stateNode.nextSibling):null;return!0}function Ua(){Hn=oi=null,pn=!1}function Uo(){var e=ra;return e!==null&&(Ri===null?Ri=e:Ri.push.apply(Ri,e),ra=null),e}function fu(e){ra===null?ra=[e]:ra.push(e)}var qo=V(null),qa=null,Or=null;function sa(e,t,n){Pe(qo,t._currentValue),t._currentValue=n}function Rr(e){e._currentValue=qo.current,pe(qo)}function Io(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t,n,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){var S=o.child;h=h.firstContext;e:for(;h!==null;){var U=h;h=o;for(var ne=0;ne<t.length;ne++)if(U.context===t[ne]){h.lanes|=n,U=h.alternate,U!==null&&(U.lanes|=n),Io(h.return,n,e),a||(S=null);break e}h=U.next}}else if(o.tag===18){if(S=o.return,S===null)throw Error(s(341));S.lanes|=n,h=S.alternate,h!==null&&(h.lanes|=n),Io(S,n,e),S=null}else S=o.child;if(S!==null)S.return=o;else for(S=o;S!==null;){if(S===e){S=null;break}if(o=S.sibling,o!==null){o.return=S.return,S=o;break}S=S.return}o=S}}function ys(e,t,n,a){e=null;for(var o=t,h=!1;o!==null;){if(!h){if((o.flags&524288)!==0)h=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var S=o.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var U=o.type;_i(o.pendingProps.value,S.value)||(e!==null?e.push(U):e=[U])}}else if(o===vt.current){if(S=o.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Uu):e=[Uu])}o=o.return}e!==null&&Fo(t,e,n,a),t.flags|=262144}function fl(e){for(e=e.firstContext;e!==null;){if(!_i(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){qa=e,Or=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ci(e){return Mh(qa,e)}function hl(e,t){return qa===null&&Ia(e),Mh(e,t)}function Mh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Or===null){if(e===null)throw Error(s(308));Or=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Or=Or.next=t;return n}var Sg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ag=D.unstable_scheduleCallback,Dg=D.unstable_NormalPriority,$n={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ho(){return{controller:new Sg,data:new Map,refCount:0}}function hu(e){e.refCount--,e.refCount===0&&Ag(Dg,function(){e.controller.abort()})}var du=null,Po=0,bs=0,ws=null;function Cg(e,t){if(du===null){var n=du=[];Po=0,bs=Vc(),ws={status:"pending",value:void 0,then:function(a){n.push(a)}}}return Po++,t.then(jh,jh),t}function jh(){if(--Po===0&&du!==null){ws!==null&&(ws.status="fulfilled");var e=du;du=null,bs=0,ws=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Tg(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),a}var Uh=ae.S;ae.S=function(e,t){_p=nn(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Cg(e,t),Uh!==null&&Uh(e,t)};var Fa=V(null);function Go(){var e=Fa.current;return e!==null?e:zn.pooledCache}function dl(e,t){t===null?Pe(Fa,Fa.current):Pe(Fa,t.pool)}function qh(){var e=Go();return e===null?null:{parent:$n._currentValue,pool:e}}var _s=Error(s(460)),Yo=Error(s(474)),pl=Error(s(542)),vl={then:function(){}};function Ih(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(bi,bi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ph(e),e;default:if(typeof t.status=="string")t.then(bi,bi);else{if(e=zn,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ph(e),e}throw Pa=t,_s}}function Ha(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Pa=n,_s):n}}var Pa=null;function Hh(){if(Pa===null)throw Error(s(459));var e=Pa;return Pa=null,e}function Ph(e){if(e===_s||e===pl)throw Error(s(483))}var xs=null,pu=0;function ml(e){var t=pu;return pu+=1,xs===null&&(xs=[]),Fh(xs,e,t)}function vu(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gl(e,t){throw t.$$typeof===O?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gh(e){function t(ye,he){if(e){var Te=ye.deletions;Te===null?(ye.deletions=[he],ye.flags|=16):Te.push(he)}}function n(ye,he){if(!e)return null;for(;he!==null;)t(ye,he),he=he.sibling;return null}function a(ye){for(var he=new Map;ye!==null;)ye.key!==null?he.set(ye.key,ye):he.set(ye.index,ye),ye=ye.sibling;return he}function o(ye,he){return ye=Tr(ye,he),ye.index=0,ye.sibling=null,ye}function h(ye,he,Te){return ye.index=Te,e?(Te=ye.alternate,Te!==null?(Te=Te.index,Te<he?(ye.flags|=67108866,he):Te):(ye.flags|=67108866,he)):(ye.flags|=1048576,he)}function S(ye){return e&&ye.alternate===null&&(ye.flags|=67108866),ye}function U(ye,he,Te,He){return he===null||he.tag!==6?(he=Bo(Te,ye.mode,He),he.return=ye,he):(he=o(he,Te),he.return=ye,he)}function ne(ye,he,Te,He){var Rt=Te.type;return Rt===B?Ue(ye,he,Te.props.children,He,Te.key):he!==null&&(he.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===W&&Ha(Rt)===he.type)?(he=o(he,Te.props),vu(he,Te),he.return=ye,he):(he=ol(Te.type,Te.key,Te.props,null,ye.mode,He),vu(he,Te),he.return=ye,he)}function Ne(ye,he,Te,He){return he===null||he.tag!==4||he.stateNode.containerInfo!==Te.containerInfo||he.stateNode.implementation!==Te.implementation?(he=zo(Te,ye.mode,He),he.return=ye,he):(he=o(he,Te.children||[]),he.return=ye,he)}function Ue(ye,he,Te,He,Rt){return he===null||he.tag!==7?(he=ja(Te,ye.mode,He,Rt),he.return=ye,he):(he=o(he,Te),he.return=ye,he)}function Ge(ye,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=Bo(""+he,ye.mode,Te),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case T:return Te=ol(he.type,he.key,he.props,null,ye.mode,Te),vu(Te,he),Te.return=ye,Te;case H:return he=zo(he,ye.mode,Te),he.return=ye,he;case W:return he=Ha(he),Ge(ye,he,Te)}if(Le(he)||ce(he))return he=ja(he,ye.mode,Te,null),he.return=ye,he;if(typeof he.then=="function")return Ge(ye,ml(he),Te);if(he.$$typeof===j)return Ge(ye,hl(ye,he),Te);gl(ye,he)}return null}function Re(ye,he,Te,He){var Rt=he!==null?he.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Rt!==null?null:U(ye,he,""+Te,He);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:return Te.key===Rt?ne(ye,he,Te,He):null;case H:return Te.key===Rt?Ne(ye,he,Te,He):null;case W:return Te=Ha(Te),Re(ye,he,Te,He)}if(Le(Te)||ce(Te))return Rt!==null?null:Ue(ye,he,Te,He,null);if(typeof Te.then=="function")return Re(ye,he,ml(Te),He);if(Te.$$typeof===j)return Re(ye,he,hl(ye,Te),He);gl(ye,Te)}return null}function ke(ye,he,Te,He,Rt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return ye=ye.get(Te)||null,U(he,ye,""+He,Rt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case T:return ye=ye.get(He.key===null?Te:He.key)||null,ne(he,ye,He,Rt);case H:return ye=ye.get(He.key===null?Te:He.key)||null,Ne(he,ye,He,Rt);case W:return He=Ha(He),ke(ye,he,Te,He,Rt)}if(Le(He)||ce(He))return ye=ye.get(Te)||null,Ue(he,ye,He,Rt,null);if(typeof He.then=="function")return ke(ye,he,Te,ml(He),Rt);if(He.$$typeof===j)return ke(ye,he,Te,hl(he,He),Rt);gl(he,He)}return null}function _t(ye,he,Te,He){for(var Rt=null,gn=null,Dt=he,en=he=0,fn=null;Dt!==null&&en<Te.length;en++){Dt.index>en?(fn=Dt,Dt=null):fn=Dt.sibling;var yn=Re(ye,Dt,Te[en],He);if(yn===null){Dt===null&&(Dt=fn);break}e&&Dt&&yn.alternate===null&&t(ye,Dt),he=h(yn,he,en),gn===null?Rt=yn:gn.sibling=yn,gn=yn,Dt=fn}if(en===Te.length)return n(ye,Dt),pn&&Nr(ye,en),Rt;if(Dt===null){for(;en<Te.length;en++)Dt=Ge(ye,Te[en],He),Dt!==null&&(he=h(Dt,he,en),gn===null?Rt=Dt:gn.sibling=Dt,gn=Dt);return pn&&Nr(ye,en),Rt}for(Dt=a(Dt);en<Te.length;en++)fn=ke(Dt,ye,en,Te[en],He),fn!==null&&(e&&fn.alternate!==null&&Dt.delete(fn.key===null?en:fn.key),he=h(fn,he,en),gn===null?Rt=fn:gn.sibling=fn,gn=fn);return e&&Dt.forEach(function(Sa){return t(ye,Sa)}),pn&&Nr(ye,en),Rt}function Mt(ye,he,Te,He){if(Te==null)throw Error(s(151));for(var Rt=null,gn=null,Dt=he,en=he=0,fn=null,yn=Te.next();Dt!==null&&!yn.done;en++,yn=Te.next()){Dt.index>en?(fn=Dt,Dt=null):fn=Dt.sibling;var Sa=Re(ye,Dt,yn.value,He);if(Sa===null){Dt===null&&(Dt=fn);break}e&&Dt&&Sa.alternate===null&&t(ye,Dt),he=h(Sa,he,en),gn===null?Rt=Sa:gn.sibling=Sa,gn=Sa,Dt=fn}if(yn.done)return n(ye,Dt),pn&&Nr(ye,en),Rt;if(Dt===null){for(;!yn.done;en++,yn=Te.next())yn=Ge(ye,yn.value,He),yn!==null&&(he=h(yn,he,en),gn===null?Rt=yn:gn.sibling=yn,gn=yn);return pn&&Nr(ye,en),Rt}for(Dt=a(Dt);!yn.done;en++,yn=Te.next())yn=ke(Dt,ye,en,yn.value,He),yn!==null&&(e&&yn.alternate!==null&&Dt.delete(yn.key===null?en:yn.key),he=h(yn,he,en),gn===null?Rt=yn:gn.sibling=yn,gn=yn);return e&&Dt.forEach(function(q0){return t(ye,q0)}),pn&&Nr(ye,en),Rt}function Bn(ye,he,Te,He){if(typeof Te=="object"&&Te!==null&&Te.type===B&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:e:{for(var Rt=Te.key;he!==null;){if(he.key===Rt){if(Rt=Te.type,Rt===B){if(he.tag===7){n(ye,he.sibling),He=o(he,Te.props.children),He.return=ye,ye=He;break e}}else if(he.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===W&&Ha(Rt)===he.type){n(ye,he.sibling),He=o(he,Te.props),vu(He,Te),He.return=ye,ye=He;break e}n(ye,he);break}else t(ye,he);he=he.sibling}Te.type===B?(He=ja(Te.props.children,ye.mode,He,Te.key),He.return=ye,ye=He):(He=ol(Te.type,Te.key,Te.props,null,ye.mode,He),vu(He,Te),He.return=ye,ye=He)}return S(ye);case H:e:{for(Rt=Te.key;he!==null;){if(he.key===Rt)if(he.tag===4&&he.stateNode.containerInfo===Te.containerInfo&&he.stateNode.implementation===Te.implementation){n(ye,he.sibling),He=o(he,Te.children||[]),He.return=ye,ye=He;break e}else{n(ye,he);break}else t(ye,he);he=he.sibling}He=zo(Te,ye.mode,He),He.return=ye,ye=He}return S(ye);case W:return Te=Ha(Te),Bn(ye,he,Te,He)}if(Le(Te))return _t(ye,he,Te,He);if(ce(Te)){if(Rt=ce(Te),typeof Rt!="function")throw Error(s(150));return Te=Rt.call(Te),Mt(ye,he,Te,He)}if(typeof Te.then=="function")return Bn(ye,he,ml(Te),He);if(Te.$$typeof===j)return Bn(ye,he,hl(ye,Te),He);gl(ye,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,he!==null&&he.tag===6?(n(ye,he.sibling),He=o(he,Te),He.return=ye,ye=He):(n(ye,he),He=Bo(Te,ye.mode,He),He.return=ye,ye=He),S(ye)):n(ye,he)}return function(ye,he,Te,He){try{pu=0;var Rt=Bn(ye,he,Te,He);return xs=null,Rt}catch(Dt){if(Dt===_s||Dt===pl)throw Dt;var gn=Mi(29,Dt,null,ye.mode);return gn.lanes=He,gn.return=ye,gn}finally{}}}var Ga=Gh(!0),Yh=Gh(!1),ua=!1;function Vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ko(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function la(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(xn&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=na(e),cr(e,null,n),t}return On(e,a,t,n),na(e)}function mu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ve(e,n)}}function Zo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var o=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var S={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};h===null?o=h=S:h=h.next=S,n=n.next}while(n!==null);h===null?o=h=t:h=h.next=t}else o=h=t;n={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Xo=!1;function gu(){if(Xo){var e=ws;if(e!==null)throw e}}function yu(e,t,n,a){Xo=!1;var o=e.updateQueue;ua=!1;var h=o.firstBaseUpdate,S=o.lastBaseUpdate,U=o.shared.pending;if(U!==null){o.shared.pending=null;var ne=U,Ne=ne.next;ne.next=null,S===null?h=Ne:S.next=Ne,S=ne;var Ue=e.alternate;Ue!==null&&(Ue=Ue.updateQueue,U=Ue.lastBaseUpdate,U!==S&&(U===null?Ue.firstBaseUpdate=Ne:U.next=Ne,Ue.lastBaseUpdate=ne))}if(h!==null){var Ge=o.baseState;S=0,Ue=Ne=ne=null,U=h;do{var Re=U.lane&-536870913,ke=Re!==U.lane;if(ke?(cn&Re)===Re:(a&Re)===Re){Re!==0&&Re===bs&&(Xo=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var _t=e,Mt=U;Re=t;var Bn=n;switch(Mt.tag){case 1:if(_t=Mt.payload,typeof _t=="function"){Ge=_t.call(Bn,Ge,Re);break e}Ge=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Mt.payload,Re=typeof _t=="function"?_t.call(Bn,Ge,Re):_t,Re==null)break e;Ge=_({},Ge,Re);break e;case 2:ua=!0}}Re=U.callback,Re!==null&&(e.flags|=64,ke&&(e.flags|=8192),ke=o.callbacks,ke===null?o.callbacks=[Re]:ke.push(Re))}else ke={lane:Re,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ue===null?(Ne=Ue=ke,ne=Ge):Ue=Ue.next=ke,S|=Re;if(U=U.next,U===null){if(U=o.shared.pending,U===null)break;ke=U,U=ke.next,ke.next=null,o.lastBaseUpdate=ke,o.shared.pending=null}}while(!0);Ue===null&&(ne=Ge),o.baseState=ne,o.firstBaseUpdate=Ne,o.lastBaseUpdate=Ue,h===null&&(o.shared.lanes=0),pa|=S,e.lanes=S,e.memoizedState=Ge}}function Vh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Kh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Vh(n[e],t)}var Es=V(null),yl=V(0);function Zh(e,t){e=Ir,Pe(yl,e),Pe(Es,t),Ir=e|t.baseLanes}function Qo(){Pe(yl,Ir),Pe(Es,Es.current)}function Wo(){Ir=yl.current,pe(Es),pe(yl)}var ji=V(null),Xi=null;function ca(e){var t=e.alternate;Pe(Qn,Qn.current&1),Pe(ji,e),Xi===null&&(t===null||Es.current!==null||t.memoizedState!==null)&&(Xi=e)}function Jo(e){Pe(Qn,Qn.current),Pe(ji,e),Xi===null&&(Xi=e)}function Xh(e){e.tag===22?(Pe(Qn,Qn.current),Pe(ji,e),Xi===null&&(Xi=e)):fa()}function fa(){Pe(Qn,Qn.current),Pe(ji,ji.current)}function Ui(e){pe(ji),Xi===e&&(Xi=null),pe(Qn)}var Qn=V(0);function bl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||af(n)||sf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kr=0,Qt=null,Rn=null,ei=null,wl=!1,Ss=!1,Ya=!1,_l=0,bu=0,As=null,Ng=0;function Kn(){throw Error(s(321))}function $o(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_i(e[n],t[n]))return!1;return!0}function ec(e,t,n,a,o,h){return kr=h,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ae.H=e===null||e.memoizedState===null?kd:vc,Ya=!1,h=n(a,o),Ya=!1,Ss&&(h=Wh(t,n,a,o)),Qh(e),h}function Qh(e){ae.H=xu;var t=Rn!==null&&Rn.next!==null;if(kr=0,ei=Rn=Qt=null,wl=!1,bu=0,As=null,t)throw Error(s(300));e===null||ti||(e=e.dependencies,e!==null&&fl(e)&&(ti=!0))}function Wh(e,t,n,a){Qt=e;var o=0;do{if(Ss&&(As=null),bu=0,Ss=!1,25<=o)throw Error(s(301));if(o+=1,ei=Rn=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}ae.H=Bd,h=t(n,a)}while(Ss);return h}function Og(){var e=ae.H,t=e.useState()[0];return t=typeof t.then=="function"?wu(t):t,e=e.useState()[0],(Rn!==null?Rn.memoizedState:null)!==e&&(Qt.flags|=1024),t}function tc(){var e=_l!==0;return _l=0,e}function nc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ic(e){if(wl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wl=!1}kr=0,ei=Rn=Qt=null,Ss=!1,bu=_l=0,As=null}function Di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?Qt.memoizedState=ei=e:ei=ei.next=e,ei}function Wn(){if(Rn===null){var e=Qt.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=ei===null?Qt.memoizedState:ei.next;if(t!==null)ei=t,Rn=e;else{if(e===null)throw Qt.alternate===null?Error(s(467)):Error(s(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},ei===null?Qt.memoizedState=ei=e:ei=ei.next=e}return ei}function xl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wu(e){var t=bu;return bu+=1,As===null&&(As=[]),e=Fh(As,e,t),t=Qt,(ei===null?t.memoizedState:ei.next)===null&&(t=t.alternate,ae.H=t===null||t.memoizedState===null?kd:vc),e}function El(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wu(e);if(e.$$typeof===j)return ci(e)}throw Error(s(438,String(e)))}function rc(e){var t=null,n=Qt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=Qt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=xl(),Qt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=J;return t.index++,n}function Br(e,t){return typeof t=="function"?t(e):t}function Sl(e){var t=Wn();return ac(t,Rn,e)}function ac(e,t,n){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var o=e.baseQueue,h=a.pending;if(h!==null){if(o!==null){var S=o.next;o.next=h.next,h.next=S}t.baseQueue=o=h,a.pending=null}if(h=e.baseState,o===null)e.memoizedState=h;else{t=o.next;var U=S=null,ne=null,Ne=t,Ue=!1;do{var Ge=Ne.lane&-536870913;if(Ge!==Ne.lane?(cn&Ge)===Ge:(kr&Ge)===Ge){var Re=Ne.revertLane;if(Re===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),Ge===bs&&(Ue=!0);else if((kr&Re)===Re){Ne=Ne.next,Re===bs&&(Ue=!0);continue}else Ge={lane:0,revertLane:Ne.revertLane,gesture:null,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ne===null?(U=ne=Ge,S=h):ne=ne.next=Ge,Qt.lanes|=Re,pa|=Re;Ge=Ne.action,Ya&&n(h,Ge),h=Ne.hasEagerState?Ne.eagerState:n(h,Ge)}else Re={lane:Ge,revertLane:Ne.revertLane,gesture:Ne.gesture,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null},ne===null?(U=ne=Re,S=h):ne=ne.next=Re,Qt.lanes|=Ge,pa|=Ge;Ne=Ne.next}while(Ne!==null&&Ne!==t);if(ne===null?S=h:ne.next=U,!_i(h,e.memoizedState)&&(ti=!0,Ue&&(n=ws,n!==null)))throw n;e.memoizedState=h,e.baseState=S,e.baseQueue=ne,a.lastRenderedState=h}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function sc(e){var t=Wn(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,o=n.pending,h=t.memoizedState;if(o!==null){n.pending=null;var S=o=o.next;do h=e(h,S.action),S=S.next;while(S!==o);_i(h,t.memoizedState)||(ti=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,a]}function Jh(e,t,n){var a=Qt,o=Wn(),h=pn;if(h){if(n===void 0)throw Error(s(407));n=n()}else n=t();var S=!_i((Rn||o).memoizedState,n);if(S&&(o.memoizedState=n,ti=!0),o=o.queue,oc(td.bind(null,a,o,e),[e]),o.getSnapshot!==t||S||ei!==null&&ei.memoizedState.tag&1){if(a.flags|=2048,Ds(9,{destroy:void 0},ed.bind(null,a,o,n,t),null),zn===null)throw Error(s(349));h||(kr&127)!==0||$h(a,t,n)}return n}function $h(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qt.updateQueue,t===null?(t=xl(),Qt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ed(e,t,n,a){t.value=n,t.getSnapshot=a,nd(t)&&id(e)}function td(e,t,n){return n(function(){nd(t)&&id(e)})}function nd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_i(e,n)}catch{return!0}}function id(e){var t=Sn(e,2);t!==null&&ki(t,e,2)}function uc(e){var t=Di();if(typeof e=="function"){var n=e;if(e=n(),Ya){hn(!0);try{n()}finally{hn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:e},t}function rd(e,t,n,a){return e.baseState=n,ac(e,Rn,typeof a=="function"?a:Br)}function Rg(e,t,n,a,o){if(Cl(e))throw Error(s(485));if(e=t.action,e!==null){var h={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};ae.T!==null?n(!0):h.isTransition=!1,a(h),n=t.pending,n===null?(h.next=t.pending=h,ad(t,h)):(h.next=n.next,t.pending=n.next=h)}}function ad(e,t){var n=t.action,a=t.payload,o=e.state;if(t.isTransition){var h=ae.T,S={};ae.T=S;try{var U=n(o,a),ne=ae.S;ne!==null&&ne(S,U),sd(e,t,U)}catch(Ne){lc(e,t,Ne)}finally{h!==null&&S.types!==null&&(h.types=S.types),ae.T=h}}else try{h=n(o,a),sd(e,t,h)}catch(Ne){lc(e,t,Ne)}}function sd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){ud(e,t,a)},function(a){return lc(e,t,a)}):ud(e,t,n)}function ud(e,t,n){t.status="fulfilled",t.value=n,ld(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ad(e,n)))}function lc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,ld(t),t=t.next;while(t!==a)}e.action=null}function ld(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function od(e,t){return t}function cd(e,t){if(pn){var n=zn.formState;if(n!==null){e:{var a=Qt;if(pn){if(Hn){t:{for(var o=Hn,h=Zi;o.nodeType!==8;){if(!h){o=null;break t}if(o=Qi(o.nextSibling),o===null){o=null;break t}}h=o.data,o=h==="F!"||h==="F"?o:null}if(o){Hn=Qi(o.nextSibling),a=o.data==="F!";break e}}aa(a)}a=!1}a&&(t=n[0])}}return n=Di(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},n.queue=a,n=Nd.bind(null,Qt,a),a.dispatch=n,a=uc(!1),h=pc.bind(null,Qt,!1,a.queue),a=Di(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,n=Rg.bind(null,Qt,o,h,n),o.dispatch=n,a.memoizedState=e,[t,n,!1]}function fd(e){var t=Wn();return hd(t,Rn,e)}function hd(e,t,n){if(t=ac(e,t,od)[0],e=Sl(Br)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=wu(t)}catch(S){throw S===_s?pl:S}else a=t;t=Wn();var o=t.queue,h=o.dispatch;return n!==t.memoizedState&&(Qt.flags|=2048,Ds(9,{destroy:void 0},kg.bind(null,o,n),null)),[a,h,e]}function kg(e,t){e.action=t}function dd(e){var t=Wn(),n=Rn;if(n!==null)return hd(t,n,e);Wn(),t=t.memoizedState,n=Wn();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Ds(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=Qt.updateQueue,t===null&&(t=xl(),Qt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function pd(){return Wn().memoizedState}function Al(e,t,n,a){var o=Di();Qt.flags|=e,o.memoizedState=Ds(1|t,{destroy:void 0},n,a===void 0?null:a)}function Dl(e,t,n,a){var o=Wn();a=a===void 0?null:a;var h=o.memoizedState.inst;Rn!==null&&a!==null&&$o(a,Rn.memoizedState.deps)?o.memoizedState=Ds(t,h,n,a):(Qt.flags|=e,o.memoizedState=Ds(1|t,h,n,a))}function vd(e,t){Al(8390656,8,e,t)}function oc(e,t){Dl(2048,8,e,t)}function Bg(e){Qt.flags|=4;var t=Qt.updateQueue;if(t===null)t=xl(),Qt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function md(e){var t=Wn().memoizedState;return Bg({ref:t,nextImpl:e}),function(){if((xn&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function gd(e,t){return Dl(4,2,e,t)}function yd(e,t){return Dl(4,4,e,t)}function bd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wd(e,t,n){n=n!=null?n.concat([e]):null,Dl(4,4,bd.bind(null,t,e),n)}function cc(){}function _d(e,t){var n=Wn();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&$o(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function xd(e,t){var n=Wn();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&$o(t,a[1]))return a[0];if(a=e(),Ya){hn(!0);try{e()}finally{hn(!1)}}return n.memoizedState=[a,t],a}function fc(e,t,n){return n===void 0||(kr&1073741824)!==0&&(cn&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Ep(),Qt.lanes|=e,pa|=e,n)}function Ed(e,t,n,a){return _i(n,t)?n:Es.current!==null?(e=fc(e,n,a),_i(e,t)||(ti=!0),e):(kr&42)===0||(kr&1073741824)!==0&&(cn&261930)===0?(ti=!0,e.memoizedState=n):(e=Ep(),Qt.lanes|=e,pa|=e,t)}function Sd(e,t,n,a,o){var h=be.p;be.p=h!==0&&8>h?h:8;var S=ae.T,U={};ae.T=U,pc(e,!1,t,n);try{var ne=o(),Ne=ae.S;if(Ne!==null&&Ne(U,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ue=Tg(ne,a);_u(e,t,Ue,Fi(e))}else _u(e,t,a,Fi(e))}catch(Ge){_u(e,t,{then:function(){},status:"rejected",reason:Ge},Fi())}finally{be.p=h,S!==null&&U.types!==null&&(S.types=U.types),ae.T=S}}function zg(){}function hc(e,t,n,a){if(e.tag!==5)throw Error(s(476));var o=Ad(e).queue;Sd(e,o,t,Se,n===null?zg:function(){return Dd(e),n(a)})}function Ad(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:Se},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dd(e){var t=Ad(e);t.next===null&&(t=e.alternate.memoizedState),_u(e,t.next.queue,{},Fi())}function dc(){return ci(Uu)}function Cd(){return Wn().memoizedState}function Td(){return Wn().memoizedState}function Lg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Fi();e=la(n);var a=oa(t,e,n);a!==null&&(ki(a,t,n),mu(a,t,n)),t={cache:Ho()},e.payload=t;return}t=t.return}}function Mg(e,t,n){var a=Fi();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Cl(e)?Od(t,n):(n=xi(e,t,n,a),n!==null&&(ki(n,e,a),Rd(n,t,a)))}function Nd(e,t,n){var a=Fi();_u(e,t,n,a)}function _u(e,t,n,a){var o={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cl(e))Od(t,o);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var S=t.lastRenderedState,U=h(S,n);if(o.hasEagerState=!0,o.eagerState=U,_i(U,S))return On(e,t,o,0),zn===null&&Pt(),!1}catch{}finally{}if(n=xi(e,t,o,a),n!==null)return ki(n,e,a),Rd(n,t,a),!0}return!1}function pc(e,t,n,a){if(a={lane:2,revertLane:Vc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cl(e)){if(t)throw Error(s(479))}else t=xi(e,n,a,2),t!==null&&ki(t,e,2)}function Cl(e){var t=e.alternate;return e===Qt||t!==null&&t===Qt}function Od(e,t){Ss=wl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rd(e,t,n){if((n&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ve(e,n)}}var xu={readContext:ci,use:El,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useLayoutEffect:Kn,useInsertionEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useSyncExternalStore:Kn,useId:Kn,useHostTransitionStatus:Kn,useFormState:Kn,useActionState:Kn,useOptimistic:Kn,useMemoCache:Kn,useCacheRefresh:Kn};xu.useEffectEvent=Kn;var kd={readContext:ci,use:El,useCallback:function(e,t){return Di().memoizedState=[e,t===void 0?null:t],e},useContext:ci,useEffect:vd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Al(4194308,4,bd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){Al(4,2,e,t)},useMemo:function(e,t){var n=Di();t=t===void 0?null:t;var a=e();if(Ya){hn(!0);try{e()}finally{hn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Di();if(n!==void 0){var o=n(t);if(Ya){hn(!0);try{n(t)}finally{hn(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=Mg.bind(null,Qt,e),[a.memoizedState,e]},useRef:function(e){var t=Di();return e={current:e},t.memoizedState=e},useState:function(e){e=uc(e);var t=e.queue,n=Nd.bind(null,Qt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:cc,useDeferredValue:function(e,t){var n=Di();return fc(n,e,t)},useTransition:function(){var e=uc(!1);return e=Sd.bind(null,Qt,e.queue,!0,!1),Di().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Qt,o=Di();if(pn){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),zn===null)throw Error(s(349));(cn&127)!==0||$h(a,t,n)}o.memoizedState=n;var h={value:n,getSnapshot:t};return o.queue=h,vd(td.bind(null,a,h,e),[e]),a.flags|=2048,Ds(9,{destroy:void 0},ed.bind(null,a,h,n,t),null),n},useId:function(){var e=Di(),t=zn.identifierPrefix;if(pn){var n=hr,a=fr;n=(a&~(1<<32-M(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=_l++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Ng++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:dc,useFormState:cd,useActionState:cd,useOptimistic:function(e){var t=Di();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=pc.bind(null,Qt,!0,n),n.dispatch=t,[e,t]},useMemoCache:rc,useCacheRefresh:function(){return Di().memoizedState=Lg.bind(null,Qt)},useEffectEvent:function(e){var t=Di(),n={impl:e};return t.memoizedState=n,function(){if((xn&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},vc={readContext:ci,use:El,useCallback:_d,useContext:ci,useEffect:oc,useImperativeHandle:wd,useInsertionEffect:gd,useLayoutEffect:yd,useMemo:xd,useReducer:Sl,useRef:pd,useState:function(){return Sl(Br)},useDebugValue:cc,useDeferredValue:function(e,t){var n=Wn();return Ed(n,Rn.memoizedState,e,t)},useTransition:function(){var e=Sl(Br)[0],t=Wn().memoizedState;return[typeof e=="boolean"?e:wu(e),t]},useSyncExternalStore:Jh,useId:Cd,useHostTransitionStatus:dc,useFormState:fd,useActionState:fd,useOptimistic:function(e,t){var n=Wn();return rd(n,Rn,e,t)},useMemoCache:rc,useCacheRefresh:Td};vc.useEffectEvent=md;var Bd={readContext:ci,use:El,useCallback:_d,useContext:ci,useEffect:oc,useImperativeHandle:wd,useInsertionEffect:gd,useLayoutEffect:yd,useMemo:xd,useReducer:sc,useRef:pd,useState:function(){return sc(Br)},useDebugValue:cc,useDeferredValue:function(e,t){var n=Wn();return Rn===null?fc(n,e,t):Ed(n,Rn.memoizedState,e,t)},useTransition:function(){var e=sc(Br)[0],t=Wn().memoizedState;return[typeof e=="boolean"?e:wu(e),t]},useSyncExternalStore:Jh,useId:Cd,useHostTransitionStatus:dc,useFormState:dd,useActionState:dd,useOptimistic:function(e,t){var n=Wn();return Rn!==null?rd(n,Rn,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:rc,useCacheRefresh:Td};Bd.useEffectEvent=md;function mc(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Fi(),o=la(a);o.payload=t,n!=null&&(o.callback=n),t=oa(e,o,a),t!==null&&(ki(t,e,a),mu(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Fi(),o=la(a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=oa(e,o,a),t!==null&&(ki(t,e,a),mu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fi(),a=la(n);a.tag=2,t!=null&&(a.callback=t),t=oa(e,a,n),t!==null&&(ki(t,e,n),mu(t,e,n))}};function zd(e,t,n,a,o,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,S):t.prototype&&t.prototype.isPureReactComponent?!l(n,a)||!l(o,h):!0}function Ld(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&gc.enqueueReplaceState(t,t.state,null)}function Va(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Md(e){yt(e)}function jd(e){console.error(e)}function Ud(e){yt(e)}function Tl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function qd(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function yc(e,t,n){return n=la(n),n.tag=3,n.payload={element:null},n.callback=function(){Tl(e,t)},n}function Id(e){return e=la(e),e.tag=3,e}function Fd(e,t,n,a){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var h=a.value;e.payload=function(){return o(h)},e.callback=function(){qd(t,n,a)}}var S=n.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){qd(t,n,a),typeof o!="function"&&(va===null?va=new Set([this]):va.add(this));var U=a.stack;this.componentDidCatch(a.value,{componentStack:U!==null?U:""})})}function jg(e,t,n,a,o){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&ys(t,n,o,!0),n=ji.current,n!==null){switch(n.tag){case 31:case 13:return Xi===null?Il():n.alternate===null&&Zn===0&&(Zn=3),n.flags&=-257,n.flags|=65536,n.lanes=o,a===vl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),Pc(e,a,o)),!1;case 22:return n.flags|=65536,a===vl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),Pc(e,a,o)),!1}throw Error(s(435,n.tag))}return Pc(e,a,o),Il(),!1}if(pn)return t=ji.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==jo&&(e=Error(s(422),{cause:a}),fu(Yi(e,n)))):(a!==jo&&(t=Error(s(423),{cause:a}),fu(Yi(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=Yi(a,n),o=yc(e.stateNode,a,o),Zo(e,o),Zn!==4&&(Zn=2)),!1;var h=Error(s(520),{cause:a});if(h=Yi(h,n),Ou===null?Ou=[h]:Ou.push(h),Zn!==4&&(Zn=2),t===null)return!0;a=Yi(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=yc(n.stateNode,a,e),Zo(n,e),!1;case 1:if(t=n.type,h=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(va===null||!va.has(h))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Id(o),Fd(o,e,n,a),Zo(n,o),!1}n=n.return}while(n!==null);return!1}var bc=Error(s(461)),ti=!1;function fi(e,t,n,a){t.child=e===null?Yh(t,null,n,a):Ga(t,e.child,n,a)}function Hd(e,t,n,a,o){n=n.render;var h=t.ref;if("ref"in a){var S={};for(var U in a)U!=="ref"&&(S[U]=a[U])}else S=a;return Ia(t),a=ec(e,t,n,S,h,o),U=tc(),e!==null&&!ti?(nc(e,t,o),zr(e,t,o)):(pn&&U&&Lo(t),t.flags|=1,fi(e,t,a,o),t.child)}function Pd(e,t,n,a,o){if(e===null){var h=n.type;return typeof h=="function"&&!ko(h)&&h.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=h,Gd(e,t,h,a,o)):(e=ol(n.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Cc(e,o)){var S=h.memoizedProps;if(n=n.compare,n=n!==null?n:l,n(S,a)&&e.ref===t.ref)return zr(e,t,o)}return t.flags|=1,e=Tr(h,a),e.ref=t.ref,e.return=t,t.child=e}function Gd(e,t,n,a,o){if(e!==null){var h=e.memoizedProps;if(l(h,a)&&e.ref===t.ref)if(ti=!1,t.pendingProps=a=h,Cc(e,o))(e.flags&131072)!==0&&(ti=!0);else return t.lanes=e.lanes,zr(e,t,o)}return wc(e,t,n,a,o)}function Yd(e,t,n,a){var o=a.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;a=o&~h}else a=0,t.child=null;return Vd(e,t,h,n,a)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&dl(t,h!==null?h.cachePool:null),h!==null?Zh(t,h):Qo(),Xh(t);else return a=t.lanes=536870912,Vd(e,t,h!==null?h.baseLanes|n:n,n,a)}else h!==null?(dl(t,h.cachePool),Zh(t,h),fa(),t.memoizedState=null):(e!==null&&dl(t,null),Qo(),fa());return fi(e,t,o,n),t.child}function Eu(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vd(e,t,n,a,o){var h=Go();return h=h===null?null:{parent:$n._currentValue,pool:h},t.memoizedState={baseLanes:n,cachePool:h},e!==null&&dl(t,null),Qo(),Xh(t),e!==null&&ys(e,t,a,!0),t.childLanes=o,null}function Nl(e,t){return t=Rl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Kd(e,t,n){return Ga(t,e.child,null,n),e=Nl(t,t.pendingProps),e.flags|=2,Ui(t),t.memoizedState=null,e}function Ug(e,t,n){var a=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(pn){if(a.mode==="hidden")return e=Nl(t,a),t.lanes=536870912,Eu(null,e);if(Jo(t),(e=Hn)?(e=av(e,Zi),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ia!==null?{id:fr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},n=Oh(e),n.return=t,t.child=n,oi=t,Hn=null)):e=null,e===null)throw aa(t);return t.lanes=536870912,null}return Nl(t,a)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(Jo(t),o)if(t.flags&256)t.flags&=-257,t=Kd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(ti||ys(e,t,n,!1),o=(n&e.childLanes)!==0,ti||o){if(a=zn,a!==null&&(S=Je(a,n),S!==0&&S!==h.retryLane))throw h.retryLane=S,Sn(e,S),ki(a,e,S),bc;Il(),t=Kd(e,t,n)}else e=h.treeContext,Hn=Qi(S.nextSibling),oi=t,pn=!0,ra=null,Zi=!1,e!==null&&Bh(t,e),t=Nl(t,a),t.flags|=4096;return t}return e=Tr(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ol(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function wc(e,t,n,a,o){return Ia(t),n=ec(e,t,n,a,void 0,o),a=tc(),e!==null&&!ti?(nc(e,t,o),zr(e,t,o)):(pn&&a&&Lo(t),t.flags|=1,fi(e,t,n,o),t.child)}function Zd(e,t,n,a,o,h){return Ia(t),t.updateQueue=null,n=Wh(t,a,n,o),Qh(e),a=tc(),e!==null&&!ti?(nc(e,t,h),zr(e,t,h)):(pn&&a&&Lo(t),t.flags|=1,fi(e,t,n,h),t.child)}function Xd(e,t,n,a,o){if(Ia(t),t.stateNode===null){var h=ps,S=n.contextType;typeof S=="object"&&S!==null&&(h=ci(S)),h=new n(a,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=gc,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=a,h.state=t.memoizedState,h.refs={},Vo(t),S=n.contextType,h.context=typeof S=="object"&&S!==null?ci(S):ps,h.state=t.memoizedState,S=n.getDerivedStateFromProps,typeof S=="function"&&(mc(t,n,S,a),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&gc.enqueueReplaceState(h,h.state,null),yu(t,a,h,o),gu(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){h=t.stateNode;var U=t.memoizedProps,ne=Va(n,U);h.props=ne;var Ne=h.context,Ue=n.contextType;S=ps,typeof Ue=="object"&&Ue!==null&&(S=ci(Ue));var Ge=n.getDerivedStateFromProps;Ue=typeof Ge=="function"||typeof h.getSnapshotBeforeUpdate=="function",U=t.pendingProps!==U,Ue||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(U||Ne!==S)&&Ld(t,h,a,S),ua=!1;var Re=t.memoizedState;h.state=Re,yu(t,a,h,o),gu(),Ne=t.memoizedState,U||Re!==Ne||ua?(typeof Ge=="function"&&(mc(t,n,Ge,a),Ne=t.memoizedState),(ne=ua||zd(t,n,ne,a,Re,Ne,S))?(Ue||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Ne),h.props=a,h.state=Ne,h.context=S,a=ne):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{h=t.stateNode,Ko(e,t),S=t.memoizedProps,Ue=Va(n,S),h.props=Ue,Ge=t.pendingProps,Re=h.context,Ne=n.contextType,ne=ps,typeof Ne=="object"&&Ne!==null&&(ne=ci(Ne)),U=n.getDerivedStateFromProps,(Ne=typeof U=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==Ge||Re!==ne)&&Ld(t,h,a,ne),ua=!1,Re=t.memoizedState,h.state=Re,yu(t,a,h,o),gu();var ke=t.memoizedState;S!==Ge||Re!==ke||ua||e!==null&&e.dependencies!==null&&fl(e.dependencies)?(typeof U=="function"&&(mc(t,n,U,a),ke=t.memoizedState),(Ue=ua||zd(t,n,Ue,a,Re,ke,ne)||e!==null&&e.dependencies!==null&&fl(e.dependencies))?(Ne||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,ke,ne),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,ke,ne)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&Re===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&Re===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ke),h.props=a,h.state=ke,h.context=ne,a=Ue):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&Re===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&Re===e.memoizedState||(t.flags|=1024),a=!1)}return h=a,Ol(e,t),a=(t.flags&128)!==0,h||a?(h=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&a?(t.child=Ga(t,e.child,null,o),t.child=Ga(t,null,n,o)):fi(e,t,n,o),t.memoizedState=h.state,e=t.child):e=zr(e,t,o),e}function Qd(e,t,n,a){return Ua(),t.flags|=256,fi(e,t,n,a),t.child}var _c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xc(e){return{baseLanes:e,cachePool:qh()}}function Ec(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ii),e}function Wd(e,t,n){var a=t.pendingProps,o=!1,h=(t.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(Qn.current&2)!==0),S&&(o=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(pn){if(o?ca(t):fa(),(e=Hn)?(e=av(e,Zi),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ia!==null?{id:fr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},n=Oh(e),n.return=t,t.child=n,oi=t,Hn=null)):e=null,e===null)throw aa(t);return sf(e)?t.lanes=32:t.lanes=536870912,null}var U=a.children;return a=a.fallback,o?(fa(),o=t.mode,U=Rl({mode:"hidden",children:U},o),a=ja(a,o,n,null),U.return=t,a.return=t,U.sibling=a,t.child=U,a=t.child,a.memoizedState=xc(n),a.childLanes=Ec(e,S,n),t.memoizedState=_c,Eu(null,a)):(ca(t),Sc(t,U))}var ne=e.memoizedState;if(ne!==null&&(U=ne.dehydrated,U!==null)){if(h)t.flags&256?(ca(t),t.flags&=-257,t=Ac(e,t,n)):t.memoizedState!==null?(fa(),t.child=e.child,t.flags|=128,t=null):(fa(),U=a.fallback,o=t.mode,a=Rl({mode:"visible",children:a.children},o),U=ja(U,o,n,null),U.flags|=2,a.return=t,U.return=t,a.sibling=U,t.child=a,Ga(t,e.child,null,n),a=t.child,a.memoizedState=xc(n),a.childLanes=Ec(e,S,n),t.memoizedState=_c,t=Eu(null,a));else if(ca(t),sf(U)){if(S=U.nextSibling&&U.nextSibling.dataset,S)var Ne=S.dgst;S=Ne,a=Error(s(419)),a.stack="",a.digest=S,fu({value:a,source:null,stack:null}),t=Ac(e,t,n)}else if(ti||ys(e,t,n,!1),S=(n&e.childLanes)!==0,ti||S){if(S=zn,S!==null&&(a=Je(S,n),a!==0&&a!==ne.retryLane))throw ne.retryLane=a,Sn(e,a),ki(S,e,a),bc;af(U)||Il(),t=Ac(e,t,n)}else af(U)?(t.flags|=192,t.child=e.child,t=null):(e=ne.treeContext,Hn=Qi(U.nextSibling),oi=t,pn=!0,ra=null,Zi=!1,e!==null&&Bh(t,e),t=Sc(t,a.children),t.flags|=4096);return t}return o?(fa(),U=a.fallback,o=t.mode,ne=e.child,Ne=ne.sibling,a=Tr(ne,{mode:"hidden",children:a.children}),a.subtreeFlags=ne.subtreeFlags&65011712,Ne!==null?U=Tr(Ne,U):(U=ja(U,o,n,null),U.flags|=2),U.return=t,a.return=t,a.sibling=U,t.child=a,Eu(null,a),a=t.child,U=e.child.memoizedState,U===null?U=xc(n):(o=U.cachePool,o!==null?(ne=$n._currentValue,o=o.parent!==ne?{parent:ne,pool:ne}:o):o=qh(),U={baseLanes:U.baseLanes|n,cachePool:o}),a.memoizedState=U,a.childLanes=Ec(e,S,n),t.memoizedState=_c,Eu(e.child,a)):(ca(t),n=e.child,e=n.sibling,n=Tr(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=n,t.memoizedState=null,n)}function Sc(e,t){return t=Rl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Rl(e,t){return e=Mi(22,e,null,t),e.lanes=0,e}function Ac(e,t,n){return Ga(t,e.child,null,n),e=Sc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jd(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Io(e.return,t,n)}function Dc(e,t,n,a,o,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:o,treeForkCount:h}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=n,S.tailMode=o,S.treeForkCount=h)}function $d(e,t,n){var a=t.pendingProps,o=a.revealOrder,h=a.tail;a=a.children;var S=Qn.current,U=(S&2)!==0;if(U?(S=S&1|2,t.flags|=128):S&=1,Pe(Qn,S),fi(e,t,a,n),a=pn?cu:0,!U&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jd(e,n,t);else if(e.tag===19)Jd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&bl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Dc(t,!1,o,n,h,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&bl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Dc(t,!0,n,null,h,a);break;case"together":Dc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function zr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pa|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ys(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=Tr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&fl(e)))}function qg(e,t,n){switch(t.tag){case 3:ct(t,t.stateNode.containerInfo),sa(t,$n,e.memoizedState.cache),Ua();break;case 27:case 5:$e(t);break;case 4:ct(t,t.stateNode.containerInfo);break;case 10:sa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Jo(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ca(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Wd(e,t,n):(ca(t),e=zr(e,t,n),e!==null?e.sibling:null);ca(t);break;case 19:var o=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(ys(e,t,n,!1),a=(n&t.childLanes)!==0),o){if(a)return $d(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Pe(Qn,Qn.current),a)break;return null;case 22:return t.lanes=0,Yd(e,t,n,t.pendingProps);case 24:sa(t,$n,e.memoizedState.cache)}return zr(e,t,n)}function ep(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ti=!0;else{if(!Cc(e,n)&&(t.flags&128)===0)return ti=!1,qg(e,t,n);ti=(e.flags&131072)!==0}else ti=!1,pn&&(t.flags&1048576)!==0&&kh(t,cu,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ha(t.elementType),t.type=e,typeof e=="function")ko(e)?(a=Va(e,a),t.tag=1,t=Xd(null,t,e,a,n)):(t.tag=0,t=wc(null,t,e,a,n));else{if(e!=null){var o=e.$$typeof;if(o===F){t.tag=11,t=Hd(null,t,e,a,n);break e}else if(o===G){t.tag=14,t=Pd(null,t,e,a,n);break e}}throw t=Ye(e)||e,Error(s(306,t,""))}}return t;case 0:return wc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,o=Va(a,t.pendingProps),Xd(e,t,a,o,n);case 3:e:{if(ct(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var h=t.memoizedState;o=h.element,Ko(e,t),yu(t,a,null,n);var S=t.memoizedState;if(a=S.cache,sa(t,$n,a),a!==h.cache&&Fo(t,[$n],n,!0),gu(),a=S.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Qd(e,t,a,n);break e}else if(a!==o){o=Yi(Error(s(424)),t),fu(o),t=Qd(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Hn=Qi(e.firstChild),oi=t,pn=!0,ra=null,Zi=!0,n=Yh(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ua(),a===o){t=zr(e,t,n);break e}fi(e,t,a,n)}t=t.child}return t;case 26:return Ol(e,t),e===null?(n=fv(t.type,null,t.pendingProps,null))?t.memoizedState=n:pn||(n=t.type,e=t.pendingProps,a=Kl(ut.current).createElement(n),a[St]=t,a[Jt]=e,hi(a,n,e),Gn(a),t.stateNode=a):t.memoizedState=fv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $e(t),e===null&&pn&&(a=t.stateNode=lv(t.type,t.pendingProps,ut.current),oi=t,Zi=!0,o=Hn,ba(t.type)?(uf=o,Hn=Qi(a.firstChild)):Hn=o),fi(e,t,t.pendingProps.children,n),Ol(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pn&&((o=a=Hn)&&(a=v0(a,t.type,t.pendingProps,Zi),a!==null?(t.stateNode=a,oi=t,Hn=Qi(a.firstChild),Zi=!1,o=!0):o=!1),o||aa(t)),$e(t),o=t.type,h=t.pendingProps,S=e!==null?e.memoizedProps:null,a=h.children,tf(o,h)?a=null:S!==null&&tf(o,S)&&(t.flags|=32),t.memoizedState!==null&&(o=ec(e,t,Og,null,null,n),Uu._currentValue=o),Ol(e,t),fi(e,t,a,n),t.child;case 6:return e===null&&pn&&((e=n=Hn)&&(n=m0(n,t.pendingProps,Zi),n!==null?(t.stateNode=n,oi=t,Hn=null,e=!0):e=!1),e||aa(t)),null;case 13:return Wd(e,t,n);case 4:return ct(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ga(t,null,a,n):fi(e,t,a,n),t.child;case 11:return Hd(e,t,t.type,t.pendingProps,n);case 7:return fi(e,t,t.pendingProps,n),t.child;case 8:return fi(e,t,t.pendingProps.children,n),t.child;case 12:return fi(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,sa(t,t.type,a.value),fi(e,t,a.children,n),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Ia(t),o=ci(o),a=a(o),t.flags|=1,fi(e,t,a,n),t.child;case 14:return Pd(e,t,t.type,t.pendingProps,n);case 15:return Gd(e,t,t.type,t.pendingProps,n);case 19:return $d(e,t,n);case 31:return Ug(e,t,n);case 22:return Yd(e,t,n,t.pendingProps);case 24:return Ia(t),a=ci($n),e===null?(o=Go(),o===null&&(o=zn,h=Ho(),o.pooledCache=h,h.refCount++,h!==null&&(o.pooledCacheLanes|=n),o=h),t.memoizedState={parent:a,cache:o},Vo(t),sa(t,$n,o)):((e.lanes&n)!==0&&(Ko(e,t),yu(t,null,null,n),gu()),o=e.memoizedState,h=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),sa(t,$n,a)):(a=h.cache,sa(t,$n,a),a!==o.cache&&Fo(t,[$n],n,!0))),fi(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Lr(e){e.flags|=4}function Tc(e,t,n,a,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Cp())e.flags|=8192;else throw Pa=vl,Yo}else e.flags&=-16777217}function tp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mv(t))if(Cp())e.flags|=8192;else throw Pa=vl,Yo}function kl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ge():536870912,e.lanes|=t,Os|=t)}function Su(e,t){if(!pn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Pn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags&65011712,a|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ig(e,t,n){var a=t.pendingProps;switch(Mo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(t),null;case 1:return Pn(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Rr($n),At(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gs(t)?Lr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Uo())),Pn(t),null;case 26:var o=t.type,h=t.memoizedState;return e===null?(Lr(t),h!==null?(Pn(t),tp(t,h)):(Pn(t),Tc(t,o,null,a,n))):h?h!==e.memoizedState?(Lr(t),Pn(t),tp(t,h)):(Pn(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Lr(t),Pn(t),Tc(t,o,e,a,n)),null;case 27:if(Tt(t),n=ut.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Lr(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Pn(t),null}e=Me.current,gs(t)?zh(t):(e=lv(o,a,n),t.stateNode=e,Lr(t))}return Pn(t),null;case 5:if(Tt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Lr(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Pn(t),null}if(h=Me.current,gs(t))zh(t);else{var S=Kl(ut.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?h.multiple=!0:a.size&&(h.size=a.size);break;default:h=typeof a.is=="string"?S.createElement(o,{is:a.is}):S.createElement(o)}}h[St]=t,h[Jt]=a;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=h;e:switch(hi(h,o,a),o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Lr(t)}}return Pn(t),Tc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Lr(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=ut.current,gs(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,o=oi,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[St]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Wp(e.nodeValue,n)),e||aa(t,!0)}else e=Kl(e).createTextNode(a),e[St]=t,t.stateNode=e}return Pn(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=gs(t),n!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[St]=t}else Ua(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pn(t),e=!1}else n=Uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ui(t),t):(Ui(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Pn(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=gs(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[St]=t}else Ua(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pn(t),o=!1}else o=Uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ui(t),t):(Ui(t),null)}return Ui(t),(t.flags&128)!==0?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==o&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),kl(t,t.updateQueue),Pn(t),null);case 4:return At(),e===null&&Qc(t.stateNode.containerInfo),Pn(t),null;case 10:return Rr(t.type),Pn(t),null;case 19:if(pe(Qn),a=t.memoizedState,a===null)return Pn(t),null;if(o=(t.flags&128)!==0,h=a.rendering,h===null)if(o)Su(a,!1);else{if(Zn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=bl(e),h!==null){for(t.flags|=128,Su(a,!1),e=h.updateQueue,t.updateQueue=e,kl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Nh(n,e),n=n.sibling;return Pe(Qn,Qn.current&1|2),pn&&Nr(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&nn()>jl&&(t.flags|=128,o=!0,Su(a,!1),t.lanes=4194304)}else{if(!o)if(e=bl(h),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,kl(t,e),Su(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!pn)return Pn(t),null}else 2*nn()-a.renderingStartTime>jl&&n!==536870912&&(t.flags|=128,o=!0,Su(a,!1),t.lanes=4194304);a.isBackwards?(h.sibling=t.child,t.child=h):(e=a.last,e!==null?e.sibling=h:t.child=h,a.last=h)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=nn(),e.sibling=null,n=Qn.current,Pe(Qn,o?n&1|2:n&1),pn&&Nr(t,a.treeForkCount),e):(Pn(t),null);case 22:case 23:return Ui(t),Wo(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(n&536870912)!==0&&(t.flags&128)===0&&(Pn(t),t.subtreeFlags&6&&(t.flags|=8192)):Pn(t),n=t.updateQueue,n!==null&&kl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&pe(Fa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Rr($n),Pn(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Fg(e,t){switch(Mo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rr($n),At(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Tt(t),null;case 31:if(t.memoizedState!==null){if(Ui(t),t.alternate===null)throw Error(s(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ui(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(Qn),null;case 4:return At(),null;case 10:return Rr(t.type),null;case 22:case 23:return Ui(t),Wo(),e!==null&&pe(Fa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Rr($n),null;case 25:return null;default:return null}}function np(e,t){switch(Mo(t),t.tag){case 3:Rr($n),At();break;case 26:case 27:case 5:Tt(t);break;case 4:At();break;case 31:t.memoizedState!==null&&Ui(t);break;case 13:Ui(t);break;case 19:pe(Qn);break;case 10:Rr(t.type);break;case 22:case 23:Ui(t),Wo(),e!==null&&pe(Fa);break;case 24:Rr($n)}}function Au(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var o=a.next;n=o;do{if((n.tag&e)===e){a=void 0;var h=n.create,S=n.inst;a=h(),S.destroy=a}n=n.next}while(n!==o)}}catch(U){Cn(t,t.return,U)}}function ha(e,t,n){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){var S=a.inst,U=S.destroy;if(U!==void 0){S.destroy=void 0,o=t;var ne=n,Ne=U;try{Ne()}catch(Ue){Cn(o,ne,Ue)}}}a=a.next}while(a!==h)}}catch(Ue){Cn(t,t.return,Ue)}}function ip(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Kh(t,n)}catch(a){Cn(e,e.return,a)}}}function rp(e,t,n){n.props=Va(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){Cn(e,t,a)}}function Du(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(o){Cn(e,t,o)}}function dr(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(o){Cn(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Cn(e,t,o)}else n.current=null}function ap(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(o){Cn(e,e.return,o)}}function Nc(e,t,n){try{var a=e.stateNode;o0(a,e.type,n,t),a[Jt]=t}catch(o){Cn(e,e.return,o)}}function sp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ba(e.type)||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ba(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bi));else if(a!==4&&(a===27&&ba(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Rc(e,t,n),e=e.sibling;e!==null;)Rc(e,t,n),e=e.sibling}function Bl(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&ba(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}function up(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);hi(t,a,n),t[St]=e,t[Jt]=n}catch(h){Cn(e,e.return,h)}}var Mr=!1,ni=!1,kc=!1,lp=typeof WeakSet=="function"?WeakSet:Set,li=null;function Hg(e,t){if(e=e.containerInfo,$c=eo,e=N(e),z(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var o=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var S=0,U=-1,ne=-1,Ne=0,Ue=0,Ge=e,Re=null;t:for(;;){for(var ke;Ge!==n||o!==0&&Ge.nodeType!==3||(U=S+o),Ge!==h||a!==0&&Ge.nodeType!==3||(ne=S+a),Ge.nodeType===3&&(S+=Ge.nodeValue.length),(ke=Ge.firstChild)!==null;)Re=Ge,Ge=ke;for(;;){if(Ge===e)break t;if(Re===n&&++Ne===o&&(U=S),Re===h&&++Ue===a&&(ne=S),(ke=Ge.nextSibling)!==null)break;Ge=Re,Re=Ge.parentNode}Ge=ke}n=U===-1||ne===-1?null:{start:U,end:ne}}else n=null}n=n||{start:0,end:0}}else n=null;for(ef={focusedElem:e,selectionRange:n},eo=!1,li=t;li!==null;)if(t=li,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,li=e;else for(;li!==null;){switch(t=li,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,n=t,o=h.memoizedProps,h=h.memoizedState,a=n.stateNode;try{var _t=Va(n.type,o);e=a.getSnapshotBeforeUpdate(_t,h),a.__reactInternalSnapshotBeforeUpdate=e}catch(Mt){Cn(n,n.return,Mt)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)rf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,li=e;break}li=t.return}}function op(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ur(e,n),a&4&&Au(5,n);break;case 1:if(Ur(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(S){Cn(n,n.return,S)}else{var o=Va(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Cn(n,n.return,S)}}a&64&&ip(n),a&512&&Du(n,n.return);break;case 3:if(Ur(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Kh(e,t)}catch(S){Cn(n,n.return,S)}}break;case 27:t===null&&a&4&&up(n);case 26:case 5:Ur(e,n),t===null&&a&4&&ap(n),a&512&&Du(n,n.return);break;case 12:Ur(e,n);break;case 31:Ur(e,n),a&4&&hp(e,n);break;case 13:Ur(e,n),a&4&&dp(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Wg.bind(null,n),g0(e,n))));break;case 22:if(a=n.memoizedState!==null||Mr,!a){t=t!==null&&t.memoizedState!==null||ni,o=Mr;var h=ni;Mr=a,(ni=t)&&!h?qr(e,n,(n.subtreeFlags&8772)!==0):Ur(e,n),Mr=o,ni=h}break;case 30:break;default:Ur(e,n)}}function cp(e){var t=e.alternate;t!==null&&(e.alternate=null,cp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ii(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Yn=null,Ti=!1;function jr(e,t,n){for(n=n.child;n!==null;)fp(e,t,n),n=n.sibling}function fp(e,t,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Nt,n)}catch{}switch(n.tag){case 26:ni||dr(n,t),jr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ni||dr(n,t);var a=Yn,o=Ti;ba(n.type)&&(Yn=n.stateNode,Ti=!1),jr(e,t,n),Lu(n.stateNode),Yn=a,Ti=o;break;case 5:ni||dr(n,t);case 6:if(a=Yn,o=Ti,Yn=null,jr(e,t,n),Yn=a,Ti=o,Yn!==null)if(Ti)try{(Yn.nodeType===9?Yn.body:Yn.nodeName==="HTML"?Yn.ownerDocument.body:Yn).removeChild(n.stateNode)}catch(h){Cn(n,t,h)}else try{Yn.removeChild(n.stateNode)}catch(h){Cn(n,t,h)}break;case 18:Yn!==null&&(Ti?(e=Yn,iv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Us(e)):iv(Yn,n.stateNode));break;case 4:a=Yn,o=Ti,Yn=n.stateNode.containerInfo,Ti=!0,jr(e,t,n),Yn=a,Ti=o;break;case 0:case 11:case 14:case 15:ha(2,n,t),ni||ha(4,n,t),jr(e,t,n);break;case 1:ni||(dr(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&rp(n,t,a)),jr(e,t,n);break;case 21:jr(e,t,n);break;case 22:ni=(a=ni)||n.memoizedState!==null,jr(e,t,n),ni=a;break;default:jr(e,t,n)}}function hp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Us(e)}catch(n){Cn(t,t.return,n)}}}function dp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Us(e)}catch(n){Cn(t,t.return,n)}}function Pg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lp),t;default:throw Error(s(435,e.tag))}}function zl(e,t){var n=Pg(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var o=Jg.bind(null,e,a);a.then(o,o)}})}function Ni(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var o=n[a],h=e,S=t,U=S;e:for(;U!==null;){switch(U.tag){case 27:if(ba(U.type)){Yn=U.stateNode,Ti=!1;break e}break;case 5:Yn=U.stateNode,Ti=!1;break e;case 3:case 4:Yn=U.stateNode.containerInfo,Ti=!0;break e}U=U.return}if(Yn===null)throw Error(s(160));fp(h,S,o),Yn=null,Ti=!1,h=o.alternate,h!==null&&(h.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)pp(t,e),t=t.sibling}var tr=null;function pp(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ni(t,e),Oi(e),a&4&&(ha(3,e,e.return),Au(3,e),ha(5,e,e.return));break;case 1:Ni(t,e),Oi(e),a&512&&(ni||n===null||dr(n,n.return)),a&64&&Mr&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var o=tr;if(Ni(t,e),Oi(e),a&512&&(ni||n===null||dr(n,n.return)),a&4){var h=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":h=o.getElementsByTagName("title")[0],(!h||h[qn]||h[St]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=o.createElement(a),o.head.insertBefore(h,o.querySelector("head > title"))),hi(h,a,n),h[St]=e,Gn(h),a=h;break e;case"link":var S=pv("link","href",o).get(a+(n.href||""));if(S){for(var U=0;U<S.length;U++)if(h=S[U],h.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&h.getAttribute("rel")===(n.rel==null?null:n.rel)&&h.getAttribute("title")===(n.title==null?null:n.title)&&h.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){S.splice(U,1);break t}}h=o.createElement(a),hi(h,a,n),o.head.appendChild(h);break;case"meta":if(S=pv("meta","content",o).get(a+(n.content||""))){for(U=0;U<S.length;U++)if(h=S[U],h.getAttribute("content")===(n.content==null?null:""+n.content)&&h.getAttribute("name")===(n.name==null?null:n.name)&&h.getAttribute("property")===(n.property==null?null:n.property)&&h.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&h.getAttribute("charset")===(n.charSet==null?null:n.charSet)){S.splice(U,1);break t}}h=o.createElement(a),hi(h,a,n),o.head.appendChild(h);break;default:throw Error(s(468,a))}h[St]=e,Gn(h),a=h}e.stateNode=a}else vv(o,e.type,e.stateNode);else e.stateNode=dv(o,a,e.memoizedProps);else h!==a?(h===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):h.count--,a===null?vv(o,e.type,e.stateNode):dv(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Nc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ni(t,e),Oi(e),a&512&&(ni||n===null||dr(n,n.return)),n!==null&&a&4&&Nc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ni(t,e),Oi(e),a&512&&(ni||n===null||dr(n,n.return)),e.flags&32){o=e.stateNode;try{_n(o,"")}catch(_t){Cn(e,e.return,_t)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,Nc(e,o,n!==null?n.memoizedProps:o)),a&1024&&(kc=!0);break;case 6:if(Ni(t,e),Oi(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(_t){Cn(e,e.return,_t)}}break;case 3:if(Ql=null,o=tr,tr=Zl(t.containerInfo),Ni(t,e),tr=o,Oi(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Us(t.containerInfo)}catch(_t){Cn(e,e.return,_t)}kc&&(kc=!1,vp(e));break;case 4:a=tr,tr=Zl(e.stateNode.containerInfo),Ni(t,e),Oi(e),tr=a;break;case 12:Ni(t,e),Oi(e);break;case 31:Ni(t,e),Oi(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zl(e,a)));break;case 13:Ni(t,e),Oi(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ml=nn()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zl(e,a)));break;case 22:o=e.memoizedState!==null;var ne=n!==null&&n.memoizedState!==null,Ne=Mr,Ue=ni;if(Mr=Ne||o,ni=Ue||ne,Ni(t,e),ni=Ue,Mr=Ne,Oi(e),a&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||ne||Mr||ni||Ka(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){ne=n=t;try{if(h=ne.stateNode,o)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{U=ne.stateNode;var Ge=ne.memoizedProps.style,Re=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null;U.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(_t){Cn(ne,ne.return,_t)}}}else if(t.tag===6){if(n===null){ne=t;try{ne.stateNode.nodeValue=o?"":ne.memoizedProps}catch(_t){Cn(ne,ne.return,_t)}}}else if(t.tag===18){if(n===null){ne=t;try{var ke=ne.stateNode;o?rv(ke,!0):rv(ne.stateNode,!1)}catch(_t){Cn(ne,ne.return,_t)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,zl(e,n))));break;case 19:Ni(t,e),Oi(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zl(e,a)));break;case 30:break;case 21:break;default:Ni(t,e),Oi(e)}}function Oi(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(sp(a)){n=a;break}a=a.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,h=Oc(e);Bl(e,h,o);break;case 5:var S=n.stateNode;n.flags&32&&(_n(S,""),n.flags&=-33);var U=Oc(e);Bl(e,U,S);break;case 3:case 4:var ne=n.stateNode.containerInfo,Ne=Oc(e);Rc(e,Ne,ne);break;default:throw Error(s(161))}}catch(Ue){Cn(e,e.return,Ue)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ur(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)op(e,t.alternate,t),t=t.sibling}function Ka(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ha(4,t,t.return),Ka(t);break;case 1:dr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&rp(t,t.return,n),Ka(t);break;case 27:Lu(t.stateNode);case 26:case 5:dr(t,t.return),Ka(t);break;case 22:t.memoizedState===null&&Ka(t);break;case 30:Ka(t);break;default:Ka(t)}e=e.sibling}}function qr(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,h=t,S=h.flags;switch(h.tag){case 0:case 11:case 15:qr(o,h,n),Au(4,h);break;case 1:if(qr(o,h,n),a=h,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(Ne){Cn(a,a.return,Ne)}if(a=h,o=a.updateQueue,o!==null){var U=a.stateNode;try{var ne=o.shared.hiddenCallbacks;if(ne!==null)for(o.shared.hiddenCallbacks=null,o=0;o<ne.length;o++)Vh(ne[o],U)}catch(Ne){Cn(a,a.return,Ne)}}n&&S&64&&ip(h),Du(h,h.return);break;case 27:up(h);case 26:case 5:qr(o,h,n),n&&a===null&&S&4&&ap(h),Du(h,h.return);break;case 12:qr(o,h,n);break;case 31:qr(o,h,n),n&&S&4&&hp(o,h);break;case 13:qr(o,h,n),n&&S&4&&dp(o,h);break;case 22:h.memoizedState===null&&qr(o,h,n),Du(h,h.return);break;case 30:break;default:qr(o,h,n)}t=t.sibling}}function Bc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&hu(n))}function zc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hu(e))}function nr(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mp(e,t,n,a),t=t.sibling}function mp(e,t,n,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:nr(e,t,n,a),o&2048&&Au(9,t);break;case 1:nr(e,t,n,a);break;case 3:nr(e,t,n,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&hu(e)));break;case 12:if(o&2048){nr(e,t,n,a),e=t.stateNode;try{var h=t.memoizedProps,S=h.id,U=h.onPostCommit;typeof U=="function"&&U(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(ne){Cn(t,t.return,ne)}}else nr(e,t,n,a);break;case 31:nr(e,t,n,a);break;case 13:nr(e,t,n,a);break;case 23:break;case 22:h=t.stateNode,S=t.alternate,t.memoizedState!==null?h._visibility&2?nr(e,t,n,a):Cu(e,t):h._visibility&2?nr(e,t,n,a):(h._visibility|=2,Cs(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Bc(S,t);break;case 24:nr(e,t,n,a),o&2048&&zc(t.alternate,t);break;default:nr(e,t,n,a)}}function Cs(e,t,n,a,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,S=t,U=n,ne=a,Ne=S.flags;switch(S.tag){case 0:case 11:case 15:Cs(h,S,U,ne,o),Au(8,S);break;case 23:break;case 22:var Ue=S.stateNode;S.memoizedState!==null?Ue._visibility&2?Cs(h,S,U,ne,o):Cu(h,S):(Ue._visibility|=2,Cs(h,S,U,ne,o)),o&&Ne&2048&&Bc(S.alternate,S);break;case 24:Cs(h,S,U,ne,o),o&&Ne&2048&&zc(S.alternate,S);break;default:Cs(h,S,U,ne,o)}t=t.sibling}}function Cu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,o=a.flags;switch(a.tag){case 22:Cu(n,a),o&2048&&Bc(a.alternate,a);break;case 24:Cu(n,a),o&2048&&zc(a.alternate,a);break;default:Cu(n,a)}t=t.sibling}}var Tu=8192;function Ts(e,t,n){if(e.subtreeFlags&Tu)for(e=e.child;e!==null;)gp(e,t,n),e=e.sibling}function gp(e,t,n){switch(e.tag){case 26:Ts(e,t,n),e.flags&Tu&&e.memoizedState!==null&&N0(n,tr,e.memoizedState,e.memoizedProps);break;case 5:Ts(e,t,n);break;case 3:case 4:var a=tr;tr=Zl(e.stateNode.containerInfo),Ts(e,t,n),tr=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Tu,Tu=16777216,Ts(e,t,n),Tu=a):Ts(e,t,n));break;default:Ts(e,t,n)}}function yp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Nu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];li=a,wp(a,e)}yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bp(e),e=e.sibling}function bp(e){switch(e.tag){case 0:case 11:case 15:Nu(e),e.flags&2048&&ha(9,e,e.return);break;case 3:Nu(e);break;case 12:Nu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ll(e)):Nu(e);break;default:Nu(e)}}function Ll(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];li=a,wp(a,e)}yp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ha(8,t,t.return),Ll(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ll(t));break;default:Ll(t)}e=e.sibling}}function wp(e,t){for(;li!==null;){var n=li;switch(n.tag){case 0:case 11:case 15:ha(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:hu(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,li=a;else e:for(n=e;li!==null;){a=li;var o=a.sibling,h=a.return;if(cp(a),a===n){li=null;break e}if(o!==null){o.return=h,li=o;break e}li=h}}}var Gg={getCacheForType:function(e){var t=ci($n),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ci($n).controller.signal}},Yg=typeof WeakMap=="function"?WeakMap:Map,xn=0,zn=null,un=null,cn=0,Dn=0,qi=null,da=!1,Ns=!1,Lc=!1,Ir=0,Zn=0,pa=0,Za=0,Mc=0,Ii=0,Os=0,Ou=null,Ri=null,jc=!1,Ml=0,_p=0,jl=1/0,Ul=null,va=null,ri=0,ma=null,Rs=null,Fr=0,Uc=0,qc=null,xp=null,Ru=0,Ic=null;function Fi(){return(xn&2)!==0&&cn!==0?cn&-cn:ae.T!==null?Vc():Yt()}function Ep(){if(Ii===0)if((cn&536870912)===0||pn){var e=Be;Be<<=1,(Be&3932160)===0&&(Be=262144),Ii=e}else Ii=536870912;return e=ji.current,e!==null&&(e.flags|=32),Ii}function ki(e,t,n){(e===zn&&(Dn===2||Dn===9)||e.cancelPendingCommit!==null)&&(ks(e,0),ga(e,cn,Ii,!1)),ee(e,n),((xn&2)===0||e!==zn)&&(e===zn&&((xn&2)===0&&(Za|=n),Zn===4&&ga(e,cn,Ii,!1)),pr(e))}function Sp(e,t,n){if((xn&6)!==0)throw Error(s(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||m(e,t),o=a?Zg(e,t):Hc(e,t,!0),h=a;do{if(o===0){Ns&&!a&&ga(e,t,0,!1);break}else{if(n=e.current.alternate,h&&!Vg(n)){o=Hc(e,t,!1),h=!1;continue}if(o===2){if(h=t,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var U=e;o=Ou;var ne=U.current.memoizedState.isDehydrated;if(ne&&(ks(U,S).flags|=256),S=Hc(U,S,!1),S!==2){if(Lc&&!ne){U.errorRecoveryDisabledLanes|=h,Za|=h,o=4;break e}h=Ri,Ri=o,h!==null&&(Ri===null?Ri=h:Ri.push.apply(Ri,h))}o=S}if(h=!1,o!==2)continue}}if(o===1){ks(e,0),ga(e,t,0,!0);break}e:{switch(a=e,h=o,h){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:ga(a,t,Ii,!da);break e;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=Ml+300-nn(),10<o)){if(ga(a,t,Ii,!da),Z(a,0,!0)!==0)break e;Fr=t,a.timeoutHandle=tv(Ap.bind(null,a,n,Ri,Ul,jc,t,Ii,Za,Os,da,h,"Throttled",-0,0),o);break e}Ap(a,n,Ri,Ul,jc,t,Ii,Za,Os,da,h,null,-0,0)}}break}while(!0);pr(e)}function Ap(e,t,n,a,o,h,S,U,ne,Ne,Ue,Ge,Re,ke){if(e.timeoutHandle=-1,Ge=t.subtreeFlags,Ge&8192||(Ge&16785408)===16785408){Ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},gp(t,h,Ge);var _t=(h&62914560)===h?Ml-nn():(h&4194048)===h?_p-nn():0;if(_t=O0(Ge,_t),_t!==null){Fr=h,e.cancelPendingCommit=_t(Bp.bind(null,e,t,h,n,a,o,S,U,ne,Ue,Ge,null,Re,ke)),ga(e,h,S,!Ne);return}}Bp(e,t,h,n,a,o,S,U,ne)}function Vg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var o=n[a],h=o.getSnapshot;o=o.value;try{if(!_i(h(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ga(e,t,n,a){t&=~Mc,t&=~Za,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var h=31-M(o),S=1<<h;a[h]=-1,o&=~S}n!==0&&lt(e,n,t)}function ql(){return(xn&6)===0?(ku(0),!1):!0}function Fc(){if(un!==null){if(Dn===0)var e=un.return;else e=un,Or=qa=null,ic(e),xs=null,pu=0,e=un;for(;e!==null;)np(e.alternate,e),e=e.return;un=null}}function ks(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,h0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Fr=0,Fc(),zn=e,un=n=Tr(e.current,null),cn=t,Dn=0,qi=null,da=!1,Ns=m(e,t),Lc=!1,Os=Ii=Mc=Za=pa=Zn=0,Ri=Ou=null,jc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-M(a),h=1<<o;t|=e[o],a&=~h}return Ir=t,Pt(),n}function Dp(e,t){Qt=null,ae.H=xu,t===_s||t===pl?(t=Hh(),Dn=3):t===Yo?(t=Hh(),Dn=4):Dn=t===bc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qi=t,un===null&&(Zn=1,Tl(e,Yi(t,e.current)))}function Cp(){var e=ji.current;return e===null?!0:(cn&4194048)===cn?Xi===null:(cn&62914560)===cn||(cn&536870912)!==0?e===Xi:!1}function Tp(){var e=ae.H;return ae.H=xu,e===null?xu:e}function Np(){var e=ae.A;return ae.A=Gg,e}function Il(){Zn=4,da||(cn&4194048)!==cn&&ji.current!==null||(Ns=!0),(pa&134217727)===0&&(Za&134217727)===0||zn===null||ga(zn,cn,Ii,!1)}function Hc(e,t,n){var a=xn;xn|=2;var o=Tp(),h=Np();(zn!==e||cn!==t)&&(Ul=null,ks(e,t)),t=!1;var S=Zn;e:do try{if(Dn!==0&&un!==null){var U=un,ne=qi;switch(Dn){case 8:Fc(),S=6;break e;case 3:case 2:case 9:case 6:ji.current===null&&(t=!0);var Ne=Dn;if(Dn=0,qi=null,Bs(e,U,ne,Ne),n&&Ns){S=0;break e}break;default:Ne=Dn,Dn=0,qi=null,Bs(e,U,ne,Ne)}}Kg(),S=Zn;break}catch(Ue){Dp(e,Ue)}while(!0);return t&&e.shellSuspendCounter++,Or=qa=null,xn=a,ae.H=o,ae.A=h,un===null&&(zn=null,cn=0,Pt()),S}function Kg(){for(;un!==null;)Op(un)}function Zg(e,t){var n=xn;xn|=2;var a=Tp(),o=Np();zn!==e||cn!==t?(Ul=null,jl=nn()+500,ks(e,t)):Ns=m(e,t);e:do try{if(Dn!==0&&un!==null){t=un;var h=qi;t:switch(Dn){case 1:Dn=0,qi=null,Bs(e,t,h,1);break;case 2:case 9:if(Ih(h)){Dn=0,qi=null,Rp(t);break}t=function(){Dn!==2&&Dn!==9||zn!==e||(Dn=7),pr(e)},h.then(t,t);break e;case 3:Dn=7;break e;case 4:Dn=5;break e;case 7:Ih(h)?(Dn=0,qi=null,Rp(t)):(Dn=0,qi=null,Bs(e,t,h,7));break;case 5:var S=null;switch(un.tag){case 26:S=un.memoizedState;case 5:case 27:var U=un;if(S?mv(S):U.stateNode.complete){Dn=0,qi=null;var ne=U.sibling;if(ne!==null)un=ne;else{var Ne=U.return;Ne!==null?(un=Ne,Fl(Ne)):un=null}break t}}Dn=0,qi=null,Bs(e,t,h,5);break;case 6:Dn=0,qi=null,Bs(e,t,h,6);break;case 8:Fc(),Zn=6;break e;default:throw Error(s(462))}}Xg();break}catch(Ue){Dp(e,Ue)}while(!0);return Or=qa=null,ae.H=a,ae.A=o,xn=n,un!==null?0:(zn=null,cn=0,Pt(),Zn)}function Xg(){for(;un!==null&&!Bt();)Op(un)}function Op(e){var t=ep(e.alternate,e,Ir);e.memoizedProps=e.pendingProps,t===null?Fl(e):un=t}function Rp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zd(n,t,t.pendingProps,t.type,void 0,cn);break;case 11:t=Zd(n,t,t.pendingProps,t.type.render,t.ref,cn);break;case 5:ic(t);default:np(n,t),t=un=Nh(t,Ir),t=ep(n,t,Ir)}e.memoizedProps=e.pendingProps,t===null?Fl(e):un=t}function Bs(e,t,n,a){Or=qa=null,ic(t),xs=null,pu=0;var o=t.return;try{if(jg(e,o,t,n,cn)){Zn=1,Tl(e,Yi(n,e.current)),un=null;return}}catch(h){if(o!==null)throw un=o,h;Zn=1,Tl(e,Yi(n,e.current)),un=null;return}t.flags&32768?(pn||a===1?e=!0:Ns||(cn&536870912)!==0?e=!1:(da=e=!0,(a===2||a===9||a===3||a===6)&&(a=ji.current,a!==null&&a.tag===13&&(a.flags|=16384))),kp(t,e)):Fl(t)}function Fl(e){var t=e;do{if((t.flags&32768)!==0){kp(t,da);return}e=t.return;var n=Ig(t.alternate,t,Ir);if(n!==null){un=n;return}if(t=t.sibling,t!==null){un=t;return}un=t=e}while(t!==null);Zn===0&&(Zn=5)}function kp(e,t){do{var n=Fg(e.alternate,e);if(n!==null){n.flags&=32767,un=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){un=e;return}un=e=n}while(e!==null);Zn=6,un=null}function Bp(e,t,n,a,o,h,S,U,ne){e.cancelPendingCommit=null;do Hl();while(ri!==0);if((xn&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(h=t.lanes|t.childLanes,h|=Ot,De(e,n,h,S,U,ne),e===zn&&(un=zn=null,cn=0),Rs=t,ma=e,Fr=n,Uc=h,qc=o,xp=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$g(Ht,function(){return Up(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=ae.T,ae.T=null,o=be.p,be.p=2,S=xn,xn|=4;try{Hg(e,t,n)}finally{xn=S,be.p=o,ae.T=a}}ri=1,zp(),Lp(),Mp()}}function zp(){if(ri===1){ri=0;var e=ma,t=Rs,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=ae.T,ae.T=null;var a=be.p;be.p=2;var o=xn;xn|=4;try{pp(t,e);var h=ef,S=N(e.containerInfo),U=h.focusedElem,ne=h.selectionRange;if(S!==U&&U&&U.ownerDocument&&E(U.ownerDocument.documentElement,U)){if(ne!==null&&z(U)){var Ne=ne.start,Ue=ne.end;if(Ue===void 0&&(Ue=Ne),"selectionStart"in U)U.selectionStart=Ne,U.selectionEnd=Math.min(Ue,U.value.length);else{var Ge=U.ownerDocument||document,Re=Ge&&Ge.defaultView||window;if(Re.getSelection){var ke=Re.getSelection(),_t=U.textContent.length,Mt=Math.min(ne.start,_t),Bn=ne.end===void 0?Mt:Math.min(ne.end,_t);!ke.extend&&Mt>Bn&&(S=Bn,Bn=Mt,Mt=S);var ye=b(U,Mt),he=b(U,Bn);if(ye&&he&&(ke.rangeCount!==1||ke.anchorNode!==ye.node||ke.anchorOffset!==ye.offset||ke.focusNode!==he.node||ke.focusOffset!==he.offset)){var Te=Ge.createRange();Te.setStart(ye.node,ye.offset),ke.removeAllRanges(),Mt>Bn?(ke.addRange(Te),ke.extend(he.node,he.offset)):(Te.setEnd(he.node,he.offset),ke.addRange(Te))}}}}for(Ge=[],ke=U;ke=ke.parentNode;)ke.nodeType===1&&Ge.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Ge.length;U++){var He=Ge[U];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}eo=!!$c,ef=$c=null}finally{xn=o,be.p=a,ae.T=n}}e.current=t,ri=2}}function Lp(){if(ri===2){ri=0;var e=ma,t=Rs,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=ae.T,ae.T=null;var a=be.p;be.p=2;var o=xn;xn|=4;try{op(e,t.alternate,t)}finally{xn=o,be.p=a,ae.T=n}}ri=3}}function Mp(){if(ri===4||ri===3){ri=0,Ct();var e=ma,t=Rs,n=Fr,a=xp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ri=5:(ri=0,Rs=ma=null,jp(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(va=null),Tn(n),t=t.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Nt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=ae.T,o=be.p,be.p=2,ae.T=null;try{for(var h=e.onRecoverableError,S=0;S<a.length;S++){var U=a[S];h(U.value,{componentStack:U.stack})}}finally{ae.T=t,be.p=o}}(Fr&3)!==0&&Hl(),pr(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Ic?Ru++:(Ru=0,Ic=e):Ru=0,ku(0)}}function jp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,hu(t)))}function Hl(){return zp(),Lp(),Mp(),Up()}function Up(){if(ri!==5)return!1;var e=ma,t=Uc;Uc=0;var n=Tn(Fr),a=ae.T,o=be.p;try{be.p=32>n?32:n,ae.T=null,n=qc,qc=null;var h=ma,S=Fr;if(ri=0,Rs=ma=null,Fr=0,(xn&6)!==0)throw Error(s(331));var U=xn;if(xn|=4,bp(h.current),mp(h,h.current,S,n),xn=U,ku(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Nt,h)}catch{}return!0}finally{be.p=o,ae.T=a,jp(e,t)}}function qp(e,t,n){t=Yi(n,t),t=yc(e.stateNode,t,2),e=oa(e,t,2),e!==null&&(ee(e,2),pr(e))}function Cn(e,t,n){if(e.tag===3)qp(e,e,n);else for(;t!==null;){if(t.tag===3){qp(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(va===null||!va.has(a))){e=Yi(n,e),n=Id(2),a=oa(t,n,2),a!==null&&(Fd(n,a,t,e),ee(a,2),pr(a));break}}t=t.return}}function Pc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Yg;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(n)||(Lc=!0,o.add(n),e=Qg.bind(null,e,t,n),t.then(e,e))}function Qg(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,zn===e&&(cn&n)===n&&(Zn===4||Zn===3&&(cn&62914560)===cn&&300>nn()-Ml?(xn&2)===0&&ks(e,0):Mc|=n,Os===cn&&(Os=0)),pr(e)}function Ip(e,t){t===0&&(t=ge()),e=Sn(e,t),e!==null&&(ee(e,t),pr(e))}function Wg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ip(e,n)}function Jg(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Ip(e,n)}function $g(e,t){return wn(e,t)}var Pl=null,zs=null,Gc=!1,Gl=!1,Yc=!1,ya=0;function pr(e){e!==zs&&e.next===null&&(zs===null?Pl=zs=e:zs=zs.next=e),Gl=!0,Gc||(Gc=!0,t0())}function ku(e,t){if(!Yc&&Gl){Yc=!0;do for(var n=!1,a=Pl;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var h=0;else{var S=a.suspendedLanes,U=a.pingedLanes;h=(1<<31-M(42|e)+1)-1,h&=o&~(S&~U),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(n=!0,Gp(a,h))}else h=cn,h=Z(a,a===zn?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(h&3)===0||m(a,h)||(n=!0,Gp(a,h));a=a.next}while(n);Yc=!1}}function e0(){Fp()}function Fp(){Gl=Gc=!1;var e=0;ya!==0&&f0()&&(e=ya);for(var t=nn(),n=null,a=Pl;a!==null;){var o=a.next,h=Hp(a,t);h===0?(a.next=null,n===null?Pl=o:n.next=o,o===null&&(zs=n)):(n=a,(e!==0||(h&3)!==0)&&(Gl=!0)),a=o}ri!==0&&ri!==5||ku(e),ya!==0&&(ya=0)}function Hp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-M(h),U=1<<S,ne=o[S];ne===-1?((U&n)===0||(U&a)!==0)&&(o[S]=te(U,t)):ne<=t&&(e.expiredLanes|=U),h&=~U}if(t=zn,n=cn,n=Z(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(Dn===2||Dn===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&xt(a),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||m(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&xt(a),Tn(n)){case 2:case 8:n=bt;break;case 32:n=Ht;break;case 268435456:n=Et;break;default:n=Ht}return a=Pp.bind(null,e),n=wn(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&xt(a),e.callbackPriority=2,e.callbackNode=null,2}function Pp(e,t){if(ri!==0&&ri!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Hl()&&e.callbackNode!==n)return null;var a=cn;return a=Z(e,e===zn?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Sp(e,a,t),Hp(e,nn()),e.callbackNode!=null&&e.callbackNode===n?Pp.bind(null,e):null)}function Gp(e,t){if(Hl())return null;Sp(e,t,!0)}function t0(){d0(function(){(xn&6)!==0?wn(rt,e0):Fp()})}function Vc(){if(ya===0){var e=bs;e===0&&(e=X,X<<=1,(X&261888)===0&&(X=256)),ya=e}return ya}function Yp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zi(""+e)}function Vp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function n0(e,t,n,a,o){if(t==="submit"&&n&&n.stateNode===o){var h=Yp((o[Jt]||null).action),S=a.submitter;S&&(t=(t=S[Jt]||null)?Yp(t.formAction):S.getAttribute("formAction"),t!==null&&(h=t,S=null));var U=new $a("action","action",null,a,o);e.push({event:U,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ya!==0){var ne=S?Vp(o,S):new FormData(o);hc(n,{pending:!0,data:ne,method:o.method,action:h},null,ne)}}else typeof h=="function"&&(U.preventDefault(),ne=S?Vp(o,S):new FormData(o),hc(n,{pending:!0,data:ne,method:o.method,action:h},h,ne))},currentTarget:o}]})}}for(var Kc=0;Kc<ft.length;Kc++){var Zc=ft[Kc],i0=Zc.toLowerCase(),r0=Zc[0].toUpperCase()+Zc.slice(1);We(i0,"on"+r0)}We(Oe,"onAnimationEnd"),We(xe,"onAnimationIteration"),We(je,"onAnimationStart"),We("dblclick","onDoubleClick"),We("focusin","onFocus"),We("focusout","onBlur"),We(Xe,"onTransitionRun"),We(at,"onTransitionStart"),We(st,"onTransitionCancel"),We(Qe,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function Kp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],o=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var S=a.length-1;0<=S;S--){var U=a[S],ne=U.instance,Ne=U.currentTarget;if(U=U.listener,ne!==h&&o.isPropagationStopped())break e;h=U,o.currentTarget=Ne;try{h(o)}catch(Ue){yt(Ue)}o.currentTarget=null,h=ne}else for(S=0;S<a.length;S++){if(U=a[S],ne=U.instance,Ne=U.currentTarget,U=U.listener,ne!==h&&o.isPropagationStopped())break e;h=U,o.currentTarget=Ne;try{h(o)}catch(Ue){yt(Ue)}o.currentTarget=null,h=ne}}}}function ln(e,t){var n=t[ai];n===void 0&&(n=t[ai]=new Set);var a=e+"__bubble";n.has(a)||(Zp(t,e,2,!1),n.add(a))}function Xc(e,t,n){var a=0;t&&(a|=4),Zp(n,e,a,t)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Qc(e){if(!e[Yl]){e[Yl]=!0,vi.forEach(function(n){n!=="selectionchange"&&(a0.has(n)||Xc(n,!1,e),Xc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yl]||(t[Yl]=!0,Xc("selectionchange",!1,t))}}function Zp(e,t,n,a){switch(Ev(t)){case 2:var o=B0;break;case 8:o=z0;break;default:o=hf}n=o.bind(null,t,n,e),o=void 0,!Qs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wc(e,t,n,a,o){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var U=a.stateNode.containerInfo;if(U===o)break;if(S===4)for(S=a.return;S!==null;){var ne=S.tag;if((ne===3||ne===4)&&S.stateNode.containerInfo===o)return;S=S.return}for(;U!==null;){if(S=Si(U),S===null)return;if(ne=S.tag,ne===5||ne===6||ne===26||ne===27){a=h=S;continue e}U=U.parentNode}}a=a.return}Kr(function(){var Ne=h,Ue=Wa(n),Ge=[];e:{var Re=gt.get(e);if(Re!==void 0){var ke=$a,_t=e;switch(e){case"keypress":if(Qr(n)===0)break e;case"keydown":case"keyup":ke=ss;break;case"focusin":_t="focus",ke=Wr;break;case"focusout":_t="blur",ke=Wr;break;case"beforeblur":case"afterblur":ke=Wr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=iu;break;case Oe:case xe:case je:ke=$u;break;case Qe:ke=ru;break;case"scroll":case"scrollend":ke=es;break;case"wheel":ke=ls;break;case"copy":case"cut":case"paste":ke=Jr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=nu;break;case"toggle":case"beforetoggle":ke=nl}var Mt=(t&4)!==0,Bn=!Mt&&(e==="scroll"||e==="scrollend"),ye=Mt?Re!==null?Re+"Capture":null:Re;Mt=[];for(var he=Ne,Te;he!==null;){var He=he;if(Te=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Te===null||ye===null||(He=_r(he,ye),He!=null&&Mt.push(zu(he,He,Te))),Bn)break;he=he.return}0<Mt.length&&(Re=new ke(Re,_t,null,n,Ue),Ge.push({event:Re,listeners:Mt}))}}if((t&7)===0){e:{if(Re=e==="mouseover"||e==="pointerover",ke=e==="mouseout"||e==="pointerout",Re&&n!==Ai&&(_t=n.relatedTarget||n.fromElement)&&(Si(_t)||_t[An]))break e;if((ke||Re)&&(Re=Ue.window===Ue?Ue:(Re=Ue.ownerDocument)?Re.defaultView||Re.parentWindow:window,ke?(_t=n.relatedTarget||n.toElement,ke=Ne,_t=_t?Si(_t):null,_t!==null&&(Bn=c(_t),Mt=_t.tag,_t!==Bn||Mt!==5&&Mt!==27&&Mt!==6)&&(_t=null)):(ke=null,_t=Ne),ke!==_t)){if(Mt=ns,He="onMouseLeave",ye="onMouseEnter",he="mouse",(e==="pointerout"||e==="pointerover")&&(Mt=nu,He="onPointerLeave",ye="onPointerEnter",he="pointer"),Bn=ke==null?Re:pi(ke),Te=_t==null?Re:pi(_t),Re=new Mt(He,he+"leave",ke,n,Ue),Re.target=Bn,Re.relatedTarget=Te,He=null,Si(Ue)===Ne&&(Mt=new Mt(ye,he+"enter",_t,n,Ue),Mt.target=Te,Mt.relatedTarget=Bn,He=Mt),Bn=He,ke&&_t)t:{for(Mt=s0,ye=ke,he=_t,Te=0,He=ye;He;He=Mt(He))Te++;He=0;for(var Rt=he;Rt;Rt=Mt(Rt))He++;for(;0<Te-He;)ye=Mt(ye),Te--;for(;0<He-Te;)he=Mt(he),He--;for(;Te--;){if(ye===he||he!==null&&ye===he.alternate){Mt=ye;break t}ye=Mt(ye),he=Mt(he)}Mt=null}else Mt=null;ke!==null&&Xp(Ge,Re,ke,Mt,!1),_t!==null&&Bn!==null&&Xp(Ge,Bn,_t,Mt,!0)}}e:{if(Re=Ne?pi(Ne):window,ke=Re.nodeName&&Re.nodeName.toLowerCase(),ke==="select"||ke==="input"&&Re.type==="file")var gn=Ma;else if(fs(Re))if(Gi)gn=ta;else{gn=Cr;var Dt=ll}else ke=Re.nodeName,!ke||ke.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Ne&&Ta(Ne.elementType)&&(gn=Ma):gn=ou;if(gn&&(gn=gn(e,Ne))){lu(Ge,gn,n,Ue);break e}Dt&&Dt(e,Re,Ne),e==="focusout"&&Ne&&Re.type==="number"&&Ne.memoizedProps.value!=null&&It(Re,"number",Re.value)}switch(Dt=Ne?pi(Ne):window,e){case"focusin":(fs(Dt)||Dt.contentEditable==="true")&&(K=Dt,se=Ne,_e=null);break;case"focusout":_e=se=K=null;break;case"mousedown":ue=!0;break;case"contextmenu":case"mouseup":case"dragend":ue=!1,re(Ge,n,Ue);break;case"selectionchange":if(P)break;case"keydown":case"keyup":re(Ge,n,Ue)}var en;if(za)e:{switch(e){case"compositionstart":var fn="onCompositionStart";break e;case"compositionend":fn="onCompositionEnd";break e;case"compositionupdate":fn="onCompositionUpdate";break e}fn=void 0}else Ar?uu(e,n)&&(fn="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(fn="onCompositionStart");fn&&(os&&n.locale!=="ko"&&(Ar||fn!=="onCompositionStart"?fn==="onCompositionEnd"&&Ar&&(en=Xr()):(Pi=Ue,Ja="value"in Pi?Pi.value:Pi.textContent,Ar=!0)),Dt=Vl(Ne,fn),0<Dt.length&&(fn=new as(fn,e,null,n,Ue),Ge.push({event:fn,listeners:Dt}),en?fn.data=en:(en=rl(n),en!==null&&(fn.data=en)))),(en=No?al(e,n):Oo(e,n))&&(fn=Vl(Ne,"onBeforeInput"),0<fn.length&&(Dt=new as("onBeforeInput","beforeinput",null,n,Ue),Ge.push({event:Dt,listeners:fn}),Dt.data=en)),n0(Ge,e,Ne,n,Ue)}Kp(Ge,t)})}function zu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vl(e,t){for(var n=t+"Capture",a=[];e!==null;){var o=e,h=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||h===null||(o=_r(e,n),o!=null&&a.unshift(zu(e,o,h)),o=_r(e,t),o!=null&&a.push(zu(e,o,h))),e.tag===3)return a;e=e.return}return[]}function s0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xp(e,t,n,a,o){for(var h=t._reactName,S=[];n!==null&&n!==a;){var U=n,ne=U.alternate,Ne=U.stateNode;if(U=U.tag,ne!==null&&ne===a)break;U!==5&&U!==26&&U!==27||Ne===null||(ne=Ne,o?(Ne=_r(n,h),Ne!=null&&S.unshift(zu(n,Ne,ne))):o||(Ne=_r(n,h),Ne!=null&&S.push(zu(n,Ne,ne)))),n=n.return}S.length!==0&&e.push({event:t,listeners:S})}var u0=/\r\n?/g,l0=/\u0000|\uFFFD/g;function Qp(e){return(typeof e=="string"?e:""+e).replace(u0,`
`).replace(l0,"")}function Wp(e,t){return t=Qp(t),Qp(e)===t}function kn(e,t,n,a,o,h){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||_n(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&_n(e,""+a);break;case"className":q(e,"class",a);break;case"tabIndex":q(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":q(e,n,a);break;case"style":yr(e,a,h);break;case"data":if(t!=="object"){q(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=zi(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(n==="formAction"?(t!=="input"&&kn(e,t,"name",o.name,o,null),kn(e,t,"formEncType",o.formEncType,o,null),kn(e,t,"formMethod",o.formMethod,o,null),kn(e,t,"formTarget",o.formTarget,o,null)):(kn(e,t,"encType",o.encType,o,null),kn(e,t,"method",o.method,o,null),kn(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=zi(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=bi);break;case"onScroll":a!=null&&ln("scroll",e);break;case"onScrollEnd":a!=null&&ln("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=zi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":ln("beforetoggle",e),ln("toggle",e),Zt(e,"popover",a);break;case"xlinkActuate":ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ie(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ie(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ie(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ie(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Zt(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Na.get(n)||n,Zt(e,n,a))}}function Jc(e,t,n,a,o,h){switch(n){case"style":yr(e,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(n=a.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof a=="string"?_n(e,a):(typeof a=="number"||typeof a=="bigint")&&_n(e,""+a);break;case"onScroll":a!=null&&ln("scroll",e);break;case"onScrollEnd":a!=null&&ln("scrollend",e);break;case"onClick":a!=null&&(e.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gr.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),h=e[Jt]||null,h=h!=null?h[n]:null,typeof h=="function"&&e.removeEventListener(t,h,o),typeof a=="function")){typeof h!="function"&&h!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,o);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Zt(e,n,a)}}}function hi(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ln("error",e),ln("load",e);var a=!1,o=!1,h;for(h in n)if(n.hasOwnProperty(h)){var S=n[h];if(S!=null)switch(h){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:kn(e,t,h,S,n,null)}}o&&kn(e,t,"srcSet",n.srcSet,n,null),a&&kn(e,t,"src",n.src,n,null);return;case"input":ln("invalid",e);var U=h=S=o=null,ne=null,Ne=null;for(a in n)if(n.hasOwnProperty(a)){var Ue=n[a];if(Ue!=null)switch(a){case"name":o=Ue;break;case"type":S=Ue;break;case"checked":ne=Ue;break;case"defaultChecked":Ne=Ue;break;case"value":h=Ue;break;case"defaultValue":U=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(s(137,t));break;default:kn(e,t,a,Ue,n,null)}}wt(e,h,U,ne,Ne,S,o,!1);return;case"select":ln("invalid",e),a=S=h=null;for(o in n)if(n.hasOwnProperty(o)&&(U=n[o],U!=null))switch(o){case"value":h=U;break;case"defaultValue":S=U;break;case"multiple":a=U;default:kn(e,t,o,U,n,null)}t=h,n=S,e.multiple=!!a,t!=null?Xt(e,!!a,t,!1):n!=null&&Xt(e,!!a,n,!0);return;case"textarea":ln("invalid",e),h=o=a=null;for(S in n)if(n.hasOwnProperty(S)&&(U=n[S],U!=null))switch(S){case"value":a=U;break;case"defaultValue":o=U;break;case"children":h=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(91));break;default:kn(e,t,S,U,n,null)}Nn(e,a,o,h);return;case"option":for(ne in n)if(n.hasOwnProperty(ne)&&(a=n[ne],a!=null))switch(ne){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:kn(e,t,ne,a,n,null)}return;case"dialog":ln("beforetoggle",e),ln("toggle",e),ln("cancel",e),ln("close",e);break;case"iframe":case"object":ln("load",e);break;case"video":case"audio":for(a=0;a<Bu.length;a++)ln(Bu[a],e);break;case"image":ln("error",e),ln("load",e);break;case"details":ln("toggle",e);break;case"embed":case"source":case"link":ln("error",e),ln("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ne in n)if(n.hasOwnProperty(Ne)&&(a=n[Ne],a!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:kn(e,t,Ne,a,n,null)}return;default:if(Ta(t)){for(Ue in n)n.hasOwnProperty(Ue)&&(a=n[Ue],a!==void 0&&Jc(e,t,Ue,a,n,void 0));return}}for(U in n)n.hasOwnProperty(U)&&(a=n[U],a!=null&&kn(e,t,U,a,n,null))}function o0(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,h=null,S=null,U=null,ne=null,Ne=null,Ue=null;for(ke in n){var Ge=n[ke];if(n.hasOwnProperty(ke)&&Ge!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":ne=Ge;default:a.hasOwnProperty(ke)||kn(e,t,ke,null,a,Ge)}}for(var Re in a){var ke=a[Re];if(Ge=n[Re],a.hasOwnProperty(Re)&&(ke!=null||Ge!=null))switch(Re){case"type":h=ke;break;case"name":o=ke;break;case"checked":Ne=ke;break;case"defaultChecked":Ue=ke;break;case"value":S=ke;break;case"defaultValue":U=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(s(137,t));break;default:ke!==Ge&&kn(e,t,Re,ke,a,Ge)}}tt(e,S,U,ne,Ne,Ue,h,o);return;case"select":ke=S=U=Re=null;for(h in n)if(ne=n[h],n.hasOwnProperty(h)&&ne!=null)switch(h){case"value":break;case"multiple":ke=ne;default:a.hasOwnProperty(h)||kn(e,t,h,null,a,ne)}for(o in a)if(h=a[o],ne=n[o],a.hasOwnProperty(o)&&(h!=null||ne!=null))switch(o){case"value":Re=h;break;case"defaultValue":U=h;break;case"multiple":S=h;default:h!==ne&&kn(e,t,o,h,a,ne)}t=U,n=S,a=ke,Re!=null?Xt(e,!!n,Re,!1):!!a!=!!n&&(t!=null?Xt(e,!!n,t,!0):Xt(e,!!n,n?[]:"",!1));return;case"textarea":ke=Re=null;for(U in n)if(o=n[U],n.hasOwnProperty(U)&&o!=null&&!a.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:kn(e,t,U,null,a,o)}for(S in a)if(o=a[S],h=n[S],a.hasOwnProperty(S)&&(o!=null||h!=null))switch(S){case"value":Re=o;break;case"defaultValue":ke=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==h&&kn(e,t,S,o,a,h)}dn(e,Re,ke);return;case"option":for(var _t in n)if(Re=n[_t],n.hasOwnProperty(_t)&&Re!=null&&!a.hasOwnProperty(_t))switch(_t){case"selected":e.selected=!1;break;default:kn(e,t,_t,null,a,Re)}for(ne in a)if(Re=a[ne],ke=n[ne],a.hasOwnProperty(ne)&&Re!==ke&&(Re!=null||ke!=null))switch(ne){case"selected":e.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:kn(e,t,ne,Re,a,ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in n)Re=n[Mt],n.hasOwnProperty(Mt)&&Re!=null&&!a.hasOwnProperty(Mt)&&kn(e,t,Mt,null,a,Re);for(Ne in a)if(Re=a[Ne],ke=n[Ne],a.hasOwnProperty(Ne)&&Re!==ke&&(Re!=null||ke!=null))switch(Ne){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(s(137,t));break;default:kn(e,t,Ne,Re,a,ke)}return;default:if(Ta(t)){for(var Bn in n)Re=n[Bn],n.hasOwnProperty(Bn)&&Re!==void 0&&!a.hasOwnProperty(Bn)&&Jc(e,t,Bn,void 0,a,Re);for(Ue in a)Re=a[Ue],ke=n[Ue],!a.hasOwnProperty(Ue)||Re===ke||Re===void 0&&ke===void 0||Jc(e,t,Ue,Re,a,ke);return}}for(var ye in n)Re=n[ye],n.hasOwnProperty(ye)&&Re!=null&&!a.hasOwnProperty(ye)&&kn(e,t,ye,null,a,Re);for(Ge in a)Re=a[Ge],ke=n[Ge],!a.hasOwnProperty(Ge)||Re===ke||Re==null&&ke==null||kn(e,t,Ge,Re,a,ke)}function Jp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function c0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var o=n[a],h=o.transferSize,S=o.initiatorType,U=o.duration;if(h&&U&&Jp(S)){for(S=0,U=o.responseEnd,a+=1;a<n.length;a++){var ne=n[a],Ne=ne.startTime;if(Ne>U)break;var Ue=ne.transferSize,Ge=ne.initiatorType;Ue&&Jp(Ge)&&(ne=ne.responseEnd,S+=Ue*(ne<U?1:(U-Ne)/(ne-Ne)))}if(--a,t+=8*(h+S)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $c=null,ef=null;function Kl(e){return e.nodeType===9?e:e.ownerDocument}function $p(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ev(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function tf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nf=null;function f0(){var e=window.event;return e&&e.type==="popstate"?e===nf?!1:(nf=e,!0):(nf=null,!1)}var tv=typeof setTimeout=="function"?setTimeout:void 0,h0=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,d0=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(e){return nv.resolve(null).then(e).catch(p0)}:tv;function p0(e){setTimeout(function(){throw e})}function ba(e){return e==="head"}function iv(e,t){var n=t,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(o),Us(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Lu(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Lu(n);for(var h=n.firstChild;h;){var S=h.nextSibling,U=h.nodeName;h[qn]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=S}}else n==="body"&&Lu(e.ownerDocument.body);n=o}while(n);Us(t)}function rv(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function rf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":rf(n),ii(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function v0(e,t,n,a){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[qn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Qi(e.nextSibling),e===null)break}return null}function m0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qi(e.nextSibling),e===null))return null;return e}function av(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Qi(e.nextSibling),e===null))return null;return e}function af(e){return e.data==="$?"||e.data==="$~"}function sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function g0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Qi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var uf=null;function sv(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Qi(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function uv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function lv(e,t,n){switch(t=Kl(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Lu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ii(e)}var Wi=new Map,ov=new Set;function Zl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hr=be.d;be.d={f:y0,r:b0,D:w0,C:_0,L:x0,m:E0,X:A0,S:S0,M:D0};function y0(){var e=Hr.f(),t=ql();return e||t}function b0(e){var t=En(e);t!==null&&t.tag===5&&t.type==="form"?Dd(t):Hr.r(e)}var Ls=typeof document>"u"?null:document;function cv(e,t,n){var a=Ls;if(a&&typeof t=="string"&&t){var o=Ke(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),ov.has(o)||(ov.add(o),e={rel:e,crossOrigin:n,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),hi(t,"link",e),Gn(t),a.head.appendChild(t)))}}function w0(e){Hr.D(e),cv("dns-prefetch",e,null)}function _0(e,t){Hr.C(e,t),cv("preconnect",e,t)}function x0(e,t,n){Hr.L(e,t,n);var a=Ls;if(a&&e&&t){var o='link[rel="preload"][as="'+Ke(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Ke(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Ke(n.imageSizes)+'"]')):o+='[href="'+Ke(e)+'"]';var h=o;switch(t){case"style":h=Ms(e);break;case"script":h=js(e)}Wi.has(h)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wi.set(h,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(Mu(h))||t==="script"&&a.querySelector(ju(h))||(t=a.createElement("link"),hi(t,"link",e),Gn(t),a.head.appendChild(t)))}}function E0(e,t){Hr.m(e,t);var n=Ls;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ke(a)+'"][href="'+Ke(e)+'"]',h=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=js(e)}if(!Wi.has(h)&&(e=_({rel:"modulepreload",href:e},t),Wi.set(h,e),n.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ju(h)))return}a=n.createElement("link"),hi(a,"link",e),Gn(a),n.head.appendChild(a)}}}function S0(e,t,n){Hr.S(e,t,n);var a=Ls;if(a&&e){var o=Vn(a).hoistableStyles,h=Ms(e);t=t||"default";var S=o.get(h);if(!S){var U={loading:0,preload:null};if(S=a.querySelector(Mu(h)))U.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wi.get(h))&&lf(e,n);var ne=S=a.createElement("link");Gn(ne),hi(ne,"link",e),ne._p=new Promise(function(Ne,Ue){ne.onload=Ne,ne.onerror=Ue}),ne.addEventListener("load",function(){U.loading|=1}),ne.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Xl(S,t,a)}S={type:"stylesheet",instance:S,count:1,state:U},o.set(h,S)}}}function A0(e,t){Hr.X(e,t);var n=Ls;if(n&&e){var a=Vn(n).hoistableScripts,o=js(e),h=a.get(o);h||(h=n.querySelector(ju(o)),h||(e=_({src:e,async:!0},t),(t=Wi.get(o))&&of(e,t),h=n.createElement("script"),Gn(h),hi(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(o,h))}}function D0(e,t){Hr.M(e,t);var n=Ls;if(n&&e){var a=Vn(n).hoistableScripts,o=js(e),h=a.get(o);h||(h=n.querySelector(ju(o)),h||(e=_({src:e,async:!0,type:"module"},t),(t=Wi.get(o))&&of(e,t),h=n.createElement("script"),Gn(h),hi(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(o,h))}}function fv(e,t,n,a){var o=(o=ut.current)?Zl(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ms(n.href),n=Vn(o).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ms(n.href);var h=Vn(o).hoistableStyles,S=h.get(e);if(S||(o=o.ownerDocument||o,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=o.querySelector(Mu(e)))&&!h._p&&(S.instance=h,S.state.loading=5),Wi.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wi.set(e,n),h||C0(o,e,n,S.state))),t&&a===null)throw Error(s(528,""));return S}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=js(n),n=Vn(o).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ms(e){return'href="'+Ke(e)+'"'}function Mu(e){return'link[rel="stylesheet"]['+e+"]"}function hv(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function C0(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),hi(t,"link",n),Gn(t),e.head.appendChild(t))}function js(e){return'[src="'+Ke(e)+'"]'}function ju(e){return"script[async]"+e}function dv(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ke(n.href)+'"]');if(a)return t.instance=a,Gn(a),a;var o=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Gn(a),hi(a,"style",o),Xl(a,n.precedence,e),t.instance=a;case"stylesheet":o=Ms(n.href);var h=e.querySelector(Mu(o));if(h)return t.state.loading|=4,t.instance=h,Gn(h),h;a=hv(n),(o=Wi.get(o))&&lf(a,o),h=(e.ownerDocument||e).createElement("link"),Gn(h);var S=h;return S._p=new Promise(function(U,ne){S.onload=U,S.onerror=ne}),hi(h,"link",a),t.state.loading|=4,Xl(h,n.precedence,e),t.instance=h;case"script":return h=js(n.src),(o=e.querySelector(ju(h)))?(t.instance=o,Gn(o),o):(a=n,(o=Wi.get(h))&&(a=_({},n),of(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),Gn(o),hi(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Xl(a,n.precedence,e));return t.instance}function Xl(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,h=o,S=0;S<a.length;S++){var U=a[S];if(U.dataset.precedence===t)h=U;else if(h!==o)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function lf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function of(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ql=null;function pv(e,t,n){if(Ql===null){var a=new Map,o=Ql=new Map;o.set(n,a)}else o=Ql,a=o.get(n),a||(a=new Map,o.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var h=n[o];if(!(h[qn]||h[St]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(t)||"";S=e+S;var U=a.get(S);U?U.push(h):a.set(S,[h])}}return a}function vv(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function T0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function mv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function N0(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Ms(a.href),h=t.querySelector(Mu(o));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Wl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=h,Gn(h);return}h=t.ownerDocument||t,a=hv(a),(o=Wi.get(o))&&lf(a,o),h=h.createElement("link"),Gn(h);var S=h;S._p=new Promise(function(U,ne){S.onload=U,S.onerror=ne}),hi(h,"link",a),n.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Wl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var cf=0;function O0(e,t){return e.stylesheets&&e.count===0&&$l(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&$l(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&cf===0&&(cf=62500*c0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$l(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>cf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(o)}}:null}function Wl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$l(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jl=null;function $l(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jl=new Map,t.forEach(R0,e),Jl=null,Wl.call(e))}function R0(e,t){if(!(t.state.loading&4)){var n=Jl.get(e);if(n)var a=n.get(null);else{n=new Map,Jl.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<o.length;h++){var S=o[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(n.set(S.dataset.precedence,S),a=S)}a&&n.set(null,a)}o=t.instance,S=o.getAttribute("data-precedence"),h=n.get(S)||a,h===a&&n.set(null,o),n.set(S,o),this.count++,a=Wl.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),h?h.parentNode.insertBefore(o,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Uu={$$typeof:j,Provider:null,Consumer:null,_currentValue:Se,_currentValue2:Se,_threadCount:0};function k0(e,t,n,a,o,h,S,U,ne){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function gv(e,t,n,a,o,h,S,U,ne,Ne,Ue,Ge){return e=new k0(e,t,n,S,ne,Ne,Ue,Ge,U),t=1,h===!0&&(t|=24),h=Mi(3,null,null,t),e.current=h,h.stateNode=e,t=Ho(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:a,isDehydrated:n,cache:t},Vo(h),e}function yv(e){return e?(e=ps,e):ps}function bv(e,t,n,a,o,h){o=yv(o),a.context===null?a.context=o:a.pendingContext=o,a=la(t),a.payload={element:n},h=h===void 0?null:h,h!==null&&(a.callback=h),n=oa(e,a,t),n!==null&&(ki(n,e,t),mu(n,e,t))}function wv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ff(e,t){wv(e,t),(e=e.alternate)&&wv(e,t)}function _v(e){if(e.tag===13||e.tag===31){var t=Sn(e,67108864);t!==null&&ki(t,e,67108864),ff(e,67108864)}}function xv(e){if(e.tag===13||e.tag===31){var t=Fi();t=zt(t);var n=Sn(e,t);n!==null&&ki(n,e,t),ff(e,t)}}var eo=!0;function B0(e,t,n,a){var o=ae.T;ae.T=null;var h=be.p;try{be.p=2,hf(e,t,n,a)}finally{be.p=h,ae.T=o}}function z0(e,t,n,a){var o=ae.T;ae.T=null;var h=be.p;try{be.p=8,hf(e,t,n,a)}finally{be.p=h,ae.T=o}}function hf(e,t,n,a){if(eo){var o=df(a);if(o===null)Wc(e,t,a,to,n),Sv(e,a);else if(M0(o,e,t,n,a))a.stopPropagation();else if(Sv(e,a),t&4&&-1<L0.indexOf(e)){for(;o!==null;){var h=En(o);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=R(h.pendingLanes);if(S!==0){var U=h;for(U.pendingLanes|=2,U.entangledLanes|=2;S;){var ne=1<<31-M(S);U.entanglements[1]|=ne,S&=~ne}pr(h),(xn&6)===0&&(jl=nn()+500,ku(0))}}break;case 31:case 13:U=Sn(h,2),U!==null&&ki(U,h,2),ql(),ff(h,2)}if(h=df(a),h===null&&Wc(e,t,a,to,n),h===o)break;o=h}o!==null&&a.stopPropagation()}else Wc(e,t,a,null,n)}}function df(e){return e=Wa(e),pf(e)}var to=null;function pf(e){if(to=null,e=Si(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return to=e,null}function Ev(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case rt:return 2;case bt:return 8;case Ht:case rn:return 32;case Et:return 268435456;default:return 32}default:return 32}}var vf=!1,wa=null,_a=null,xa=null,qu=new Map,Iu=new Map,Ea=[],L0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":qu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(t.pointerId)}}function Fu(e,t,n,a,o,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:h,targetContainers:[o]},t!==null&&(t=En(t),t!==null&&_v(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function M0(e,t,n,a,o){switch(t){case"focusin":return wa=Fu(wa,e,t,n,a,o),!0;case"dragenter":return _a=Fu(_a,e,t,n,a,o),!0;case"mouseover":return xa=Fu(xa,e,t,n,a,o),!0;case"pointerover":var h=o.pointerId;return qu.set(h,Fu(qu.get(h)||null,e,t,n,a,o)),!0;case"gotpointercapture":return h=o.pointerId,Iu.set(h,Fu(Iu.get(h)||null,e,t,n,a,o)),!0}return!1}function Av(e){var t=Si(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,Lt(e.priority,function(){xv(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,Lt(e.priority,function(){xv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function no(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=df(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ai=a,n.target.dispatchEvent(a),Ai=null}else return t=En(n),t!==null&&_v(t),e.blockedOn=n,!1;t.shift()}return!0}function Dv(e,t,n){no(e)&&n.delete(t)}function j0(){vf=!1,wa!==null&&no(wa)&&(wa=null),_a!==null&&no(_a)&&(_a=null),xa!==null&&no(xa)&&(xa=null),qu.forEach(Dv),Iu.forEach(Dv)}function io(e,t){e.blockedOn===t&&(e.blockedOn=null,vf||(vf=!0,D.unstable_scheduleCallback(D.unstable_NormalPriority,j0)))}var ro=null;function Cv(e){ro!==e&&(ro=e,D.unstable_scheduleCallback(D.unstable_NormalPriority,function(){ro===e&&(ro=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(pf(a||n)===null)continue;break}var h=En(n);h!==null&&(e.splice(t,3),t-=3,hc(h,{pending:!0,data:o,method:n.method,action:a},a,o))}}))}function Us(e){function t(ne){return io(ne,e)}wa!==null&&io(wa,e),_a!==null&&io(_a,e),xa!==null&&io(xa,e),qu.forEach(t),Iu.forEach(t);for(var n=0;n<Ea.length;n++){var a=Ea[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ea.length&&(n=Ea[0],n.blockedOn===null);)Av(n),n.blockedOn===null&&Ea.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var o=n[a],h=n[a+1],S=o[Jt]||null;if(typeof h=="function")S||Cv(n);else if(S){var U=null;if(h&&h.hasAttribute("formAction")){if(o=h,S=h[Jt]||null)U=S.formAction;else if(pf(o)!==null)continue}else U=S.action;typeof U=="function"?n[a+1]=U:(n.splice(a,3),a-=3),Cv(n)}}}function Tv(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return o=S})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function mf(e){this._internalRoot=e}ao.prototype.render=mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,a=Fi();bv(n,a,e,t,null,null)},ao.prototype.unmount=mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bv(e.current,2,null,e,null,null),ql(),t[An]=null}};function ao(e){this._internalRoot=e}ao.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ea.length&&t!==0&&t<Ea[n].priority;n++);Ea.splice(n,0,e),n===0&&Av(e)}};var Nv=i.version;if(Nv!=="19.2.4")throw Error(s(527,Nv,"19.2.4"));be.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var U0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{Nt=so.inject(U0),Wt=so}catch{}}return Pu.createRoot=function(e,t){if(!u(e))throw Error(s(299));var n=!1,a="",o=Md,h=jd,S=Ud;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=gv(e,1,!1,null,null,n,a,null,o,h,S,Tv),e[An]=t.current,Qc(e),new mf(t)},Pu.hydrateRoot=function(e,t,n){if(!u(e))throw Error(s(299));var a=!1,o="",h=Md,S=jd,U=Ud,ne=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(S=n.onCaughtError),n.onRecoverableError!==void 0&&(U=n.onRecoverableError),n.formState!==void 0&&(ne=n.formState)),t=gv(e,1,!0,t,n??null,a,o,ne,h,S,U,Tv),t.context=yv(null),n=t.current,a=Fi(),a=zt(a),o=la(a),o.callback=null,oa(n,o,a),n=a,t.current.lanes=n,ee(t,n),pr(t),e[An]=t.current,Qc(e),new ao(t)},Pu.version="19.2.4",Pu}var qv;function X0(){if(qv)return bf.exports;qv=1;function D(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D)}catch(i){console.error(i)}}return D(),bf.exports=Z0(),bf.exports}var Q0=X0();const W0=Vr(Q0);var co={exports:{}},J0=co.exports,Iv;function $0(){return Iv||(Iv=1,(function(D,i){((r,s)=>{D.exports=s()})(J0,function(){var r=function(l,d){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(b,E){b.__proto__=E}:function(b,E){for(var N in E)Object.prototype.hasOwnProperty.call(E,N)&&(b[N]=E[N])}))(l,d)},s=function(){return(s=Object.assign||function(l){for(var d,b=1,E=arguments.length;b<E;b++)for(var N in d=arguments[b])Object.prototype.hasOwnProperty.call(d,N)&&(l[N]=d[N]);return l}).apply(this,arguments)};function u(l,d,b){for(var E,N=0,z=d.length;N<z;N++)!E&&N in d||((E=E||Array.prototype.slice.call(d,0,N))[N]=d[N]);return l.concat(E||Array.prototype.slice.call(d))}var c=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Hi,f=Object.keys,p=Array.isArray;function v(l,d){return typeof d=="object"&&f(d).forEach(function(b){l[b]=d[b]}),l}typeof Promise>"u"||c.Promise||(c.Promise=Promise);var y=Object.getPrototypeOf,x={}.hasOwnProperty;function _(l,d){return x.call(l,d)}function O(l,d){typeof d=="function"&&(d=d(y(l))),(typeof Reflect>"u"?f:Reflect.ownKeys)(d).forEach(function(b){H(l,b,d[b])})}var T=Object.defineProperty;function H(l,d,b,E){T(l,d,v(b&&_(b,"get")&&typeof b.get=="function"?{get:b.get,set:b.set,configurable:!0}:{value:b,configurable:!0,writable:!0},E))}function B(l){return{from:function(d){return l.prototype=Object.create(d.prototype),H(l.prototype,"constructor",l),{extend:O.bind(null,l.prototype)}}}}var w=Object.getOwnPropertyDescriptor,A=[].slice;function C(l,d,b){return A.call(l,d,b)}function j(l,d){return d(l)}function F(l){if(!l)throw new Error("Assertion Failed")}function k(l){c.setImmediate?setImmediate(l):setTimeout(l,0)}function I(l,d){if(typeof d=="string"&&_(l,d))return l[d];if(!d)return l;if(typeof d!="string"){for(var b=[],E=0,N=d.length;E<N;++E){var z=I(l,d[E]);b.push(z)}return b}var P,K=d.indexOf(".");return K===-1||(P=l[d.substr(0,K)])==null?void 0:I(P,d.substr(K+1))}function G(l,d,b){if(l&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof d!="string"&&"length"in d){F(typeof b!="string"&&"length"in b);for(var E=0,N=d.length;E<N;++E)G(l,d[E],b[E])}else{var z,P,K=d.indexOf(".");K!==-1?(z=d.substr(0,K),(K=d.substr(K+1))===""?b===void 0?p(l)&&!isNaN(parseInt(z))?l.splice(z,1):delete l[z]:l[z]=b:G(P=(P=l[z])&&_(l,z)?P:l[z]={},K,b)):b===void 0?p(l)&&!isNaN(parseInt(d))?l.splice(d,1):delete l[d]:l[d]=b}}function W(l){var d,b={};for(d in l)_(l,d)&&(b[d]=l[d]);return b}var Q=[].concat;function J(l){return Q.apply([],l)}var pe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(J([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(d){return d+l+"Array"})}))).filter(function(l){return c[l]}),Ee=new Set(pe.map(function(l){return c[l]})),ce=null;function Ce(l){return ce=new WeakMap,l=(function d(b){if(!b||typeof b!="object")return b;var E=ce.get(b);if(E)return E;if(p(b)){E=[],ce.set(b,E);for(var N=0,z=b.length;N<z;++N)E.push(d(b[N]))}else if(Ee.has(b.constructor))E=b;else{var P,K=y(b);for(P in E=K===Object.prototype?{}:Object.create(K),ce.set(b,E),b)_(b,P)&&(E[P]=d(b[P]))}return E})(l),ce=null,l}var Ye={}.toString;function Le(l){return Ye.call(l).slice(8,-1)}var ae=typeof Symbol<"u"?Symbol.iterator:"@@iterator",be=typeof ae=="symbol"?function(l){var d;return l!=null&&(d=l[ae])&&d.apply(l)}:function(){return null};function Se(l,d){d=l.indexOf(d),0<=d&&l.splice(d,1)}var Ie={};function nt(l){var d,b,E,N;if(arguments.length===1){if(p(l))return l.slice();if(this===Ie&&typeof l=="string")return[l];if(N=be(l))for(b=[];!(E=N.next()).done;)b.push(E.value);else{if(l==null)return[l];if(typeof(d=l.length)!="number")return[l];for(b=new Array(d);d--;)b[d]=l[d]}}else for(d=arguments.length,b=new Array(d);d--;)b[d]=arguments[d];return b}var V=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},pe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],rt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(pe),Pe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Me(l,d){this.name=l,this.message=d}function it(l,d){return l+". Errors: "+Object.keys(d).map(function(b){return d[b].toString()}).filter(function(b,E,N){return N.indexOf(b)===E}).join(`
`)}function ut(l,d,b,E){this.failures=d,this.failedKeys=E,this.successCount=b,this.message=it(l,d)}function vt(l,d){this.name="BulkError",this.failures=Object.keys(d).map(function(b){return d[b]}),this.failuresByPos=d,this.message=it(l,this.failures)}B(Me).from(Error).extend({toString:function(){return this.name+": "+this.message}}),B(ut).from(Me),B(vt).from(Me);var ct=rt.reduce(function(l,d){return l[d]=d+"Error",l},{}),At=Me,$e=rt.reduce(function(l,d){var b=d+"Error";function E(N,z){this.name=b,N?typeof N=="string"?(this.message="".concat(N).concat(z?`
 `+z:""),this.inner=z||null):typeof N=="object"&&(this.message="".concat(N.name," ").concat(N.message),this.inner=N):(this.message=Pe[d]||b,this.inner=null)}return B(E).from(At),l[d]=E,l},{}),Tt=($e.Syntax=SyntaxError,$e.Type=TypeError,$e.Range=RangeError,pe.reduce(function(l,d){return l[d+"Error"]=$e[d],l},{}));pe=rt.reduce(function(l,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(l[d+"Error"]=$e[d]),l},{});function pt(){}function kt(l){return l}function Ut(l,d){return l==null||l===kt?d:function(b){return d(l(b))}}function Vt(l,d){return function(){l.apply(this,arguments),d.apply(this,arguments)}}function tn(l,d){return l===pt?d:function(){var b=l.apply(this,arguments),E=(b!==void 0&&(arguments[0]=b),this.onsuccess),N=this.onerror,z=(this.onsuccess=null,this.onerror=null,d.apply(this,arguments));return E&&(this.onsuccess=this.onsuccess?Vt(E,this.onsuccess):E),N&&(this.onerror=this.onerror?Vt(N,this.onerror):N),z!==void 0?z:b}}function Kt(l,d){return l===pt?d:function(){l.apply(this,arguments);var b=this.onsuccess,E=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?Vt(b,this.onsuccess):b),E&&(this.onerror=this.onerror?Vt(E,this.onerror):E)}}function on(l,d){return l===pt?d:function(N){var E=l.apply(this,arguments),N=(v(N,E),this.onsuccess),z=this.onerror,P=(this.onsuccess=null,this.onerror=null,d.apply(this,arguments));return N&&(this.onsuccess=this.onsuccess?Vt(N,this.onsuccess):N),z&&(this.onerror=this.onerror?Vt(z,this.onerror):z),E===void 0?P===void 0?void 0:P:v(E,P)}}function bn(l,d){return l===pt?d:function(){return d.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function wn(l,d){return l===pt?d:function(){var b=l.apply(this,arguments);if(b&&typeof b.then=="function"){for(var E=this,N=arguments.length,z=new Array(N);N--;)z[N]=arguments[N];return b.then(function(){return d.apply(E,z)})}return d.apply(this,arguments)}}pe.ModifyError=ut,pe.DexieError=Me,pe.BulkError=vt;var xt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Bt(l){xt=l}var Ct={},nn=100,mt=typeof Promise>"u"?[]:(rt=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[mt=crypto.subtle.digest("SHA-512",new Uint8Array([0])),y(mt),rt]:[rt,y(rt),rt]),rt=mt[0],Dr=mt[1],Dr=Dr&&Dr.then,bt=rt&&rt.constructor,Ht=!!mt[2],rn=function(l,d){Fe.push([l,d]),jt&&(queueMicrotask(ge),jt=!1)},Et=!0,jt=!0,Ft=[],Nt=[],Wt=kt,hn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:pt,pgp:!1,env:{},finalize:pt},M=hn,Fe=[],Ze=0,ot=[];function X(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=M;if(typeof l!="function"){if(l!==Ct)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&R(this,this._value)}else this._state=null,this._value=null,++d.ref,(function b(E,N){try{N(function(z){if(E._state===null){if(z===E)throw new TypeError("A promise cannot be resolved with itself.");var P=E._lib&&L();z&&typeof z.then=="function"?b(E,function(K,se){z instanceof X?z._then(K,se):z.then(K,se)}):(E._state=!0,E._value=z,Z(E)),P&&ee()}},R.bind(null,E))}catch(z){R(E,z)}})(this,l)}var Be={get:function(){var l=M,d=Lt;function b(E,N){var z=this,P=!l.global&&(l!==M||d!==Lt),K=P&&!An(),se=new X(function(_e,ue){m(z,new g(ii(E,l,P,K),ii(N,l,P,K),_e,ue,l))});return this._consoleTask&&(se._consoleTask=this._consoleTask),se}return b.prototype=Ct,b},set:function(l){H(this,"then",l&&l.prototype===Ct?Be:{get:function(){return l},set:Be.set})}};function g(l,d,b,E,N){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof d=="function"?d:null,this.resolve=b,this.reject=E,this.psd=N}function R(l,d){var b,E;Nt.push(d),l._state===null&&(b=l._lib&&L(),d=Wt(d),l._state=!1,l._value=d,E=l,Ft.some(function(N){return N._value===E._value})||Ft.push(E),Z(l),b)&&ee()}function Z(l){var d=l._listeners;l._listeners=[];for(var b=0,E=d.length;b<E;++b)m(l,d[b]);var N=l._PSD;--N.ref||N.finalize(),Ze===0&&(++Ze,rn(function(){--Ze==0&&De()},[]))}function m(l,d){if(l._state===null)l._listeners.push(d);else{var b=l._state?d.onFulfilled:d.onRejected;if(b===null)return(l._state?d.resolve:d.reject)(l._value);++d.psd.ref,++Ze,rn(te,[b,l,d])}}function te(l,d,b){try{var E,N=d._value;!d._state&&Nt.length&&(Nt=[]),E=xt&&d._consoleTask?d._consoleTask.run(function(){return l(N)}):l(N),d._state||Nt.indexOf(N)!==-1||(z=>{for(var P=Ft.length;P;)if(Ft[--P]._value===z._value)return Ft.splice(P,1)})(d),b.resolve(E)}catch(z){b.reject(z)}finally{--Ze==0&&De(),--b.psd.ref||b.psd.finalize()}}function ge(){qn(hn,function(){L()&&ee()})}function L(){var l=Et;return jt=Et=!1,l}function ee(){var l,d,b;do for(;0<Fe.length;)for(l=Fe,Fe=[],b=l.length,d=0;d<b;++d){var E=l[d];E[0].apply(null,E[1])}while(0<Fe.length);jt=Et=!0}function De(){for(var l=Ft,d=(Ft=[],l.forEach(function(E){E._PSD.onunhandled.call(null,E._value,E)}),ot.slice(0)),b=d.length;b;)d[--b]()}function lt(l){return new X(Ct,!1,l)}function Ve(l,d){var b=M;return function(){var E=L(),N=M;try{return jn(b,!0),l.apply(this,arguments)}catch(z){d&&d(z)}finally{jn(N,!1),E&&ee()}}}O(X.prototype,{then:Be,_then:function(l,d){m(this,new g(null,null,l,d,M))},catch:function(l){var d,b;return arguments.length===1?this.then(null,l):(d=l,b=arguments[1],typeof d=="function"?this.then(null,function(E){return(E instanceof d?b:lt)(E)}):this.then(null,function(E){return(E&&E.name===d?b:lt)(E)}))},finally:function(l){return this.then(function(d){return X.resolve(l()).then(function(){return d})},function(d){return X.resolve(l()).then(function(){return lt(d)})})},timeout:function(l,d){var b=this;return l<1/0?new X(function(E,N){var z=setTimeout(function(){return N(new $e.Timeout(d))},l);b.then(E,N).finally(clearTimeout.bind(null,z))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&H(X.prototype,Symbol.toStringTag,"Dexie.Promise"),hn.env=Un(),O(X,{all:function(){var l=nt.apply(null,arguments).map(ai);return new X(function(d,b){l.length===0&&d([]);var E=l.length;l.forEach(function(N,z){return X.resolve(N).then(function(P){l[z]=P,--E||d(l)},b)})})},resolve:function(l){return l instanceof X?l:l&&typeof l.then=="function"?new X(function(d,b){l.then(d,b)}):new X(Ct,!0,l)},reject:lt,race:function(){var l=nt.apply(null,arguments).map(ai);return new X(function(d,b){l.map(function(E){return X.resolve(E).then(d,b)})})},PSD:{get:function(){return M},set:function(l){return M=l}},totalEchoes:{get:function(){return Lt}},newPSD:St,usePSD:qn,scheduler:{get:function(){return rn},set:function(l){rn=l}},rejectionMapper:{get:function(){return Wt},set:function(l){Wt=l}},follow:function(l,d){return new X(function(b,E){return St(function(N,z){var P=M;P.unhandleds=[],P.onunhandled=z,P.finalize=Vt(function(){var K,se=this;K=function(){se.unhandleds.length===0?N():z(se.unhandleds[0])},ot.push(function _e(){K(),ot.splice(ot.indexOf(_e),1)}),++Ze,rn(function(){--Ze==0&&De()},[])},P.finalize),l()},d,b,E)})}}),bt&&(bt.allSettled&&H(X,"allSettled",function(){var l=nt.apply(null,arguments).map(ai);return new X(function(d){l.length===0&&d([]);var b=l.length,E=new Array(b);l.forEach(function(N,z){return X.resolve(N).then(function(P){return E[z]={status:"fulfilled",value:P}},function(P){return E[z]={status:"rejected",reason:P}}).then(function(){return--b||d(E)})})})}),bt.any&&typeof AggregateError<"u"&&H(X,"any",function(){var l=nt.apply(null,arguments).map(ai);return new X(function(d,b){l.length===0&&b(new AggregateError([]));var E=l.length,N=new Array(E);l.forEach(function(z,P){return X.resolve(z).then(function(K){return d(K)},function(K){N[P]=K,--E||b(new AggregateError(N))})})})}),bt.withResolvers)&&(X.withResolvers=bt.withResolvers);var Je={awaits:0,echoes:0,id:0},zt=0,Tn=[],Yt=0,Lt=0,sn=0;function St(l,P,b,E){var N=M,z=Object.create(N),P=(z.parent=N,z.ref=0,z.global=!1,z.id=++sn,hn.env,z.env=Ht?{Promise:X,PromiseProp:{value:X,configurable:!0,writable:!0},all:X.all,race:X.race,allSettled:X.allSettled,any:X.any,resolve:X.resolve,reject:X.reject}:{},P&&v(z,P),++N.ref,z.finalize=function(){--this.parent.ref||this.parent.finalize()},qn(z,l,b,E));return z.ref===0&&z.finalize(),P}function Jt(){return Je.id||(Je.id=++zt),++Je.awaits,Je.echoes+=nn,Je.id}function An(){return!!Je.awaits&&(--Je.awaits==0&&(Je.id=0),Je.echoes=Je.awaits*nn,!0)}function ai(l){return Je.echoes&&l&&l.constructor===bt?(Jt(),l.then(function(d){return An(),d},function(d){return An(),En(d)})):l}function Mn(){var l=Tn[Tn.length-1];Tn.pop(),jn(l,!1)}function jn(l,d){var b,E,N=M;(d?!Je.echoes||Yt++&&l===M:!Yt||--Yt&&l===M)||queueMicrotask(d?(function(z){++Lt,Je.echoes&&--Je.echoes!=0||(Je.echoes=Je.awaits=Je.id=0),Tn.push(M),jn(z,!0)}).bind(null,l):Mn),l!==M&&(M=l,N===hn&&(hn.env=Un()),Ht)&&(b=hn.env.Promise,E=l.env,N.global||l.global)&&(Object.defineProperty(c,"Promise",E.PromiseProp),b.all=E.all,b.race=E.race,b.resolve=E.resolve,b.reject=E.reject,E.allSettled&&(b.allSettled=E.allSettled),E.any)&&(b.any=E.any)}function Un(){var l=c.Promise;return Ht?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(c,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function qn(l,d,b,E,N){var z=M;try{return jn(l,!0),d(b,E,N)}finally{jn(z,!1)}}function ii(l,d,b,E){return typeof l!="function"?l:function(){var N=M;b&&Jt(),jn(d,!0);try{return l.apply(this,arguments)}finally{jn(N,!1),E&&queueMicrotask(An)}}}function Si(l){Promise===bt&&Je.echoes===0?Yt===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Dr).indexOf("[native code]")===-1&&(Jt=An=pt);var En=X.reject,pi="",Vn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Gn="String expected.",vi=[],gr="__dbnames",mi="readonly",Ci="readwrite";function $i(l,d){return l?d?function(){return l.apply(this,arguments)&&d.apply(this,arguments)}:l:d}var Ca={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function er(l){return typeof l!="string"||/\./.test(l)?function(d){return d}:function(d){return d[l]===void 0&&l in d&&delete(d=Ce(d))[l],d}}function Qa(){throw $e.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Zt(l,d){try{var b=q(l),E=q(d);if(b!==E)return b==="Array"?1:E==="Array"?-1:b==="binary"?1:E==="binary"?-1:b==="string"?1:E==="string"?-1:b==="Date"?1:E!=="Date"?NaN:-1;switch(b){case"number":case"Date":case"string":return d<l?1:l<d?-1:0;case"binary":for(var N=ie(l),z=ie(d),P=N.length,K=z.length,se=P<K?P:K,_e=0;_e<se;++_e)if(N[_e]!==z[_e])return N[_e]<z[_e]?-1:1;return P===K?0:P<K?-1:1;case"Array":for(var ue=l,re=d,fe=ue.length,de=re.length,le=fe<de?fe:de,oe=0;oe<le;++oe){var Ae=Zt(ue[oe],re[oe]);if(Ae!==0)return Ae}return fe===de?0:fe<de?-1:1}}catch{}return NaN}function q(l){var d=typeof l;return d=="object"&&(ArrayBuffer.isView(l)||(d=Le(l))==="ArrayBuffer")?"binary":d}function ie(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function Y(l,d,b){var E=l.schema.yProps;return E?(d&&0<b.numFailures&&(d=d.filter(function(N,z){return!b.failures[z]})),Promise.all(E.map(function(N){return N=N.updatesTable,d?l.db.table(N).where("k").anyOf(d).delete():l.db.table(N).clear()})).then(function(){return b})):b}we.prototype.execute=function(l){var d=this["@@propmod"];if(d.add!==void 0){var b=d.add;if(p(b))return u(u([],p(l)?l:[],!0),b).sort();if(typeof b=="number")return(Number(l)||0)+b;if(typeof b=="bigint")try{return BigInt(l)+b}catch{return BigInt(0)+b}throw new TypeError("Invalid term ".concat(b))}if(d.remove!==void 0){var E=d.remove;if(p(E))return p(l)?l.filter(function(N){return!E.includes(N)}).sort():[];if(typeof E=="number")return Number(l)-E;if(typeof E=="bigint")try{return BigInt(l)-E}catch{return BigInt(0)-E}throw new TypeError("Invalid subtrahend ".concat(E))}return b=(b=d.replacePrefix)==null?void 0:b[0],b&&typeof l=="string"&&l.startsWith(b)?d.replacePrefix[1]+l.substring(b.length):l};var me=we;function we(l){this["@@propmod"]=l}function ve(l,d){for(var b=f(d),E=b.length,N=!1,z=0;z<E;++z){var P=b[z],K=d[P],se=I(l,P);K instanceof me?(G(l,P,K.execute(se)),N=!0):se!==K&&(G(l,P,K),N=!0)}return N}ze.prototype._trans=function(l,d,b){var E=this._tx||M.trans,N=this.name,z=xt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function P(_e,ue,re){if(re.schema[N])return d(re.idbtrans,re);throw new $e.NotFound("Table "+N+" not part of transaction")}var K=L();try{var se=E&&E.db._novip===this.db._novip?E===M.trans?E._promise(l,P,b):St(function(){return E._promise(l,P,b)},{trans:E,transless:M.transless||M}):(function _e(ue,re,fe,de){if(ue.idbdb&&(ue._state.openComplete||M.letThrough||ue._vip)){var le=ue._createTransaction(re,fe,ue._dbSchema);try{le.create(),ue._state.PR1398_maxLoop=3}catch(oe){return oe.name===ct.InvalidState&&ue.isOpen()&&0<--ue._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ue.close({disableAutoOpen:!1}),ue.open().then(function(){return _e(ue,re,fe,de)})):En(oe)}return le._promise(re,function(oe,Ae){return St(function(){return M.trans=le,de(oe,Ae,le)})}).then(function(oe){if(re==="readwrite")try{le.idbtrans.commit()}catch{}return re==="readonly"?oe:le._completion.then(function(){return oe})})}if(ue._state.openComplete)return En(new $e.DatabaseClosed(ue._state.dbOpenError));if(!ue._state.isBeingOpened){if(!ue._state.autoOpen)return En(new $e.DatabaseClosed);ue.open().catch(pt)}return ue._state.dbReadyPromise.then(function(){return _e(ue,re,fe,de)})})(this.db,l,[this.name],P);return z&&(se._consoleTask=z,se=se.catch(function(_e){return console.trace(_e),En(_e)})),se}finally{K&&ee()}},ze.prototype.get=function(l,d){var b=this;return l&&l.constructor===Object?this.where(l).first(d):l==null?En(new $e.Type("Invalid argument to Table.get()")):this._trans("readonly",function(E){return b.core.get({trans:E,key:l}).then(function(N){return b.hook.reading.fire(N)})}).then(d)},ze.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(p(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var d=f(l);if(d.length===1)return this.where(d[0]).equals(l[d[0]]);var b=this.schema.indexes.concat(this.schema.primKey).filter(function(K){if(K.compound&&d.every(function(_e){return 0<=K.keyPath.indexOf(_e)})){for(var se=0;se<d.length;++se)if(d.indexOf(K.keyPath[se])===-1)return!1;return!0}return!1}).sort(function(K,se){return K.keyPath.length-se.keyPath.length})[0];if(b&&this.db._maxKey!==pi)return P=b.keyPath.slice(0,d.length),this.where(P).equals(P.map(function(K){return l[K]}));!b&&xt&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var E=this.schema.idxByName;function N(K,se){return Zt(K,se)===0}var P=d.reduce(function(ue,se){var _e=ue[0],ue=ue[1],re=E[se],fe=l[se];return[_e||re,_e||!re?$i(ue,re&&re.multi?function(de){return de=I(de,se),p(de)&&de.some(function(le){return N(fe,le)})}:function(de){return N(fe,I(de,se))}):ue]},[null,null]),z=P[0],P=P[1];return z?this.where(z.name).equals(l[z.keyPath]).filter(P):b?this.filter(P):this.where(d).equals("")},ze.prototype.filter=function(l){return this.toCollection().and(l)},ze.prototype.count=function(l){return this.toCollection().count(l)},ze.prototype.offset=function(l){return this.toCollection().offset(l)},ze.prototype.limit=function(l){return this.toCollection().limit(l)},ze.prototype.each=function(l){return this.toCollection().each(l)},ze.prototype.toArray=function(l){return this.toCollection().toArray(l)},ze.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ze.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,p(l)?"[".concat(l.join("+"),"]"):l))},ze.prototype.reverse=function(){return this.toCollection().reverse()},ze.prototype.mapToClass=function(l){for(var d=this.db,b=this.name,E=((this.schema.mappedClass=l).prototype instanceof Qa&&(l=(P=>{var K=ue,se=P;if(typeof se!="function"&&se!==null)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function _e(){this.constructor=K}function ue(){return P!==null&&P.apply(this,arguments)||this}return r(K,se),K.prototype=se===null?Object.create(se):(_e.prototype=se.prototype,new _e),Object.defineProperty(ue.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),ue.prototype.table=function(){return b},ue})(l)),new Set),N=l.prototype;N;N=y(N))Object.getOwnPropertyNames(N).forEach(function(P){return E.add(P)});function z(P){if(!P)return P;var K,se=Object.create(l.prototype);for(K in P)if(!E.has(K))try{se[K]=P[K]}catch{}return se}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=z,this.hook("reading",z),l},ze.prototype.defineClass=function(){return this.mapToClass(function(l){v(this,l)})},ze.prototype.add=function(l,d){var b=this,E=this.schema.primKey,N=E.auto,z=E.keyPath,P=l;return z&&N&&(P=er(z)(l)),this._trans("readwrite",function(K){return b.core.mutate({trans:K,type:"add",keys:d!=null?[d]:null,values:[P]})}).then(function(K){return K.numFailures?X.reject(K.failures[0]):K.lastResult}).then(function(K){if(z)try{G(l,z,K)}catch{}return K})},ze.prototype.upsert=function(l,d){var b=this,E=this.schema.primKey.keyPath;return this._trans("readwrite",function(N){return b.core.get({trans:N,key:l}).then(function(z){var P=z??{};return ve(P,d),E&&G(P,E,l),b.core.mutate({trans:N,type:"put",values:[P],keys:[l],upsert:!0,updates:{keys:[l],changeSpecs:[d]}}).then(function(K){return K.numFailures?X.reject(K.failures[0]):!!z})})})},ze.prototype.update=function(l,d){return typeof l!="object"||p(l)?this.where(":id").equals(l).modify(d):(l=I(l,this.schema.primKey.keyPath))===void 0?En(new $e.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(d)},ze.prototype.put=function(l,d){var b=this,E=this.schema.primKey,N=E.auto,z=E.keyPath,P=l;return z&&N&&(P=er(z)(l)),this._trans("readwrite",function(K){return b.core.mutate({trans:K,type:"put",values:[P],keys:d!=null?[d]:null})}).then(function(K){return K.numFailures?X.reject(K.failures[0]):K.lastResult}).then(function(K){if(z)try{G(l,z,K)}catch{}return K})},ze.prototype.delete=function(l){var d=this;return this._trans("readwrite",function(b){return d.core.mutate({trans:b,type:"delete",keys:[l]}).then(function(E){return Y(d,[l],E)}).then(function(E){return E.numFailures?X.reject(E.failures[0]):void 0})})},ze.prototype.clear=function(){var l=this;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"deleteRange",range:Ca}).then(function(b){return Y(l,null,b)})}).then(function(d){return d.numFailures?X.reject(d.failures[0]):void 0})},ze.prototype.bulkGet=function(l){var d=this;return this._trans("readonly",function(b){return d.core.getMany({keys:l,trans:b}).then(function(E){return E.map(function(N){return d.hook.reading.fire(N)})})})},ze.prototype.bulkAdd=function(l,d,b){var E=this,N=Array.isArray(d)?d:void 0,z=(b=b||(N?void 0:d))?b.allKeys:void 0;return this._trans("readwrite",function(P){var K=E.schema.primKey,_e=K.auto,K=K.keyPath;if(K&&N)throw new $e.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(N&&N.length!==l.length)throw new $e.InvalidArgument("Arguments objects and keys must have the same length");var se=l.length,_e=K&&_e?l.map(er(K)):l;return E.core.mutate({trans:P,type:"add",keys:N,values:_e,wantResults:z}).then(function(ue){var re=ue.numFailures,fe=ue.failures;if(re===0)return z?ue.results:ue.lastResult;throw new vt("".concat(E.name,".bulkAdd(): ").concat(re," of ").concat(se," operations failed"),fe)})})},ze.prototype.bulkPut=function(l,d,b){var E=this,N=Array.isArray(d)?d:void 0,z=(b=b||(N?void 0:d))?b.allKeys:void 0;return this._trans("readwrite",function(P){var K=E.schema.primKey,_e=K.auto,K=K.keyPath;if(K&&N)throw new $e.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(N&&N.length!==l.length)throw new $e.InvalidArgument("Arguments objects and keys must have the same length");var se=l.length,_e=K&&_e?l.map(er(K)):l;return E.core.mutate({trans:P,type:"put",keys:N,values:_e,wantResults:z}).then(function(ue){var re=ue.numFailures,fe=ue.failures;if(re===0)return z?ue.results:ue.lastResult;throw new vt("".concat(E.name,".bulkPut(): ").concat(re," of ").concat(se," operations failed"),fe)})})},ze.prototype.bulkUpdate=function(l){var d=this,b=this.core,E=l.map(function(P){return P.key}),N=l.map(function(P){return P.changes}),z=[];return this._trans("readwrite",function(P){return b.getMany({trans:P,keys:E,cache:"clone"}).then(function(K){var se=[],_e=[],ue=(l.forEach(function(re,fe){var de=re.key,le=re.changes,oe=K[fe];if(oe){for(var Ae=0,Oe=Object.keys(le);Ae<Oe.length;Ae++){var xe=Oe[Ae],je=le[xe];if(xe===d.schema.primKey.keyPath){if(Zt(je,de)!==0)throw new $e.Constraint("Cannot update primary key in bulkUpdate()")}else G(oe,xe,je)}z.push(fe),se.push(de),_e.push(oe)}}),se.length);return b.mutate({trans:P,type:"put",keys:se,values:_e,updates:{keys:E,changeSpecs:N}}).then(function(re){var fe=re.numFailures,de=re.failures;if(fe===0)return ue;for(var le=0,oe=Object.keys(de);le<oe.length;le++){var Ae,Oe=oe[le],xe=z[Number(Oe)];xe!=null&&(Ae=de[Oe],delete de[Oe],de[xe]=Ae)}throw new vt("".concat(d.name,".bulkUpdate(): ").concat(fe," of ").concat(ue," operations failed"),de)})})})},ze.prototype.bulkDelete=function(l){var d=this,b=l.length;return this._trans("readwrite",function(E){return d.core.mutate({trans:E,type:"delete",keys:l}).then(function(N){return Y(d,l,N)})}).then(function(E){var N=E.numFailures,z=E.failures;if(N===0)return E.lastResult;throw new vt("".concat(d.name,".bulkDelete(): ").concat(N," of ").concat(b," operations failed"),z)})};var qe=ze;function ze(){}function et(l){function d(P,K){if(K){for(var se=arguments.length,_e=new Array(se-1);--se;)_e[se-1]=arguments[se];return b[P].subscribe.apply(null,_e),l}if(typeof P=="string")return b[P]}var b={};d.addEventType=z;for(var E=1,N=arguments.length;E<N;++E)z(arguments[E]);return d;function z(P,K,se){var _e,ue;if(typeof P!="object")return K=K||bn,ue={subscribers:[],fire:se=se||pt,subscribe:function(re){ue.subscribers.indexOf(re)===-1&&(ue.subscribers.push(re),ue.fire=K(ue.fire,re))},unsubscribe:function(re){ue.subscribers=ue.subscribers.filter(function(fe){return fe!==re}),ue.fire=ue.subscribers.reduce(K,se)}},b[P]=d[P]=ue;f(_e=P).forEach(function(re){var fe=_e[re];if(p(fe))z(re,_e[re][0],_e[re][1]);else{if(fe!=="asap")throw new $e.InvalidArgument("Invalid event config");var de=z(re,kt,function(){for(var le=arguments.length,oe=new Array(le);le--;)oe[le]=arguments[le];de.subscribers.forEach(function(Ae){k(function(){Ae.apply(null,oe)})})})}})}}function Ke(l,d){return B(d).from({prototype:l}),d}function tt(l,d){return!(l.filter||l.algorithm||l.or)&&(d?l.justLimit:!l.replayFilter)}function wt(l,d){l.filter=$i(l.filter,d)}function It(l,d,b){var E=l.replayFilter;l.replayFilter=E?function(){return $i(E(),d())}:d,l.justLimit=b&&!E}function Xt(l,d){if(l.isPrimKey)return d.primaryKey;var b=d.getIndexByKeyPath(l.index);if(b)return b;throw new $e.Schema("KeyPath "+l.index+" on object store "+d.name+" is not indexed")}function dn(l,d,b){var E=Xt(l,d.schema);return d.openCursor({trans:b,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:E,range:l.range}})}function Nn(l,d,b,E){var N,z,P=l.replayFilter?$i(l.filter,l.replayFilter()):l.filter;return l.or?(N={},z=function(K,se,_e){var ue,re;P&&!P(se,_e,function(fe){return se.stop(fe)},function(fe){return se.fail(fe)})||((re=""+(ue=se.primaryKey))=="[object ArrayBuffer]"&&(re=""+new Uint8Array(ue)),_(N,re))||(N[re]=!0,d(K,se,_e))},Promise.all([l.or._iterate(z,b),_n(dn(l,E,b),l.algorithm,z,!l.keysOnly&&l.valueMapper)])):_n(dn(l,E,b),$i(l.algorithm,P),d,!l.keysOnly&&l.valueMapper)}function _n(l,d,b,E){var N=Ve(E?function(z,P,K){return b(E(z),P,K)}:b);return l.then(function(z){if(z)return z.start(function(){var P=function(){return z.continue()};d&&!d(z,function(K){return P=K},function(K){z.stop(K),P=pt},function(K){z.fail(K),P=pt})||N(z.value,z,function(K){return P=K}),P()})})}$t.prototype._read=function(l,d){var b=this._ctx;return b.error?b.table._trans(null,En.bind(null,b.error)):b.table._trans("readonly",l).then(d)},$t.prototype._write=function(l){var d=this._ctx;return d.error?d.table._trans(null,En.bind(null,d.error)):d.table._trans("readwrite",l,"locked")},$t.prototype._addAlgorithm=function(l){var d=this._ctx;d.algorithm=$i(d.algorithm,l)},$t.prototype._iterate=function(l,d){return Nn(this._ctx,l,d,this._ctx.table.core)},$t.prototype.clone=function(l){var d=Object.create(this.constructor.prototype),b=Object.create(this._ctx);return l&&v(b,l),d._ctx=b,d},$t.prototype.raw=function(){return this._ctx.valueMapper=null,this},$t.prototype.each=function(l){var d=this._ctx;return this._read(function(b){return Nn(d,l,b,d.table.core)})},$t.prototype.count=function(l){var d=this;return this._read(function(b){var E,N=d._ctx,z=N.table.core;return tt(N,!0)?z.count({trans:b,query:{index:Xt(N,z.schema),range:N.range}}).then(function(P){return Math.min(P,N.limit)}):(E=0,Nn(N,function(){return++E,!1},b,z).then(function(){return E}))}).then(l)},$t.prototype.sortBy=function(l,d){var b=l.split(".").reverse(),E=b[0],N=b.length-1;function z(se,_e){return _e?z(se[b[_e]],_e-1):se[E]}var P=this._ctx.dir==="next"?1:-1;function K(se,_e){return Zt(z(se,N),z(_e,N))*P}return this.toArray(function(se){return se.sort(K)}).then(d)},$t.prototype.toArray=function(l){var d=this;return this._read(function(b){var E,N,z,P=d._ctx;return P.dir==="next"&&tt(P,!0)&&0<P.limit?(E=P.valueMapper,N=Xt(P,P.table.core.schema),P.table.core.query({trans:b,limit:P.limit,values:!0,query:{index:N,range:P.range}}).then(function(K){return K=K.result,E?K.map(E):K})):(z=[],Nn(P,function(K){return z.push(K)},b,P.table.core).then(function(){return z}))},l)},$t.prototype.offset=function(l){var d=this._ctx;return l<=0||(d.offset+=l,tt(d)?It(d,function(){var b=l;return function(E,N){return b===0||(b===1?--b:N(function(){E.advance(b),b=0}),!1)}}):It(d,function(){var b=l;return function(){return--b<0}})),this},$t.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),It(this._ctx,function(){var d=l;return function(b,E,N){return--d<=0&&E(N),0<=d}},!0),this},$t.prototype.until=function(l,d){return wt(this._ctx,function(b,E,N){return!l(b.value)||(E(N),d)}),this},$t.prototype.first=function(l){return this.limit(1).toArray(function(d){return d[0]}).then(l)},$t.prototype.last=function(l){return this.reverse().first(l)},$t.prototype.filter=function(l){var d;return wt(this._ctx,function(b){return l(b.value)}),(d=this._ctx).isMatch=$i(d.isMatch,l),this},$t.prototype.and=function(l){return this.filter(l)},$t.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},$t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},$t.prototype.desc=function(){return this.reverse()},$t.prototype.eachKey=function(l){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(b,E){l(E.key,E)})},$t.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},$t.prototype.eachPrimaryKey=function(l){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(b,E){l(E.primaryKey,E)})},$t.prototype.keys=function(l){var d=this._ctx,b=(d.keysOnly=!d.isMatch,[]);return this.each(function(E,N){b.push(N.key)}).then(function(){return b}).then(l)},$t.prototype.primaryKeys=function(l){var d=this._ctx;if(d.dir==="next"&&tt(d,!0)&&0<d.limit)return this._read(function(E){var N=Xt(d,d.table.core.schema);return d.table.core.query({trans:E,values:!1,limit:d.limit,query:{index:N,range:d.range}})}).then(function(E){return E.result}).then(l);d.keysOnly=!d.isMatch;var b=[];return this.each(function(E,N){b.push(N.primaryKey)}).then(function(){return b}).then(l)},$t.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},$t.prototype.firstKey=function(l){return this.limit(1).keys(function(d){return d[0]}).then(l)},$t.prototype.lastKey=function(l){return this.reverse().firstKey(l)},$t.prototype.distinct=function(){var l,d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];return d&&d.multi&&(l={},wt(this._ctx,function(E){var E=E.primaryKey.toString(),N=_(l,E);return l[E]=!0,!N})),this},$t.prototype.modify=function(l){var d=this,b=this._ctx;return this._write(function(E){function N(oe,Ae){var Oe=Ae.failures;fe+=oe-Ae.numFailures;for(var xe=0,je=f(Oe);xe<je.length;xe++){var Xe=je[xe];re.push(Oe[Xe])}}var z=typeof l=="function"?l:function(oe){return ve(oe,l)},P=b.table.core,ue=P.schema.primaryKey,K=ue.outbound,se=ue.extractKey,_e=200,ue=d.db._options.modifyChunkSize,re=(ue&&(_e=typeof ue=="object"?ue[P.name]||ue["*"]||200:ue),[]),fe=0,de=[],le=l===yr;return d.clone().primaryKeys().then(function(oe){function Ae(xe){var je=Math.min(_e,oe.length-xe),Xe=oe.slice(xe,xe+je);return(le?Promise.resolve([]):P.getMany({trans:E,keys:Xe,cache:"immutable"})).then(function(at){var st=[],Qe=[],gt=K?[]:null,ft=le?Xe:[];if(!le)for(var We=0;We<je;++We){var yt=at[We],qt={value:Ce(yt),primKey:oe[xe+We]};z.call(qt,qt.value,qt)!==!1&&(qt.value==null?ft.push(oe[xe+We]):K||Zt(se(yt),se(qt.value))===0?(Qe.push(qt.value),K&&gt.push(oe[xe+We])):(ft.push(oe[xe+We]),st.push(qt.value)))}return Promise.resolve(0<st.length&&P.mutate({trans:E,type:"add",values:st}).then(function(an){for(var Ot in an.failures)ft.splice(parseInt(Ot),1);N(st.length,an)})).then(function(){return(0<Qe.length||Oe&&typeof l=="object")&&P.mutate({trans:E,type:"put",keys:gt,values:Qe,criteria:Oe,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<xe}).then(function(an){return N(Qe.length,an)})}).then(function(){return(0<ft.length||Oe&&le)&&P.mutate({trans:E,type:"delete",keys:ft,criteria:Oe,isAdditionalChunk:0<xe}).then(function(an){return Y(b.table,ft,an)}).then(function(an){return N(ft.length,an)})}).then(function(){return oe.length>xe+je&&Ae(xe+_e)})})}var Oe=tt(b)&&b.limit===1/0&&(typeof l!="function"||le)&&{index:b.index,range:b.range};return Ae(0).then(function(){if(0<re.length)throw new ut("Error modifying one or more objects",re,fe,de);return oe.length})})})},$t.prototype.delete=function(){var l=this._ctx,d=l.range;return!tt(l)||l.table.schema.yProps||!l.isPrimKey&&d.type!==3?this.modify(yr):this._write(function(b){var E=l.table.core.schema.primaryKey,N=d;return l.table.core.count({trans:b,query:{index:E,range:N}}).then(function(z){return l.table.core.mutate({trans:b,type:"deleteRange",range:N}).then(function(se){var K=se.failures,se=se.numFailures;if(se)throw new ut("Could not delete some values",Object.keys(K).map(function(_e){return K[_e]}),z-se);return z-se})})})};var gi=$t;function $t(){}var yr=function(l,d){return d.value=null};function Ta(l,d){return l<d?-1:l===d?0:1}function Na(l,d){return d<l?-1:l===d?0:1}function yi(l,d,b){return l=l instanceof br?new l.Collection(l):l,l._ctx.error=new(b||TypeError)(d),l}function zi(l){return new l.Collection(l,function(){return Wa("")}).limit(0)}function bi(de,d,b,E){var N,z,P,K,se,_e,ue,re=b.length;if(!b.every(function(oe){return typeof oe=="string"}))return yi(de,Gn);function fe(oe){N=oe==="next"?function(Oe){return Oe.toUpperCase()}:function(Oe){return Oe.toLowerCase()},z=oe==="next"?function(Oe){return Oe.toLowerCase()}:function(Oe){return Oe.toUpperCase()},P=oe==="next"?Ta:Na;var Ae=b.map(function(Oe){return{lower:z(Oe),upper:N(Oe)}}).sort(function(Oe,xe){return P(Oe.lower,xe.lower)});K=Ae.map(function(Oe){return Oe.upper}),se=Ae.map(function(Oe){return Oe.lower}),ue=(_e=oe)==="next"?"":E}fe("next");var de=new de.Collection(de,function(){return Ai(K[0],se[re-1]+E)}),le=(de._ondirectionchange=function(oe){fe(oe)},0);return de._addAlgorithm(function(oe,Ae,Oe){var xe=oe.key;if(typeof xe=="string"){var je=z(xe);if(d(je,se,le))return!0;for(var Xe=null,at=le;at<re;++at){var st=((Qe,gt,ft,We,yt,qt)=>{for(var an=Math.min(Qe.length,We.length),Ot=-1,Pt=0;Pt<an;++Pt){var On=gt[Pt];if(On!==We[Pt])return yt(Qe[Pt],ft[Pt])<0?Qe.substr(0,Pt)+ft[Pt]+ft.substr(Pt+1):yt(Qe[Pt],We[Pt])<0?Qe.substr(0,Pt)+We[Pt]+ft.substr(Pt+1):0<=Ot?Qe.substr(0,Ot)+gt[Ot]+ft.substr(Ot+1):null;yt(Qe[Pt],On)<0&&(Ot=Pt)}return an<We.length&&qt==="next"?Qe+ft.substr(Qe.length):an<Qe.length&&qt==="prev"?Qe.substr(0,ft.length):Ot<0?null:Qe.substr(0,Ot)+We[Ot]+ft.substr(Ot+1)})(xe,je,K[at],se[at],P,_e);st===null&&Xe===null?le=at+1:(Xe===null||0<P(Xe,st))&&(Xe=st)}Ae(Xe!==null?function(){oe.continue(Xe+ue)}:Oe)}return!1}),de}function Ai(l,d,b,E){return{type:2,lower:l,upper:d,lowerOpen:b,upperOpen:E}}function Wa(l){return{type:1,lower:l,upper:l}}Object.defineProperty(In.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),In.prototype.between=function(l,d,b,E){b=b!==!1,E=E===!0;try{return 0<this._cmp(l,d)||this._cmp(l,d)===0&&(b||E)&&(!b||!E)?zi(this):new this.Collection(this,function(){return Ai(l,d,!b,!E)})}catch{return yi(this,Vn)}},In.prototype.equals=function(l){return l==null?yi(this,Vn):new this.Collection(this,function(){return Wa(l)})},In.prototype.above=function(l){return l==null?yi(this,Vn):new this.Collection(this,function(){return Ai(l,void 0,!0)})},In.prototype.aboveOrEqual=function(l){return l==null?yi(this,Vn):new this.Collection(this,function(){return Ai(l,void 0,!1)})},In.prototype.below=function(l){return l==null?yi(this,Vn):new this.Collection(this,function(){return Ai(void 0,l,!1,!0)})},In.prototype.belowOrEqual=function(l){return l==null?yi(this,Vn):new this.Collection(this,function(){return Ai(void 0,l)})},In.prototype.startsWith=function(l){return typeof l!="string"?yi(this,Gn):this.between(l,l+pi,!0,!0)},In.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):bi(this,function(d,b){return d.indexOf(b[0])===0},[l],pi)},In.prototype.equalsIgnoreCase=function(l){return bi(this,function(d,b){return d===b[0]},[l],"")},In.prototype.anyOfIgnoreCase=function(){var l=nt.apply(Ie,arguments);return l.length===0?zi(this):bi(this,function(d,b){return b.indexOf(d)!==-1},l,"")},In.prototype.startsWithAnyOfIgnoreCase=function(){var l=nt.apply(Ie,arguments);return l.length===0?zi(this):bi(this,function(d,b){return b.some(function(E){return d.indexOf(E)===0})},l,pi)},In.prototype.anyOf=function(){var l,d,b=this,E=nt.apply(Ie,arguments),N=this._cmp;try{E.sort(N)}catch{return yi(this,Vn)}return E.length===0?zi(this):((l=new this.Collection(this,function(){return Ai(E[0],E[E.length-1])}))._ondirectionchange=function(z){N=z==="next"?b._ascending:b._descending,E.sort(N)},d=0,l._addAlgorithm(function(z,P,K){for(var se=z.key;0<N(se,E[d]);)if(++d===E.length)return P(K),!1;return N(se,E[d])===0||(P(function(){z.continue(E[d])}),!1)}),l)},In.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},In.prototype.noneOf=function(){var l=nt.apply(Ie,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return yi(this,Vn)}var d=l.reduce(function(b,E){return b?b.concat([[b[b.length-1][1],E]]):[[-1/0,E]]},null);return d.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},In.prototype.inAnyRange=function(l,Oe){var b=this,E=this._cmp,N=this._ascending,z=this._descending,P=this._min,K=this._max;if(l.length===0)return zi(this);if(!l.every(function(xe){return xe[0]!==void 0&&xe[1]!==void 0&&N(xe[0],xe[1])<=0}))return yi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",$e.InvalidArgument);var se=!Oe||Oe.includeLowers!==!1,_e=Oe&&Oe.includeUppers===!0,ue,re=N;function fe(xe,je){return re(xe[0],je[0])}try{(ue=l.reduce(function(xe,je){for(var Xe=0,at=xe.length;Xe<at;++Xe){var st=xe[Xe];if(E(je[0],st[1])<0&&0<E(je[1],st[0])){st[0]=P(st[0],je[0]),st[1]=K(st[1],je[1]);break}}return Xe===at&&xe.push(je),xe},[])).sort(fe)}catch{return yi(this,Vn)}var de=0,le=_e?function(xe){return 0<N(xe,ue[de][1])}:function(xe){return 0<=N(xe,ue[de][1])},oe=se?function(xe){return 0<z(xe,ue[de][0])}:function(xe){return 0<=z(xe,ue[de][0])},Ae=le,Oe=new this.Collection(this,function(){return Ai(ue[0][0],ue[ue.length-1][1],!se,!_e)});return Oe._ondirectionchange=function(xe){re=xe==="next"?(Ae=le,N):(Ae=oe,z),ue.sort(fe)},Oe._addAlgorithm(function(xe,je,Xe){for(var at,st=xe.key;Ae(st);)if(++de===ue.length)return je(Xe),!1;return!le(at=st)&&!oe(at)||(b._cmp(st,ue[de][1])===0||b._cmp(st,ue[de][0])===0||je(function(){re===N?xe.continue(ue[de][0]):xe.continue(ue[de][1])}),!1)}),Oe},In.prototype.startsWithAnyOf=function(){var l=nt.apply(Ie,arguments);return l.every(function(d){return typeof d=="string"})?l.length===0?zi(this):this.inAnyRange(l.map(function(d){return[d,d+pi]})):yi(this,"startsWithAnyOf() only works with strings")};var br=In;function In(){}function Li(l){return Ve(function(d){return wr(d),l(d.target.error),!1})}function wr(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Kr="storagemutated",_r="x-storagemutated-1",si=et(null,Kr),Qs=(wi.prototype._lock=function(){return F(!M.global),++this._reculock,this._reculock!==1||M.global||(M.lockOwnerFor=this),this},wi.prototype._unlock=function(){if(F(!M.global),--this._reculock==0)for(M.global||(M.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{qn(l[1],l[0])}catch{}}return this},wi.prototype._locked=function(){return this._reculock&&M.lockOwnerFor!==this},wi.prototype.create=function(l){var d=this;if(this.mode){var b=this.db.idbdb,E=this.db._state.dbOpenError;if(F(!this.idbtrans),!l&&!b)switch(E&&E.name){case"DatabaseClosedError":throw new $e.DatabaseClosed(E);case"MissingAPIError":throw new $e.MissingAPI(E.message,E);default:throw new $e.OpenFailed(E)}if(!this.active)throw new $e.TransactionInactive;F(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||b).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ve(function(N){wr(N),d._reject(l.error)}),l.onabort=Ve(function(N){wr(N),d.active&&d._reject(new $e.Abort(l.error)),d.active=!1,d.on("abort").fire(N)}),l.oncomplete=Ve(function(){d.active=!1,d._resolve(),"mutatedParts"in l&&si.storagemutated.fire(l.mutatedParts)})}return this},wi.prototype._promise=function(l,d,b){var E,N=this;return l==="readwrite"&&this.mode!=="readwrite"?En(new $e.ReadOnly("Transaction is readonly")):this.active?this._locked()?new X(function(z,P){N._blockedFuncs.push([function(){N._promise(l,d,b).then(z,P)},M])}):b?St(function(){var z=new X(function(P,K){N._lock();var se=d(P,K,N);se&&se.then&&se.then(P,K)});return z.finally(function(){return N._unlock()}),z._lib=!0,z}):((E=new X(function(z,P){var K=d(z,P,N);K&&K.then&&K.then(z,P)}))._lib=!0,E):En(new $e.TransactionInactive)},wi.prototype._root=function(){return this.parent?this.parent._root():this},wi.prototype.waitFor=function(l){var d,b=this._root(),E=X.resolve(l),N=(b._waitingFor?b._waitingFor=b._waitingFor.then(function(){return E}):(b._waitingFor=E,b._waitingQueue=[],d=b.idbtrans.objectStore(b.storeNames[0]),(function z(){for(++b._spinCount;b._waitingQueue.length;)b._waitingQueue.shift()();b._waitingFor&&(d.get(-1/0).onsuccess=z)})()),b._waitingFor);return new X(function(z,P){E.then(function(K){return b._waitingQueue.push(Ve(z.bind(null,K)))},function(K){return b._waitingQueue.push(Ve(P.bind(null,K)))}).finally(function(){b._waitingFor===N&&(b._waitingFor=null)})})},wi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new $e.Abort))},wi.prototype.table=function(l){var d=this._memoizedTables||(this._memoizedTables={});if(_(d,l))return d[l];var b=this.schema[l];if(b)return(b=new this.db.Table(l,b,this)).core=this.db.core.table(l),d[l]=b;throw new $e.NotFound("Table "+l+" not part of transaction")},wi);function wi(){}function Pi(l,d,b,E,N,z,P,K){return{name:l,keyPath:d,unique:b,multi:E,auto:N,compound:z,src:(b&&!P?"&":"")+(E?"*":"")+(N?"++":"")+Ja(d),type:K}}function Ja(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Zr(l,d,b){return{name:l,primKey:d,indexes:b,mappedClass:null,idxByName:(E=function(N){return[N.name,N]},b.reduce(function(N,z,P){return z=E(z,P),z&&(N[z[0]]=z[1]),N},{}))};var E}var Xr=function(l){try{return l.only([[]]),Xr=function(){return[[]]},[[]]}catch{return Xr=function(){return pi},pi}};function Qr(l){return l==null?function(){}:typeof l=="string"?(d=l).split(".").length===1?function(b){return b[d]}:function(b){return I(b,d)}:function(b){return I(b,l)};var d}function Oa(l){return[].slice.call(l)}var Wu=0;function Jn(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function xr(l,d,se){function E(le){if(le.type===3)return null;if(le.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var re=le.lower,fe=le.upper,de=le.lowerOpen,le=le.upperOpen;return re===void 0?fe===void 0?null:d.upperBound(fe,!!le):fe===void 0?d.lowerBound(re,!!de):d.bound(re,fe,!!de,!!le)}function N(ue){var re,fe=ue.name;return{name:fe,schema:ue,mutate:function(de){var le=de.trans,oe=de.type,Ae=de.keys,Oe=de.values,xe=de.range;return new Promise(function(je,Xe){je=Ve(je);var at=le.objectStore(fe),st=at.keyPath==null,Qe=oe==="put"||oe==="add";if(!Qe&&oe!=="delete"&&oe!=="deleteRange")throw new Error("Invalid operation type: "+oe);var gt,ft=(Ae||Oe||{length:1}).length;if(Ae&&Oe&&Ae.length!==Oe.length)throw new Error("Given keys array must have same length as given values array.");if(ft===0)return je({numFailures:0,failures:{},results:[],lastResult:void 0});function We(Sn){++an,wr(Sn)}var yt=[],qt=[],an=0;if(oe==="deleteRange"){if(xe.type===4)return je({numFailures:an,failures:qt,results:[],lastResult:void 0});xe.type===3?yt.push(gt=at.clear()):yt.push(gt=at.delete(E(xe)))}else{var st=Qe?st?[Oe,Ae]:[Oe,null]:[Ae,null],Ot=st[0],Pt=st[1];if(Qe)for(var On=0;On<ft;++On)yt.push(gt=Pt&&Pt[On]!==void 0?at[oe](Ot[On],Pt[On]):at[oe](Ot[On])),gt.onerror=We;else for(On=0;On<ft;++On)yt.push(gt=at[oe](Ot[On])),gt.onerror=We}function xi(Sn){Sn=Sn.target.result,yt.forEach(function(cr,na){return cr.error!=null&&(qt[na]=cr.error)}),je({numFailures:an,failures:qt,results:oe==="delete"?Ae:yt.map(function(cr){return cr.result}),lastResult:Sn})}gt.onerror=function(Sn){We(Sn),xi(Sn)},gt.onsuccess=xi})},getMany:function(de){var le=de.trans,oe=de.keys;return new Promise(function(Ae,Oe){Ae=Ve(Ae);for(var xe,je=le.objectStore(fe),Xe=oe.length,at=new Array(Xe),st=0,Qe=0,gt=function(yt){yt=yt.target,at[yt._pos]=yt.result,++Qe===st&&Ae(at)},ft=Li(Oe),We=0;We<Xe;++We)oe[We]!=null&&((xe=je.get(oe[We]))._pos=We,xe.onsuccess=gt,xe.onerror=ft,++st);st===0&&Ae(at)})},get:function(de){var le=de.trans,oe=de.key;return new Promise(function(Ae,Oe){Ae=Ve(Ae);var xe=le.objectStore(fe).get(oe);xe.onsuccess=function(je){return Ae(je.target.result)},xe.onerror=Li(Oe)})},query:(re=K,function(de){return new Promise(function(le,oe){le=Ve(le);var Ae,Oe,xe,Qe=de.trans,je=de.values,Xe=de.limit,st=de.query,at=Xe===1/0?void 0:Xe,gt=st.index,st=st.range,Qe=Qe.objectStore(fe),Qe=gt.isPrimaryKey?Qe:Qe.index(gt.name),gt=E(st);if(Xe===0)return le({result:[]});re?((st=je?Qe.getAll(gt,at):Qe.getAllKeys(gt,at)).onsuccess=function(ft){return le({result:ft.target.result})},st.onerror=Li(oe)):(Ae=0,Oe=!je&&"openKeyCursor"in Qe?Qe.openKeyCursor(gt):Qe.openCursor(gt),xe=[],Oe.onsuccess=function(ft){var We=Oe.result;return!We||(xe.push(je?We.value:We.primaryKey),++Ae===Xe)?le({result:xe}):void We.continue()},Oe.onerror=Li(oe))})}),openCursor:function(de){var le=de.trans,oe=de.values,Ae=de.query,Oe=de.reverse,xe=de.unique;return new Promise(function(je,Xe){je=Ve(je);var Qe=Ae.index,at=Ae.range,st=le.objectStore(fe),st=Qe.isPrimaryKey?st:st.index(Qe.name),Qe=Oe?xe?"prevunique":"prev":xe?"nextunique":"next",gt=!oe&&"openKeyCursor"in st?st.openKeyCursor(E(at),Qe):st.openCursor(E(at),Qe);gt.onerror=Li(Xe),gt.onsuccess=Ve(function(ft){var We,yt,qt,an,Ot=gt.result;Ot?(Ot.___id=++Wu,Ot.done=!1,We=Ot.continue.bind(Ot),yt=(yt=Ot.continuePrimaryKey)&&yt.bind(Ot),qt=Ot.advance.bind(Ot),an=function(){throw new Error("Cursor not stopped")},Ot.trans=le,Ot.stop=Ot.continue=Ot.continuePrimaryKey=Ot.advance=function(){throw new Error("Cursor not started")},Ot.fail=Ve(Xe),Ot.next=function(){var Pt=this,On=1;return this.start(function(){return On--?Pt.continue():Pt.stop()}).then(function(){return Pt})},Ot.start=function(Pt){function On(){if(gt.result)try{Pt()}catch(Sn){Ot.fail(Sn)}else Ot.done=!0,Ot.start=function(){throw new Error("Cursor behind last entry")},Ot.stop()}var xi=new Promise(function(Sn,cr){Sn=Ve(Sn),gt.onerror=Li(cr),Ot.fail=cr,Ot.stop=function(na){Ot.stop=Ot.continue=Ot.continuePrimaryKey=Ot.advance=an,Sn(na)}});return gt.onsuccess=Ve(function(Sn){gt.onsuccess=On,On()}),Ot.continue=We,Ot.continuePrimaryKey=yt,Ot.advance=qt,On(),xi},je(Ot)):je(null)},Xe)})},count:function(de){var le=de.query,oe=de.trans,Ae=le.index,Oe=le.range;return new Promise(function(xe,je){var Xe=oe.objectStore(fe),Xe=Ae.isPrimaryKey?Xe:Xe.index(Ae.name),at=E(Oe),at=at?Xe.count(at):Xe.count();at.onsuccess=Ve(function(st){return xe(st.target.result)}),at.onerror=Li(je)})}}}z=se,P=Oa((se=l).objectStoreNames);var z,se={schema:{name:se.name,tables:P.map(function(ue){return z.objectStore(ue)}).map(function(ue){var re=ue.keyPath,fe=ue.autoIncrement,le=p(re),de={},le={name:ue.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:re==null,compound:le,keyPath:re,autoIncrement:fe,unique:!0,extractKey:Qr(re)},indexes:Oa(ue.indexNames).map(function(oe){return ue.index(oe)}).map(function(xe){var je=xe.name,Ae=xe.unique,Oe=xe.multiEntry,xe=xe.keyPath,je={name:je,compound:p(xe),keyPath:xe,unique:Ae,multiEntry:Oe,extractKey:Qr(xe)};return de[Jn(xe)]=je}),getIndexByKeyPath:function(oe){return de[Jn(oe)]}};return de[":id"]=le.primaryKey,re!=null&&(de[Jn(re)]=le.primaryKey),le})},hasGetAll:0<P.length&&"getAll"in z.objectStore(P[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},P=se.schema,K=se.hasGetAll,se=P.tables.map(N),_e={};return se.forEach(function(ue){return _e[ue.name]=ue}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(ue){if(_e[ue])return _e[ue];throw new Error("Table '".concat(ue,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Xr(d),schema:P}}function $a(l,d,b,E){return b=b.IDBKeyRange,d=xr(d,b,E),{dbcore:l.dbcore.reduce(function(N,z){return z=z.create,s(s({},N),z(N))},d)}}function ur(l,d){var b=d.db,b=$a(l._middlewares,b,l._deps,d);l.core=b.dbcore,l.tables.forEach(function(E){var N=E.name;l.core.schema.tables.some(function(z){return z.name===N})&&(E.core=l.core.table(N),l[N]instanceof l.Table)&&(l[N].core=E.core)})}function es(l,d,b,E){b.forEach(function(N){var z=E[N];d.forEach(function(P){var K=(function se(_e,ue){return w(_e,ue)||(_e=y(_e))&&se(_e,ue)})(P,N);(!K||"value"in K&&K.value===void 0)&&(P===l.Transaction.prototype||P instanceof l.Transaction?H(P,N,{get:function(){return this.table(N)},set:function(se){T(this,N,{value:se,writable:!0,configurable:!0,enumerable:!0})}}):P[N]=new l.Table(N,z))})})}function Ra(l,d){d.forEach(function(b){for(var E in b)b[E]instanceof l.Table&&delete b[E]})}function Ws(l,d){return l._cfg.version-d._cfg.version}function ka(l,d,b,E){var N=l._dbSchema,z=(b.objectStoreNames.contains("$meta")&&!N.$meta&&(N.$meta=Zr("$meta",$u("")[0],[]),l._storeNames.push("$meta")),l._createTransaction("readwrite",l._storeNames,N)),P=(z.create(b),z._completion.catch(E),z._reject.bind(z)),K=M.transless||M;St(function(){if(M.trans=z,M.transless=K,d!==0)return ur(l,b),_e=d,((se=z).storeNames.includes("$meta")?se.table("$meta").get("version").then(function(ue){return ue??_e}):X.resolve(_e)).then(function(Ae){var re=l,fe=Ae,de=z,le=b,oe=[],Ae=re._versions,Oe=re._dbSchema=Wr(0,re.idbdb,le);return(Ae=Ae.filter(function(xe){return xe._cfg.version>=fe})).length===0?X.resolve():(Ae.forEach(function(xe){oe.push(function(){var je,Xe,at,st=Oe,Qe=xe._cfg.dbschema,gt=(rs(re,st,le),rs(re,Qe,le),Oe=re._dbSchema=Qe,ns(st,Qe)),ft=(gt.add.forEach(function(We){Js(le,We[0],We[1].primKey,We[1].indexes)}),gt.change.forEach(function(We){if(We.recreate)throw new $e.Upgrade("Not yet support for changing primary key");var yt=le.objectStore(We.name);We.add.forEach(function(qt){return is(yt,qt)}),We.change.forEach(function(qt){yt.deleteIndex(qt.name),is(yt,qt)}),We.del.forEach(function(qt){return yt.deleteIndex(qt)})}),xe._cfg.contentUpgrade);if(ft&&xe._cfg.version>fe)return ur(re,le),de._memoizedTables={},je=W(Qe),gt.del.forEach(function(We){je[We]=st[We]}),Ra(re,[re.Transaction.prototype]),es(re,[re.Transaction.prototype],f(je),je),de.schema=je,(Xe=V(ft))&&Jt(),Qe=X.follow(function(){var We;(at=ft(de))&&Xe&&(We=An.bind(null,null),at.then(We,We))}),at&&typeof at.then=="function"?X.resolve(at):Qe.then(function(){return at})}),oe.push(function(je){var Xe,at,st=xe._cfg.dbschema;Xe=st,at=je,[].slice.call(at.db.objectStoreNames).forEach(function(Qe){return Xe[Qe]==null&&at.db.deleteObjectStore(Qe)}),Ra(re,[re.Transaction.prototype]),es(re,[re.Transaction.prototype],re._storeNames,re._dbSchema),de.schema=re._dbSchema}),oe.push(function(je){re.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(re.idbdb.version/10)===xe._cfg.version?(re.idbdb.deleteObjectStore("$meta"),delete re._dbSchema.$meta,re._storeNames=re._storeNames.filter(function(Xe){return Xe!=="$meta"})):je.objectStore("$meta").put(xe._cfg.version,"version"))})}),(function xe(){return oe.length?X.resolve(oe.shift()(de.idbtrans)).then(xe):X.resolve()})().then(function(){Ju(Oe,le)}))}).catch(P);var se,_e;f(N).forEach(function(ue){Js(b,ue,N[ue].primKey,N[ue].indexes)}),ur(l,b),X.follow(function(){return l.on.populate.fire(z)}).catch(P)})}function ts(l,d){Ju(l._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var b=Wr(0,l.idbdb,d);rs(l,l._dbSchema,d);for(var E=0,N=ns(b,l._dbSchema).change;E<N.length;E++){var z=(P=>{if(P.change.length||P.recreate)return console.warn("Unable to patch indexes of table ".concat(P.name," because it has changes on the type of index or primary key.")),{value:void 0};var K=d.objectStore(P.name);P.add.forEach(function(se){xt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(P.name,".").concat(se.src)),is(K,se)})})(N[E]);if(typeof z=="object")return z.value}}function ns(l,d){var b,E={del:[],add:[],change:[]};for(b in l)d[b]||E.del.push(b);for(b in d){var N=l[b],z=d[b];if(N){var P={name:b,def:z,recreate:!1,del:[],add:[],change:[]};if(""+(N.primKey.keyPath||"")!=""+(z.primKey.keyPath||"")||N.primKey.auto!==z.primKey.auto)P.recreate=!0,E.change.push(P);else{var K=N.idxByName,se=z.idxByName,_e=void 0;for(_e in K)se[_e]||P.del.push(_e);for(_e in se){var ue=K[_e],re=se[_e];ue?ue.src!==re.src&&P.change.push(re):P.add.push(re)}(0<P.del.length||0<P.add.length||0<P.change.length)&&E.change.push(P)}}else E.add.push([b,z])}return E}function Js(l,d,b,E){var N=l.db.createObjectStore(d,b.keyPath?{keyPath:b.keyPath,autoIncrement:b.auto}:{autoIncrement:b.auto});E.forEach(function(z){return is(N,z)})}function Ju(l,d){f(l).forEach(function(b){d.db.objectStoreNames.contains(b)||(xt&&console.debug("Dexie: Creating missing table",b),Js(d,b,l[b].primKey,l[b].indexes))})}function is(l,d){l.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function Wr(l,d,b){var E={};return C(d.objectStoreNames,0).forEach(function(N){for(var z=b.objectStore(N),P=Pi(Ja(_e=z.keyPath),_e||"",!0,!1,!!z.autoIncrement,_e&&typeof _e!="string",!0),K=[],se=0;se<z.indexNames.length;++se){var ue=z.index(z.indexNames[se]),_e=ue.keyPath,ue=Pi(ue.name,_e,!!ue.unique,!!ue.multiEntry,!1,_e&&typeof _e!="string",!1);K.push(ue)}E[N]=Zr(N,P,K)}),E}function rs(l,d,b){for(var E=b.db.objectStoreNames,N=0;N<E.length;++N){var z=E[N],P=b.objectStore(z);l._hasGetAll="getAll"in P;for(var K=0;K<P.indexNames.length;++K){var se,_e=P.indexNames[K],ue=P.index(_e).keyPath,ue=typeof ue=="string"?ue:"["+C(ue).join("+")+"]";d[z]&&(se=d[z].idxByName[ue])&&(se.name=_e,delete d[z].idxByName[ue],d[z].idxByName[_e]=se)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&c.WorkerGlobalScope&&c instanceof c.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function $u(l){return l.split(",").map(function(d,b){var N=d.split(":"),E=(E=N[1])==null?void 0:E.trim(),N=(d=N[0].trim()).replace(/([&*]|\+\+)/g,""),z=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return Pi(N,z||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),p(z),b===0,E)})}Jr.prototype._createTableSchema=Zr,Jr.prototype._parseIndexSyntax=$u,Jr.prototype._parseStoresSpec=function(l,d){var b=this;f(l).forEach(function(E){if(l[E]!==null){var N=b._parseIndexSyntax(l[E]),z=N.shift();if(!z)throw new $e.Schema("Invalid schema for table "+E+": "+l[E]);if(z.unique=!0,z.multi)throw new $e.Schema("Primary key cannot be multiEntry*");N.forEach(function(P){if(P.auto)throw new $e.Schema("Only primary key can be marked as autoIncrement (++)");if(!P.keyPath)throw new $e.Schema("Index must have a name and cannot be an empty string")}),z=b._createTableSchema(E,z,N),d[E]=z}})},Jr.prototype.stores=function(b){var d=this.db,b=(this._cfg.storesSource=this._cfg.storesSource?v(this._cfg.storesSource,b):b,d._versions),E={},N={};return b.forEach(function(z){v(E,z._cfg.storesSource),N=z._cfg.dbschema={},z._parseStoresSpec(E,N)}),d._dbSchema=N,Ra(d,[d._allTables,d,d.Transaction.prototype]),es(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],f(N),N),d._storeNames=f(N),this},Jr.prototype.upgrade=function(l){return this._cfg.contentUpgrade=wn(this._cfg.contentUpgrade||pt,l),this};var Co=Jr;function Jr(){}function $s(l,d){var b=l._dbNamesDB;return b||(b=l._dbNamesDB=new Gi(gr,{addons:[],indexedDB:l,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),b.table("dbnames")}function as(l){return l&&typeof l.databases=="function"}function eu(l){return St(function(){return M.letThrough=!0,l()})}function tu(l){return!("from"in l)}var ui=function(l,d){var b;if(!this)return b=new ui,l&&"d"in l&&v(b,l),b;v(this,arguments.length?{d:1,from:l,to:1<arguments.length?d:l}:{d:0})};function Ba(l,d,b){var E=Zt(d,b);if(!isNaN(E)){if(0<E)throw RangeError();if(tu(l))return v(l,{from:d,to:b,d:1});var E=l.l,N=l.r;if(Zt(b,l.from)<0)return E?Ba(E,d,b):l.l={from:d,to:b,d:1,l:null,r:null},tl(l);if(0<Zt(d,l.to))return N?Ba(N,d,b):l.r={from:d,to:b,d:1,l:null,r:null},tl(l);Zt(d,l.from)<0&&(l.from=d,l.l=null,l.d=N?N.d+1:1),0<Zt(b,l.to)&&(l.to=b,l.r=null,l.d=l.l?l.l.d+1:1),d=!l.r,E&&!l.l&&Er(l,E),N&&d&&Er(l,N)}}function Er(l,d){tu(d)||(function b(E,N){var z=N.from,P=N.l,K=N.r;Ba(E,z,N.to),P&&b(E,P),K&&b(E,K)})(l,d)}function el(l,d){var b=ss(d),E=b.next();if(!E.done)for(var N=E.value,z=ss(l),P=z.next(N.from),K=P.value;!E.done&&!P.done;){if(Zt(K.from,N.to)<=0&&0<=Zt(K.to,N.from))return!0;Zt(N.from,K.from)<0?N=(E=b.next(K.from)).value:K=(P=z.next(N.from)).value}return!1}function ss(l){var d=tu(l)?null:{s:0,n:l};return{next:function(b){for(var E=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,E)for(;d.n.l&&Zt(b,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!E||Zt(b,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function tl(l){var d,b,E,N=(((N=l.r)==null?void 0:N.d)||0)-(((N=l.l)==null?void 0:N.d)||0),N=1<N?"r":N<-1?"l":"";N&&(d=N=="r"?"l":"r",b=s({},l),E=l[N],l.from=E.from,l.to=E.to,l[N]=E[N],b[N]=E[d],(l[d]=b).d=nu(b)),l.d=nu(l)}function nu(b){var d=b.r,b=b.l;return(d?b?Math.max(d.d,b.d):d.d:b?b.d:0)+1}function us(l,d){return f(d).forEach(function(b){l[b]?Er(l[b],d[b]):l[b]=(function E(N){var z,P,K={};for(z in N)_(N,z)&&(P=N[z],K[z]=!P||typeof P!="object"||Ee.has(P.constructor)?P:E(P));return K})(d[b])}),l}function iu(l,d){return l.all||d.all||Object.keys(l).some(function(b){return d[b]&&el(d[b],l[b])})}O(ui.prototype,((rt={add:function(l){return Er(this,l),this},addKey:function(l){return Ba(this,l,l),this},addKeys:function(l){var d=this;return l.forEach(function(b){return Ba(d,b,b)}),this},hasKey:function(l){var d=ss(this).next(l).value;return d&&Zt(d.from,l)<=0&&0<=Zt(d.to,l)}})[ae]=function(){return ss(this)},rt));var Sr={},ru={},au=!1;function ls(l){us(ru,l),au||(au=!0,setTimeout(function(){au=!1,su(ru,!(ru={}))},0))}function su(l,d){d===void 0&&(d=!1);var b=new Set;if(l.all)for(var E=0,N=Object.values(Sr);E<N.length;E++)nl(K=N[E],l,b,d);else for(var z in l){var P,K,z=/^idb\:\/\/(.*)\/(.*)\//.exec(z);z&&(P=z[1],z=z[2],K=Sr["idb://".concat(P,"/").concat(z)])&&nl(K,l,b,d)}b.forEach(function(se){return se()})}function nl(l,d,b,E){for(var N=[],z=0,P=Object.entries(l.queries.query);z<P.length;z++){for(var K=P[z],se=K[0],_e=[],ue=0,re=K[1];ue<re.length;ue++){var fe=re[ue];iu(d,fe.obsSet)?fe.subscribers.forEach(function(Ae){return b.add(Ae)}):E&&_e.push(fe)}E&&N.push([se,_e])}if(E)for(var de=0,le=N;de<le.length;de++){var oe=le[de],se=oe[0],_e=oe[1];l.queries.query[se]=_e}}function To(l){var d=l._state,b=l._deps.indexedDB;if(d.isBeingOpened||l.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?En(d.dbOpenError):l});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var E=d.openCanceller,N=Math.round(10*l.verno),z=!1;function P(){if(d.openCanceller!==E)throw new $e.DatabaseClosed("db.open() was cancelled")}function K(){return new X(function(fe,de){if(P(),!b)throw new $e.MissingAPI;var le=l.name,oe=d.autoSchema||!N?b.open(le):b.open(le,N);if(!oe)throw new $e.MissingAPI;oe.onerror=Li(de),oe.onblocked=Ve(l._fireOnBlocked),oe.onupgradeneeded=Ve(function(Ae){var Oe;ue=oe.transaction,d.autoSchema&&!l._options.allowEmptyDB?(oe.onerror=wr,ue.abort(),oe.result.close(),(Oe=b.deleteDatabase(le)).onsuccess=Oe.onerror=Ve(function(){de(new $e.NoSuchDatabase("Database ".concat(le," doesnt exist")))})):(ue.onerror=Li(de),Oe=Ae.oldVersion>Math.pow(2,62)?0:Ae.oldVersion,re=Oe<1,l.idbdb=oe.result,z&&ts(l,ue),ka(l,Oe/10,ue,de))},de),oe.onsuccess=Ve(function(){ue=null;var Ae,Oe,xe,je,Xe,at,st=l.idbdb=oe.result,Qe=C(st.objectStoreNames);if(0<Qe.length)try{var gt=st.transaction((Xe=Qe).length===1?Xe[0]:Xe,"readonly");if(d.autoSchema)at=st,je=gt,(xe=l).verno=at.version/10,je=xe._dbSchema=Wr(0,at,je),xe._storeNames=C(at.objectStoreNames,0),es(xe,[xe._allTables],f(je),je);else if(rs(l,l._dbSchema,gt),Oe=gt,((Oe=ns(Wr(0,(Ae=l).idbdb,Oe),Ae._dbSchema)).add.length||Oe.change.some(function(ft){return ft.add.length||ft.change.length}))&&!z)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),st.close(),N=st.version+1,z=!0,fe(K());ur(l,gt)}catch{}vi.push(l),st.onversionchange=Ve(function(ft){d.vcFired=!0,l.on("versionchange").fire(ft)}),st.onclose=Ve(function(){l.close({disableAutoOpen:!1})}),re&&(Qe=l._deps,Xe=le,as(at=Qe.indexedDB)||Xe===gr||$s(at,Qe.IDBKeyRange).put({name:Xe}).catch(pt)),fe()},de)}).catch(function(fe){switch(fe==null?void 0:fe.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),K();break;case"VersionError":if(0<N)return N=0,K()}return X.reject(fe)})}var se,_e=d.dbReadyResolve,ue=null,re=!1;return X.race([E,(typeof navigator>"u"?X.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(fe){function de(){return indexedDB.databases().finally(fe)}se=setInterval(de,100),de()}).finally(function(){return clearInterval(se)}):Promise.resolve()).then(K)]).then(function(){return P(),d.onReadyBeingFired=[],X.resolve(eu(function(){return l.on.ready.fire(l.vip)})).then(function fe(){var de;if(0<d.onReadyBeingFired.length)return de=d.onReadyBeingFired.reduce(wn,pt),d.onReadyBeingFired=[],X.resolve(eu(function(){return de(l.vip)})).then(fe)})}).finally(function(){d.openCanceller===E&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(fe){d.dbOpenError=fe;try{ue&&ue.abort()}catch{}return E===d.openCanceller&&l._close(),En(fe)}).finally(function(){d.openComplete=!0,_e()}).then(function(){var fe;return re&&(fe={},l.tables.forEach(function(de){de.schema.indexes.forEach(function(le){le.name&&(fe["idb://".concat(l.name,"/").concat(de.name,"/").concat(le.name)]=new ui(-1/0,[[[]]]))}),fe["idb://".concat(l.name,"/").concat(de.name,"/")]=fe["idb://".concat(l.name,"/").concat(de.name,"/:dels")]=new ui(-1/0,[[[]]])}),si(Kr).fire(fe),su(fe,!0)),l})}function za(l){function d(z){return l.next(z)}var b=N(d),E=N(function(z){return l.throw(z)});function N(z){return function(K){var K=z(K),se=K.value;return K.done?se:se&&typeof se.then=="function"?se.then(b,E):p(se)?Promise.all(se).then(b,E):b(se)}}return N(d)()}function lr(l,d,b){for(var E=p(l)?l.slice():[l],N=0;N<b;++N)E.push(d);return E}var No={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return s(s({},l),{table:function(E){var b=l.table(E),E=b.schema,N={},z=[];function P(fe,de,le){var xe=Jn(fe),oe=N[xe]=N[xe]||[],Ae=fe==null?0:typeof fe=="string"?1:fe.length,Oe=0<de,xe=s(s({},le),{name:Oe?"".concat(xe,"(virtual-from:").concat(le.name,")"):le.name,lowLevelIndex:le,isVirtual:Oe,keyTail:de,keyLength:Ae,extractKey:Qr(fe),unique:!Oe&&le.unique});return oe.push(xe),xe.isPrimaryKey||z.push(xe),1<Ae&&P(Ae===2?fe[0]:fe.slice(0,Ae-1),de+1,le),oe.sort(function(je,Xe){return je.keyTail-Xe.keyTail}),xe}var K=P(E.primaryKey.keyPath,0,E.primaryKey);N[":id"]=[K];for(var se=0,_e=E.indexes;se<_e.length;se++){var ue=_e[se];P(ue.keyPath,0,ue)}function re(fe){var de,le=fe.query.index;return le.isVirtual?s(s({},fe),{query:{index:le.lowLevelIndex,range:(de=fe.query.range,le=le.keyTail,{type:de.type===1?2:de.type,lower:lr(de.lower,de.lowerOpen?l.MAX_KEY:l.MIN_KEY,le),lowerOpen:!0,upper:lr(de.upper,de.upperOpen?l.MIN_KEY:l.MAX_KEY,le),upperOpen:!0})}}):fe}return s(s({},b),{schema:s(s({},E),{primaryKey:K,indexes:z,getIndexByKeyPath:function(fe){return(fe=N[Jn(fe)])&&fe[0]}}),count:function(fe){return b.count(re(fe))},query:function(fe){return b.query(re(fe))},openCursor:function(fe){var de=fe.query.index,le=de.keyTail,oe=de.keyLength;return de.isVirtual?b.openCursor(re(fe)).then(function(Oe){return Oe&&Ae(Oe)}):b.openCursor(fe);function Ae(Oe){return Object.create(Oe,{continue:{value:function(xe){xe!=null?Oe.continue(lr(xe,fe.reverse?l.MAX_KEY:l.MIN_KEY,le)):fe.unique?Oe.continue(Oe.key.slice(0,oe).concat(fe.reverse?l.MIN_KEY:l.MAX_KEY,le)):Oe.continue()}},continuePrimaryKey:{value:function(xe,je){Oe.continuePrimaryKey(lr(xe,l.MAX_KEY,le),je)}},primaryKey:{get:function(){return Oe.primaryKey}},key:{get:function(){var xe=Oe.key;return oe===1?xe[0]:xe.slice(0,oe)}},value:{get:function(){return Oe.value}}})}}})}})}};function os(l,d,b,E){return b=b||{},E=E||"",f(l).forEach(function(N){var z,P,K;_(d,N)?(z=l[N],P=d[N],typeof z=="object"&&typeof P=="object"&&z&&P?(K=Le(z))!==Le(P)?b[E+N]=d[N]:K==="Object"?os(z,P,b,E+N+"."):z!==P&&(b[E+N]=d[N]):z!==P&&(b[E+N]=d[N])):b[E+N]=void 0}),f(d).forEach(function(N){_(l,N)||(b[E+N]=d[N])}),b}function cs(l,d){return d.type==="delete"?d.keys:d.keys||d.values.map(l.extractKey)}var il={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return s(s({},l),{table:function(d){var b=l.table(d),E=b.schema.primaryKey;return s(s({},b),{mutate:function(N){var z=M.trans,P=z.table(d).hook,K=P.deleting,se=P.creating,_e=P.updating;switch(N.type){case"add":if(se.fire===pt)break;return z._promise("readwrite",function(){return ue(N)},!0);case"put":if(se.fire===pt&&_e.fire===pt)break;return z._promise("readwrite",function(){return ue(N)},!0);case"delete":if(K.fire===pt)break;return z._promise("readwrite",function(){return ue(N)},!0);case"deleteRange":if(K.fire===pt)break;return z._promise("readwrite",function(){return(function re(fe,de,le){return b.query({trans:fe,values:!1,query:{index:E,range:de},limit:le}).then(function(oe){var Ae=oe.result;return ue({type:"delete",keys:Ae,trans:fe}).then(function(Oe){return 0<Oe.numFailures?Promise.reject(Oe.failures[0]):Ae.length<le?{failures:[],numFailures:0,lastResult:void 0}:re(fe,s(s({},de),{lower:Ae[Ae.length-1],lowerOpen:!0}),le)})})})(N.trans,N.range,1e4)},!0)}return b.mutate(N);function ue(re){var fe,de,le,oe=M.trans,Ae=re.keys||cs(E,re);if(Ae)return(re=re.type==="add"||re.type==="put"?s(s({},re),{keys:Ae}):s({},re)).type!=="delete"&&(re.values=u([],re.values)),re.keys&&(re.keys=u([],re.keys)),fe=b,le=Ae,((de=re).type==="add"?Promise.resolve([]):fe.getMany({trans:de.trans,keys:le,cache:"immutable"})).then(function(Oe){var xe=Ae.map(function(je,Xe){var at,st,Qe,gt=Oe[Xe],ft={onerror:null,onsuccess:null};return re.type==="delete"?K.fire.call(ft,je,gt,oe):re.type==="add"||gt===void 0?(at=se.fire.call(ft,je,re.values[Xe],oe),je==null&&at!=null&&(re.keys[Xe]=je=at,E.outbound||G(re.values[Xe],E.keyPath,je))):(at=os(gt,re.values[Xe]),(st=_e.fire.call(ft,at,je,gt,oe))&&(Qe=re.values[Xe],Object.keys(st).forEach(function(We){_(Qe,We)?Qe[We]=st[We]:G(Qe,We,st[We])}))),ft});return b.mutate(re).then(function(je){for(var Xe=je.failures,at=je.results,st=je.numFailures,je=je.lastResult,Qe=0;Qe<Ae.length;++Qe){var gt=(at||Ae)[Qe],ft=xe[Qe];gt==null?ft.onerror&&ft.onerror(Xe[Qe]):ft.onsuccess&&ft.onsuccess(re.type==="put"&&Oe[Qe]?re.values[Qe]:gt)}return{failures:Xe,results:at,numFailures:st,lastResult:je}}).catch(function(je){return xe.forEach(function(Xe){return Xe.onerror&&Xe.onerror(je)}),Promise.reject(je)})});throw new Error("Keys missing")}}})}})}};function uu(l,d,b){try{if(!d||d.keys.length<l.length)return null;for(var E=[],N=0,z=0;N<d.keys.length&&z<l.length;++N)Zt(d.keys[N],l[z])===0&&(E.push(b?Ce(d.values[N]):d.values[N]),++z);return E.length===l.length?E:null}catch{return null}}var rl={stack:"dbcore",level:-1,create:function(l){return{table:function(d){var b=l.table(d);return s(s({},b),{getMany:function(E){var N;return E.cache?(N=uu(E.keys,E.trans._cache,E.cache==="clone"))?X.resolve(N):b.getMany(E).then(function(z){return E.trans._cache={keys:E.keys,values:E.cache==="clone"?Ce(z):z},z}):b.getMany(E)},mutate:function(E){return E.type!=="add"&&(E.trans._cache=null),b.mutate(E)}})}}}};function Ar(l,d){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function al(l,d){switch(l){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Oo={stack:"dbcore",level:0,name:"Observability",create:function(l){var d=l.schema.name,b=new ui(l.MIN_KEY,l.MAX_KEY);return s(s({},l),{transaction:function(E,N,z){if(M.subscr&&N!=="readonly")throw new $e.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(M.querier));return l.transaction(E,N,z)},table:function(E){function N(Ae){var oe,Ae=Ae.query;return[oe=Ae.index,new ui((oe=(Ae=Ae.range).lower)!=null?oe:l.MIN_KEY,(oe=Ae.upper)!=null?oe:l.MAX_KEY)]}var z=l.table(E),P=z.schema,K=P.primaryKey,se=P.indexes,_e=K.extractKey,ue=K.outbound,re=K.autoIncrement&&se.filter(function(le){return le.compound&&le.keyPath.includes(K.keyPath)}),fe=s(s({},z),{mutate:function(le){function oe(yt){return yt="idb://".concat(d,"/").concat(E,"/").concat(yt),Xe[yt]||(Xe[yt]=new ui)}var Ae,Oe,xe,je=le.trans,Xe=le.mutatedParts||(le.mutatedParts={}),at=oe(""),st=oe(":dels"),Qe=le.type,ft=le.type==="deleteRange"?[le.range]:le.type==="delete"?[le.keys]:le.values.length<50?[cs(K,le).filter(function(yt){return yt}),le.values]:[],gt=ft[0],ft=ft[1],We=le.trans._cache;return p(gt)?(at.addKeys(gt),(Qe=Qe==="delete"||gt.length===ft.length?uu(gt,We):null)||st.addKeys(gt),(Qe||ft)&&(Ae=oe,Oe=Qe,xe=ft,P.indexes.forEach(function(yt){var qt=Ae(yt.name||"");function an(Pt){return Pt!=null?yt.extractKey(Pt):null}function Ot(Pt){yt.multiEntry&&p(Pt)?Pt.forEach(function(On){return qt.addKey(On)}):qt.addKey(Pt)}(Oe||xe).forEach(function(Pt,Sn){var xi=Oe&&an(Oe[Sn]),Sn=xe&&an(xe[Sn]);Zt(xi,Sn)!==0&&(xi!=null&&Ot(xi),Sn!=null)&&Ot(Sn)})}))):gt?(ft={from:(We=gt.lower)!=null?We:l.MIN_KEY,to:(Qe=gt.upper)!=null?Qe:l.MAX_KEY},st.add(ft),at.add(ft)):(at.add(b),st.add(b),P.indexes.forEach(function(yt){return oe(yt.name).add(b)})),z.mutate(le).then(function(yt){return!gt||le.type!=="add"&&le.type!=="put"||(at.addKeys(yt.results),re&&re.forEach(function(qt){for(var an=le.values.map(function(xi){return qt.extractKey(xi)}),Ot=qt.keyPath.findIndex(function(xi){return xi===K.keyPath}),Pt=0,On=yt.results.length;Pt<On;++Pt)an[Pt][Ot]=yt.results[Pt];oe(qt.name).addKeys(an)})),je.mutatedParts=us(je.mutatedParts||{},Xe),yt})}}),de={get:function(le){return[K,new ui(le.key)]},getMany:function(le){return[K,new ui().addKeys(le.keys)]},count:N,query:N,openCursor:N};return f(de).forEach(function(le){fe[le]=function(oe){var Ae=M.subscr,Oe=!!Ae,xe=Ar(M,z)&&al(le,oe)?oe.obsSet={}:Ae;if(Oe){var je,Ae=function(ft){return ft="idb://".concat(d,"/").concat(E,"/").concat(ft),xe[ft]||(xe[ft]=new ui)},Xe=Ae(""),at=Ae(":dels"),Oe=de[le](oe),st=Oe[0],Oe=Oe[1];if((le==="query"&&st.isPrimaryKey&&!oe.values?at:Ae(st.name||"")).add(Oe),!st.isPrimaryKey){if(le!=="count")return je=le==="query"&&ue&&oe.values&&z.query(s(s({},oe),{values:!1})),z[le].apply(this,arguments).then(function(ft){if(le==="query"){if(ue&&oe.values)return je.then(function(an){return an=an.result,Xe.addKeys(an),ft});var We=oe.values?ft.result.map(_e):ft.result;(oe.values?Xe:at).addKeys(We)}else{var yt,qt;if(le==="openCursor")return qt=oe.values,(yt=ft)&&Object.create(yt,{key:{get:function(){return at.addKey(yt.primaryKey),yt.key}},primaryKey:{get:function(){var an=yt.primaryKey;return at.addKey(an),an}},value:{get:function(){return qt&&Xe.addKey(yt.primaryKey),yt.value}}})}return ft});at.add(b)}}return z[le].apply(this,arguments)}}),fe}})}};function sl(l,d,b){var E;return b.numFailures===0?d:d.type==="deleteRange"||(E=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1,b.numFailures===E)?null:(E=s({},d),p(E.keys)&&(E.keys=E.keys.filter(function(N,z){return!(z in b.failures)})),"values"in E&&p(E.values)&&(E.values=E.values.filter(function(N,z){return!(z in b.failures)})),E)}function fs(l,d){return b=l,((E=d).lower===void 0||(E.lowerOpen?0<Zt(b,E.lower):0<=Zt(b,E.lower)))&&(b=l,(E=d).upper===void 0||(E.upperOpen?Zt(b,E.upper)<0:Zt(b,E.upper)<=0));var b,E}function lu(l,d,b,E,N,z){var P,K,se,_e,ue,re;return!b||b.length===0||(P=d.query.index,K=P.multiEntry,se=d.query.range,_e=E.schema.primaryKey.extractKey,ue=P.extractKey,re=(P.lowLevelIndex||P).extractKey,(E=b.reduce(function(fe,de){var le=fe,oe=[];if(de.type==="add"||de.type==="put")for(var Ae=new ui,Oe=de.values.length-1;0<=Oe;--Oe){var xe,je=de.values[Oe],Xe=_e(je);!Ae.hasKey(Xe)&&(xe=ue(je),K&&p(xe)?xe.some(function(ft){return fs(ft,se)}):fs(xe,se))&&(Ae.addKey(Xe),oe.push(je))}switch(de.type){case"add":var at=new ui().addKeys(d.values?fe.map(function(We){return _e(We)}):fe),le=fe.concat(d.values?oe.filter(function(We){return We=_e(We),!at.hasKey(We)&&(at.addKey(We),!0)}):oe.map(function(We){return _e(We)}).filter(function(We){return!at.hasKey(We)&&(at.addKey(We),!0)}));break;case"put":var st=new ui().addKeys(de.values.map(function(We){return _e(We)}));le=fe.filter(function(We){return!st.hasKey(d.values?_e(We):We)}).concat(d.values?oe:oe.map(function(We){return _e(We)}));break;case"delete":var Qe=new ui().addKeys(de.keys);le=fe.filter(function(We){return!Qe.hasKey(d.values?_e(We):We)});break;case"deleteRange":var gt=de.range;le=fe.filter(function(We){return!fs(_e(We),gt)})}return le},l))===l)?l:(E.sort(function(fe,de){return Zt(re(fe),re(de))||Zt(_e(fe),_e(de))}),d.limit&&d.limit<1/0&&(E.length>d.limit?E.length=d.limit:l.length===d.limit&&E.length<d.limit&&(N.dirty=!0)),z?Object.freeze(E):E)}function $r(l,d){return Zt(l.lower,d.lower)===0&&Zt(l.upper,d.upper)===0&&!!l.lowerOpen==!!d.lowerOpen&&!!l.upperOpen==!!d.upperOpen}function La(l,d){return((b,E,N,z)=>{if(b===void 0)return E!==void 0?-1:0;if(E===void 0)return 1;if((b=Zt(b,E))===0){if(N&&z)return 0;if(N)return 1;if(z)return-1}return b})(l.lower,d.lower,l.lowerOpen,d.lowerOpen)<=0&&0<=((b,E,N,z)=>{if(b===void 0)return E!==void 0?1:0;if(E===void 0)return-1;if((b=Zt(b,E))===0){if(N&&z)return 0;if(N)return-1;if(z)return 1}return b})(l.upper,d.upper,l.upperOpen,d.upperOpen)}function Ro(l,d,b,E){l.subscribers.add(b),E.addEventListener("abort",function(){var N,z;l.subscribers.delete(b),l.subscribers.size===0&&(N=l,z=d,setTimeout(function(){N.subscribers.size===0&&Se(z,N)},3e3))})}var hs={stack:"dbcore",level:0,name:"Cache",create:function(l){var d=l.schema.name;return s(s({},l),{transaction:function(b,E,N){var z,P,K=l.transaction(b,E,N);return E==="readwrite"&&(N=(z=new AbortController).signal,K.addEventListener("abort",(P=function(se){return function(){if(z.abort(),E==="readwrite"){for(var _e=new Set,ue=0,re=b;ue<re.length;ue++){var fe=re[ue],de=Sr["idb://".concat(d,"/").concat(fe)];if(de){var le=l.table(fe),oe=de.optimisticOps.filter(function(yt){return yt.trans===K});if(K._explicit&&se&&K.mutatedParts)for(var Ae=0,Oe=Object.values(de.queries.query);Ae<Oe.length;Ae++)for(var xe=0,je=(st=Oe[Ae]).slice();xe<je.length;xe++)iu((Qe=je[xe]).obsSet,K.mutatedParts)&&(Se(st,Qe),Qe.subscribers.forEach(function(yt){return _e.add(yt)}));else if(0<oe.length){de.optimisticOps=de.optimisticOps.filter(function(yt){return yt.trans!==K});for(var Xe=0,at=Object.values(de.queries.query);Xe<at.length;Xe++)for(var st,Qe,gt,ft=0,We=(st=at[Xe]).slice();ft<We.length;ft++)(Qe=We[ft]).res!=null&&K.mutatedParts&&(se&&!Qe.dirty?(gt=Object.isFrozen(Qe.res),gt=lu(Qe.res,Qe.req,oe,le,Qe,gt),Qe.dirty?(Se(st,Qe),Qe.subscribers.forEach(function(yt){return _e.add(yt)})):gt!==Qe.res&&(Qe.res=gt,Qe.promise=X.resolve({result:gt}))):(Qe.dirty&&Se(st,Qe),Qe.subscribers.forEach(function(yt){return _e.add(yt)})))}}}_e.forEach(function(yt){return yt()})}}})(!1),{signal:N}),K.addEventListener("error",P(!1),{signal:N}),K.addEventListener("complete",P(!0),{signal:N})),K},table:function(b){var E=l.table(b),N=E.schema.primaryKey;return s(s({},E),{mutate:function(z){var P,K=M.trans;return!N.outbound&&K.db._options.cache!=="disabled"&&!K.explicit&&K.idbtrans.mode==="readwrite"&&(P=Sr["idb://".concat(d,"/").concat(b)])?(K=E.mutate(z),z.type!=="add"&&z.type!=="put"||!(50<=z.values.length||cs(N,z).some(function(se){return se==null}))?(P.optimisticOps.push(z),z.mutatedParts&&ls(z.mutatedParts),K.then(function(se){0<se.numFailures&&(Se(P.optimisticOps,z),(se=sl(0,z,se))&&P.optimisticOps.push(se),z.mutatedParts)&&ls(z.mutatedParts)}),K.catch(function(){Se(P.optimisticOps,z),z.mutatedParts&&ls(z.mutatedParts)})):K.then(function(se){var _e=sl(0,s(s({},z),{values:z.values.map(function(ue,re){var fe;return se.failures[re]?ue:(G(fe=(fe=N.keyPath)!=null&&fe.includes(".")?Ce(ue):s({},ue),N.keyPath,se.results[re]),fe)})}),se);P.optimisticOps.push(_e),queueMicrotask(function(){return z.mutatedParts&&ls(z.mutatedParts)})}),K):E.mutate(z)},query:function(z){var P,K,se,_e,ue,re,fe;return Ar(M,E)&&al("query",z)?(P=((se=M.trans)==null?void 0:se.db._options.cache)==="immutable",K=(se=M).requery,se=se.signal,re=((de,le,oe,Ae)=>{var Oe=Sr["idb://".concat(de,"/").concat(le)];if(!Oe)return[];if(!(de=Oe.queries[oe]))return[null,!1,Oe,null];var xe=de[(Ae.query?Ae.query.index.name:null)||""];if(!xe)return[null,!1,Oe,null];switch(oe){case"query":var je=xe.find(function(Xe){return Xe.req.limit===Ae.limit&&Xe.req.values===Ae.values&&$r(Xe.req.query.range,Ae.query.range)});return je?[je,!0,Oe,xe]:[xe.find(function(Xe){return("limit"in Xe.req?Xe.req.limit:1/0)>=Ae.limit&&(!Ae.values||Xe.req.values)&&La(Xe.req.query.range,Ae.query.range)}),!1,Oe,xe];case"count":return je=xe.find(function(Xe){return $r(Xe.req.query.range,Ae.query.range)}),[je,!!je,Oe,xe]}})(d,b,"query",z),fe=re[0],_e=re[2],ue=re[3],fe&&re[1]?fe.obsSet=z.obsSet:(re=E.query(z).then(function(de){var le=de.result;if(fe&&(fe.res=le),P){for(var oe=0,Ae=le.length;oe<Ae;++oe)Object.freeze(le[oe]);Object.freeze(le)}else de.result=Ce(le);return de}).catch(function(de){return ue&&fe&&Se(ue,fe),Promise.reject(de)}),fe={obsSet:z.obsSet,promise:re,subscribers:new Set,type:"query",req:z,dirty:!1},ue?ue.push(fe):(ue=[fe],(_e=_e||(Sr["idb://".concat(d,"/").concat(b)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[z.query.index.name||""]=ue)),Ro(fe,ue,K,se),fe.promise.then(function(de){return{result:lu(de.result,z,_e==null?void 0:_e.optimisticOps,E,fe,P)}})):E.query(z)}})}})}};function Ma(l,d){return new Proxy(l,{get:function(b,E,N){return E==="db"?d:Reflect.get(b,E,N)}})}Fn.prototype.version=function(l){if(isNaN(l)||l<.1)throw new $e.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new $e.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var d=this._versions,b=d.filter(function(E){return E._cfg.version===l})[0];return b||(b=new this.Version(l),d.push(b),d.sort(Ws),b.stores({}),this._state.autoSchema=!1),b},Fn.prototype._whenReady=function(l){var d=this;return this.idbdb&&(this._state.openComplete||M.letThrough||this._vip)?l():new X(function(b,E){if(d._state.openComplete)return E(new $e.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void E(new $e.DatabaseClosed);d.open().catch(pt)}d._state.dbReadyPromise.then(b,E)}).then(l)},Fn.prototype.use=function(N){var d=N.stack,b=N.create,E=N.level,N=N.name,z=(N&&this.unuse({stack:d,name:N}),this._middlewares[d]||(this._middlewares[d]=[]));return z.push({stack:d,create:b,level:E??10,name:N}),z.sort(function(P,K){return P.level-K.level}),this},Fn.prototype.unuse=function(l){var d=l.stack,b=l.name,E=l.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(N){return E?N.create!==E:!!b&&N.name!==b})),this},Fn.prototype.open=function(){var l=this;return qn(hn,function(){return To(l)})},Fn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,d=vi.indexOf(this);if(0<=d&&vi.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new X(function(b){l.dbReadyResolve=b}),l.openCanceller=new X(function(b,E){l.cancelOpen=E}))},Fn.prototype.close=function(d){var d=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,b=this._state;d?(b.isBeingOpened&&b.cancelOpen(new $e.DatabaseClosed),this._close(),b.autoOpen=!1,b.dbOpenError=new $e.DatabaseClosed):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)},Fn.prototype.delete=function(l){var d=this,b=(l===void 0&&(l={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),E=this._state;return new X(function(N,z){function P(){d.close(l);var K=d._deps.indexedDB.deleteDatabase(d.name);K.onsuccess=Ve(function(){var se,_e,ue;se=d._deps,_e=d.name,as(ue=se.indexedDB)||_e===gr||$s(ue,se.IDBKeyRange).delete(_e).catch(pt),N()}),K.onerror=Li(z),K.onblocked=d._fireOnBlocked}if(b)throw new $e.InvalidArgument("Invalid closeOptions argument to db.delete()");E.isBeingOpened?E.dbReadyPromise.then(P):P()})},Fn.prototype.backendDB=function(){return this.idbdb},Fn.prototype.isOpen=function(){return this.idbdb!==null},Fn.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Fn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Fn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Fn.prototype,"tables",{get:function(){var l=this;return f(this._allTables).map(function(d){return l._allTables[d]})},enumerable:!1,configurable:!0}),Fn.prototype.transaction=function(){var l=(function(d,b,E){var N=arguments.length;if(N<2)throw new $e.InvalidArgument("Too few arguments");for(var z=new Array(N-1);--N;)z[N-1]=arguments[N];return E=z.pop(),[d,J(z),E]}).apply(this,arguments);return this._transaction.apply(this,l)},Fn.prototype._transaction=function(l,d,b){var E,N,z=this,P=M.trans,K=(P&&P.db===this&&l.indexOf("!")===-1||(P=null),l.indexOf("?")!==-1);l=l.replace("!","").replace("?","");try{if(N=d.map(function(_e){if(_e=_e instanceof z.Table?_e.name:_e,typeof _e!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return _e}),l=="r"||l===mi)E=mi;else{if(l!="rw"&&l!=Ci)throw new $e.InvalidArgument("Invalid transaction mode: "+l);E=Ci}if(P){if(P.mode===mi&&E===Ci){if(!K)throw new $e.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");P=null}P&&N.forEach(function(_e){if(P&&P.storeNames.indexOf(_e)===-1){if(!K)throw new $e.SubTransaction("Table "+_e+" not included in parent transaction.");P=null}}),K&&P&&!P.active&&(P=null)}}catch(_e){return P?P._promise(null,function(ue,re){re(_e)}):En(_e)}var se=(function _e(ue,re,fe,de,le){return X.resolve().then(function(){var xe=M.transless||M,oe=ue._createTransaction(re,fe,ue._dbSchema,de),xe=(oe.explicit=!0,{trans:oe,transless:xe});if(de)oe.idbtrans=de.idbtrans;else try{oe.create(),oe.idbtrans._explicit=!0,ue._state.PR1398_maxLoop=3}catch(je){return je.name===ct.InvalidState&&ue.isOpen()&&0<--ue._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ue.close({disableAutoOpen:!1}),ue.open().then(function(){return _e(ue,re,fe,null,le)})):En(je)}var Ae,Oe=V(le),xe=(Oe&&Jt(),X.follow(function(){var je;(Ae=le.call(oe,oe))&&(Oe?(je=An.bind(null,null),Ae.then(je,je)):typeof Ae.next=="function"&&typeof Ae.throw=="function"&&(Ae=za(Ae)))},xe));return(Ae&&typeof Ae.then=="function"?X.resolve(Ae).then(function(je){return oe.active?je:En(new $e.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):xe.then(function(){return Ae})).then(function(je){return de&&oe._resolve(),oe._completion.then(function(){return je})}).catch(function(je){return oe._reject(je),En(je)})})}).bind(null,this,E,N,P,b);return P?P._promise(E,se,"lock"):M.trans?qn(M.transless,function(){return z._whenReady(se)}):this._whenReady(se)},Fn.prototype.table=function(l){if(_(this._allTables,l))return this._allTables[l];throw new $e.InvalidTable("Table ".concat(l," does not exist"))};var Gi=Fn;function Fn(l,d){var b,E,N,z,P,K=this,se=(this._middlewares={},this.verno=0,Fn.dependencies),se=(this._options=d=s({addons:Fn.addons,autoOpen:!0,indexedDB:se.indexedDB,IDBKeyRange:se.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},d.addons),_e=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:pt,dbReadyPromise:null,cancelOpen:pt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen}),ue=(_e.dbReadyPromise=new X(function(re){_e.dbReadyResolve=re}),_e.openCanceller=new X(function(re,fe){_e.cancelOpen=fe}),this._state=_e,this.name=l,this.on=et(this,"populate","blocked","versionchange","close",{ready:[wn,pt]}),this.once=function(re,fe){var de=function(){for(var le=[],oe=0;oe<arguments.length;oe++)le[oe]=arguments[oe];K.on(re).unsubscribe(de),fe.apply(K,le)};return K.on(re,de)},this.on.ready.subscribe=j(this.on.ready.subscribe,function(re){return function(fe,de){Fn.vip(function(){var le,oe=K._state;oe.openComplete?(oe.dbOpenError||X.resolve().then(fe),de&&re(fe)):oe.onReadyBeingFired?(oe.onReadyBeingFired.push(fe),de&&re(fe)):(re(fe),le=K,de||re(function Ae(){le.on.ready.unsubscribe(fe),le.on.ready.unsubscribe(Ae)}))})}}),this.Collection=(b=this,Ke(gi.prototype,function(Ae,oe){this.db=b;var de=Ca,le=null;if(oe)try{de=oe()}catch(xe){le=xe}var oe=Ae._ctx,Ae=oe.table,Oe=Ae.hook.reading.fire;this._ctx={table:Ae,index:oe.index,isPrimKey:!oe.index||Ae.schema.primKey.keyPath&&oe.index===Ae.schema.primKey.name,range:de,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:le,or:oe.or,valueMapper:Oe!==kt?Oe:null}})),this.Table=(E=this,Ke(qe.prototype,function(re,fe,de){this.db=E,this._tx=de,this.name=re,this.schema=fe,this.hook=E._allTables[re]?E._allTables[re].hook:et(null,{creating:[tn,pt],reading:[Ut,kt],updating:[on,pt],deleting:[Kt,pt]})})),this.Transaction=(N=this,Ke(Qs.prototype,function(re,fe,de,le,oe){var Ae=this;re!=="readonly"&&fe.forEach(function(Oe){Oe=(Oe=de[Oe])==null?void 0:Oe.yProps,Oe&&(fe=fe.concat(Oe.map(function(xe){return xe.updatesTable})))}),this.db=N,this.mode=re,this.storeNames=fe,this.schema=de,this.chromeTransactionDurability=le,this.idbtrans=null,this.on=et(this,"complete","error","abort"),this.parent=oe||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new X(function(Oe,xe){Ae._resolve=Oe,Ae._reject=xe}),this._completion.then(function(){Ae.active=!1,Ae.on.complete.fire()},function(Oe){var xe=Ae.active;return Ae.active=!1,Ae.on.error.fire(Oe),Ae.parent?Ae.parent._reject(Oe):xe&&Ae.idbtrans&&Ae.idbtrans.abort(),En(Oe)})})),this.Version=(z=this,Ke(Co.prototype,function(re){this.db=z,this._cfg={version:re,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(P=this,Ke(br.prototype,function(re,fe,de){if(this.db=P,this._ctx={table:re,index:fe===":id"?null:fe,or:de},this._cmp=this._ascending=Zt,this._descending=function(le,oe){return Zt(oe,le)},this._max=function(le,oe){return 0<Zt(le,oe)?le:oe},this._min=function(le,oe){return Zt(le,oe)<0?le:oe},this._IDBKeyRange=P._deps.IDBKeyRange,!this._IDBKeyRange)throw new $e.MissingAPI})),this.on("versionchange",function(re){0<re.newVersion?console.warn("Another connection wants to upgrade database '".concat(K.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(K.name,"'. Closing db now to resume the delete request.")),K.close({disableAutoOpen:!1})}),this.on("blocked",function(re){!re.newVersion||re.newVersion<re.oldVersion?console.warn("Dexie.delete('".concat(K.name,"') was blocked")):console.warn("Upgrade '".concat(K.name,"' blocked by other connection holding version ").concat(re.oldVersion/10))}),this._maxKey=Xr(d.IDBKeyRange),this._createTransaction=function(re,fe,de,le){return new K.Transaction(re,fe,de,K._options.chromeTransactionDurability,le)},this._fireOnBlocked=function(re){K.on("blocked").fire(re),vi.filter(function(fe){return fe.name===K.name&&fe!==K&&!fe._state.vcFired}).map(function(fe){return fe.on("versionchange").fire(re)})},this.use(rl),this.use(hs),this.use(Oo),this.use(No),this.use(il),new Proxy(this,{get:function(re,fe,de){var le;return fe==="_vip"||(fe==="table"?function(oe){return Ma(K.table(oe),ue)}:(le=Reflect.get(re,fe,de))instanceof qe?Ma(le,ue):fe==="tables"?le.map(function(oe){return Ma(oe,ue)}):fe==="_createTransaction"?function(){return Ma(le.apply(this,arguments),ue)}:le)}}));this.vip=ue,se.forEach(function(re){return re(K)})}var ea,Dr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ul=(ds.prototype.subscribe=function(l,d,b){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:d,complete:b})},ds.prototype[Dr]=function(){return this},ds);function ds(l){this._subscribe=l}try{ea={indexedDB:c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB,IDBKeyRange:c.IDBKeyRange||c.webkitIDBKeyRange}}catch{ea={indexedDB:null,IDBKeyRange:null}}function ll(l){var d,b=!1,E=new ul(function(N){var z=V(l),P,K=!1,se={},_e={},ue={get closed(){return K},unsubscribe:function(){K||(K=!0,P&&P.abort(),re&&si.storagemutated.unsubscribe(de))}},re=(N.start&&N.start(ue),!1),fe=function(){return Si(le)},de=function(oe){us(se,oe),iu(_e,se)&&fe()},le=function(){var oe,Ae,Oe;!K&&ea.indexedDB&&(se={},oe={},P&&P.abort(),P=new AbortController,Oe=(xe=>{var je=L();try{z&&Jt();var Xe=St(l,xe);return Xe=z?Xe.finally(An):Xe}finally{je&&ee()}})(Ae={subscr:oe,signal:P.signal,requery:fe,querier:l,trans:null}),Promise.resolve(Oe).then(function(xe){b=!0,d=xe,K||Ae.signal.aborted||(se={},(je=>{for(var Xe in je)if(_(je,Xe))return;return 1})(_e=oe)||re||(si(Kr,de),re=!0),Si(function(){return!K&&N.next&&N.next(xe)}))},function(xe){b=!1,["DatabaseClosedError","AbortError"].includes(xe==null?void 0:xe.name)||K||Si(function(){K||N.error&&N.error(xe)})}))};return setTimeout(fe,0),ue});return E.hasValue=function(){return b},E.getValue=function(){return d},E}var Cr=Gi;function ou(l){var d=or;try{or=!0,si.storagemutated.fire(l),su(l,!0)}finally{or=d}}O(Cr,s(s({},pe),{delete:function(l){return new Cr(l,{addons:[]}).delete()},exists:function(l){return new Cr(l,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return d=Cr.dependencies,b=d.indexedDB,d=d.IDBKeyRange,(as(b)?Promise.resolve(b.databases()).then(function(E){return E.map(function(N){return N.name}).filter(function(N){return N!==gr})}):$s(b,d).toCollection().primaryKeys()).then(l)}catch{return En(new $e.MissingAPI)}var d,b},defineClass:function(){return function(l){v(this,l)}},ignoreTransaction:function(l){return M.trans?qn(M.transless,l):l()},vip:eu,async:function(l){return function(){try{var d=za(l.apply(this,arguments));return d&&typeof d.then=="function"?d:X.resolve(d)}catch(b){return En(b)}}},spawn:function(l,d,b){try{var E=za(l.apply(b,d||[]));return E&&typeof E.then=="function"?E:X.resolve(E)}catch(N){return En(N)}},currentTransaction:{get:function(){return M.trans||null}},waitFor:function(l,d){return l=X.resolve(typeof l=="function"?Cr.ignoreTransaction(l):l).timeout(d||6e4),M.trans?M.trans.waitFor(l):l},Promise:X,debug:{get:function(){return xt},set:function(l){Bt(l)}},derive:B,extend:v,props:O,override:j,Events:et,on:si,liveQuery:ll,extendObservabilitySet:us,getByKeyPath:I,setByKeyPath:G,delByKeyPath:function(l,d){typeof d=="string"?G(l,d,void 0):"length"in d&&[].map.call(d,function(b){G(l,b,void 0)})},shallowClone:W,deepClone:Ce,getObjectDiff:os,cmp:Zt,asap:k,minKey:-1/0,addons:[],connections:vi,errnames:ct,dependencies:ea,cache:Sr,semVer:"4.3.0",version:"4.3.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,d,b){return l+d/Math.pow(10,2*b)})})),Cr.maxKey=Xr(Cr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(si(Kr,function(l){or||(l=new CustomEvent(_r,{detail:l}),or=!0,dispatchEvent(l),or=!1)}),addEventListener(_r,function(l){l=l.detail,or||ou(l)}));var ta,or=!1,_i=function(){};return typeof BroadcastChannel<"u"&&((_i=function(){(ta=new BroadcastChannel(_r)).onmessage=function(l){return l.data&&ou(l.data)}})(),typeof ta.unref=="function"&&ta.unref(),si(Kr,function(l){or||ta.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!Gi.disableBfCache&&l.persisted){xt&&console.debug("Dexie: handling persisted pagehide"),ta!=null&&ta.close();for(var d=0,b=vi;d<b.length;d++)b[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!Gi.disableBfCache&&l.persisted&&(xt&&console.debug("Dexie: handling persisted pageshow"),_i(),ou({all:new ui(-1/0,[[]])}))})),X.rejectionMapper=function(l,d){return!l||l instanceof Me||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Tt[l.name]?l:(d=new Tt[l.name](d||l.message,l),"stack"in l&&H(d,"stack",{get:function(){return this.inner.stack}}),d)},Bt(xt),s(Gi,Object.freeze({__proto__:null,Dexie:Gi,Entity:Qa,PropModification:me,RangeSet:ui,add:function(l){return new me({add:l})},cmp:Zt,default:Gi,liveQuery:ll,mergeRanges:Er,rangesOverlap:el,remove:function(l){return new me({remove:l})},replacePrefix:function(l,d){return new me({replacePrefix:[l,d]})}}),{default:Gi}),Gi})})(co)),co.exports}var ey=$0();const fh=Vr(ey),Fv=Symbol.for("Dexie"),po=globalThis[Fv]||(globalThis[Fv]=fh);if(fh.semVer!==po.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${fh.semVer} and ${po.semVer}`);const{liveQuery:Q2,mergeRanges:W2,rangesOverlap:J2,RangeSet:$2,cmp:eb,Entity:tb,PropModification:nb,replacePrefix:ib,add:rb,remove:ab,DexieYProvider:sb}=po,Bi=new po("ebookReaderDB");Bi.version(1).stores({books:"id, title, author"});const ty=()=>{const[D,i]=dt.useState([]),[r,s]=dt.useState(!0),u=dt.useCallback(async()=>{s(!0);try{const y=await Bi.books.toArray();i(y)}catch(y){console.error("Failed to load books from IndexedDB",y)}finally{s(!1)}},[]);return dt.useEffect(()=>{u()},[u]),{books:D,loading:r,addBook:async y=>{try{await Bi.books.add(y),i(x=>[...x,y])}catch(x){console.error("Failed to add book to IndexedDB",x)}},deleteBook:async y=>{try{await Bi.books.delete(y),i(x=>x.filter(_=>_.id!==y))}catch(x){console.error("Failed to delete book from IndexedDB",x)}},updateBook:async y=>{try{await Bi.books.put(y),i(x=>x.map(_=>_.id===y.id?y:_))}catch(x){console.error("Failed to update book in IndexedDB",x)}},updateBookPosition:async(y,x)=>{try{await Bi.books.update(y,{lastPosition:x}),i(_=>_.map(O=>O.id===y?{...O,lastPosition:x}:O))}catch(_){console.error("Failed to update book position in IndexedDB",_)}},loadBooks:u}},Hv=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:D,children:$.jsx("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.647c1.295.742 1.295 2.545 0 3.286L7.279 20.99c-1.25.717-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"})}),ny=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:D,children:$.jsx("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 00-.75.75v12a.75.75 0 00.75.75h.75a.75.75 0 00.75-.75V6a.75.75 0 00-.75-.75H6.75zm8.25 0a.75.75 0 00-.75.75v12a.75.75 0 00.75.75h.75a.75.75 0 00.75-.75V6a.75.75 0 00-.75-.75h-.75z",clipRule:"evenodd"})}),iy=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:D,children:$.jsx("path",{fillRule:"evenodd",d:"M4.5 7.5a3 3 0 013-3h9a3 3 0 013 3v9a3 3 0 01-3 3h-9a3 3 0 01-3-3v-9z",clipRule:"evenodd"})}),ry=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:D,children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Gm=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:D,children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),Zs=({className:D="w-6 h-6"})=>$.jsxs("svg",{className:`${D} animate-spin`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[$.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),$.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Ym=({className:D="w-5 h-5"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:D,children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.134-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.067-2.09.921-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),Vm=({className:D="w-6 h-6"})=>$.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:D,children:[$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.24-.438.613-.438.995s.145.755.438.995l1.003.827c.424.35.534.954.26 1.431l-1.296 2.247a1.125 1.125 0 0 1-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.075.124a6.57 6.57 0 0 1-.22.127c-.331.184-.581.496-.645.87l-.213 1.281c-.09.543-.56.94-1.11.94h-2.593c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 0 1-.22-.127c-.324-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 0 1-1.37-.49l-1.296-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.437-.995s-.145-.755-.437-.995l-1.004-.827a1.125 1.125 0 0 1-.26-1.431l1.296-2.247a1.125 1.125 0 0 1 1.37-.49l1.217.456c.355.133.75.072 1.075-.124.072-.044.146-.087.22-.127.332-.184.582-.496.646-.87l.212-1.281Z"}),$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),ay=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:D,children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})}),vo=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:D,children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 11.664 0l3.18-3.185m-3.181 9.995-3.182-3.182m0 0a8.25 8.25 0 0 1 11.664 0l3.18 3.185"})}),sy=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:D,children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-7.5-2.962a3.75 3.75 0 1 0-7.5 0 3.75 3.75 0 0 0 7.5 0ZM10.5 14.25a3.75 3.75 0 1 0-7.5 0 3.75 3.75 0 0 0 7.5 0Z"})}),Km=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:D,children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})}),uy=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:D,children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),bh=({className:D="w-6 h-6"})=>$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:D,children:$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),ly=({book:D,onSelect:i,onDelete:r})=>{const s=u=>{u.stopPropagation(),window.confirm(`Are you sure you want to delete "${D.title}"?`)&&r(D.id)};return $.jsxs("div",{onClick:()=>i(D.id),className:"relative group bg-slate-800 rounded-lg shadow-lg overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-cyan-500/50 hover:-translate-y-1",children:[$.jsx("div",{className:"aspect-[2/3] w-full bg-slate-700 flex items-center justify-center",children:D.coverImage?$.jsx("img",{src:D.coverImage,alt:`${D.title} cover`,className:"w-full h-full object-cover"}):$.jsx(ry,{className:"w-16 h-16 text-slate-500"})}),$.jsxs("div",{className:"p-4",children:[$.jsx("h3",{className:"text-lg font-bold text-cyan-400 truncate group-hover:text-cyan-300",children:D.title}),D.author&&$.jsx("p",{className:"text-sm text-slate-400 truncate",children:D.author}),$.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[D.chapters.length," chapters"]})]}),$.jsx("button",{onClick:s,className:"absolute top-2 right-2 p-2 bg-red-600 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 hover:bg-red-700 focus:opacity-100 focus:ring-2 focus:ring-red-400 focus:outline-none","aria-label":`Delete ${D.title}`,children:$.jsx(Ym,{className:"w-5 h-5"})})]})};var uo={exports:{}},Ef={exports:{}},Sf,Pv;function Zm(){if(Pv)return Sf;Pv=1;var D=void 0;return Sf=function(i){return i!==D&&i!==null},Sf}var Af,Gv;function oy(){if(Gv)return Af;Gv=1;var D=Zm(),i={object:!0,function:!0,undefined:!0};return Af=function(r){return D(r)?hasOwnProperty.call(i,typeof r):!1},Af}var Df,Yv;function cy(){if(Yv)return Df;Yv=1;var D=oy();return Df=function(i){if(!D(i))return!1;try{return i.constructor?i.constructor.prototype===i:!1}catch{return!1}},Df}var Cf,Vv;function fy(){if(Vv)return Cf;Vv=1;var D=cy();return Cf=function(i){if(typeof i!="function"||!hasOwnProperty.call(i,"length"))return!1;try{if(typeof i.length!="number"||typeof i.call!="function"||typeof i.apply!="function")return!1}catch{return!1}return!D(i)},Cf}var Tf,Kv;function hy(){if(Kv)return Tf;Kv=1;var D=fy(),i=/^\s*class[\s{/}]/,r=Function.prototype.toString;return Tf=function(s){return!(!D(s)||i.test(r.call(s)))},Tf}var Nf,Zv;function dy(){return Zv||(Zv=1,Nf=function(){var D=Object.assign,i;return typeof D!="function"?!1:(i={foo:"raz"},D(i,{bar:"dwa"},{trzy:"trzy"}),i.foo+i.bar+i.trzy==="razdwatrzy")}),Nf}var Of,Xv;function py(){return Xv||(Xv=1,Of=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Of}var Rf,Qv;function vy(){return Qv||(Qv=1,Rf=function(){}),Rf}var kf,Wv;function wh(){if(Wv)return kf;Wv=1;var D=vy()();return kf=function(i){return i!==D&&i!==null},kf}var Bf,Jv;function my(){if(Jv)return Bf;Jv=1;var D=wh(),i=Object.keys;return Bf=function(r){return i(D(r)?Object(r):r)},Bf}var zf,$v;function gy(){return $v||($v=1,zf=py()()?Object.keys:my()),zf}var Lf,em;function yy(){if(em)return Lf;em=1;var D=wh();return Lf=function(i){if(!D(i))throw new TypeError("Cannot use null or undefined");return i},Lf}var Mf,tm;function by(){if(tm)return Mf;tm=1;var D=gy(),i=yy(),r=Math.max;return Mf=function(s,u){var c,f,p=r(arguments.length,2),v;for(s=Object(i(s)),v=function(y){try{s[y]=u[y]}catch(x){c||(c=x)}},f=1;f<p;++f)u=arguments[f],D(u).forEach(v);if(c!==void 0)throw c;return s},Mf}var jf,nm;function wy(){return nm||(nm=1,jf=dy()()?Object.assign:by()),jf}var Uf,im;function _y(){if(im)return Uf;im=1;var D=wh(),i=Array.prototype.forEach,r=Object.create,s=function(u,c){var f;for(f in u)c[f]=u[f]};return Uf=function(u){var c=r(null);return i.call(arguments,function(f){D(f)&&s(Object(f),c)}),c},Uf}var qf,rm;function xy(){if(rm)return qf;rm=1;var D="razdwatrzy";return qf=function(){return typeof D.contains!="function"?!1:D.contains("dwa")===!0&&D.contains("foo")===!1},qf}var If,am;function Ey(){if(am)return If;am=1;var D=String.prototype.indexOf;return If=function(i){return D.call(this,i,arguments[1])>-1},If}var Ff,sm;function Sy(){return sm||(sm=1,Ff=xy()()?String.prototype.contains:Ey()),Ff}var um;function Ay(){if(um)return Ef.exports;um=1;var D=Zm(),i=hy(),r=wy(),s=_y(),u=Sy(),c=Ef.exports=function(f,p){var v,y,x,_,O;return arguments.length<2||typeof f!="string"?(_=p,p=f,f=null):_=arguments[2],D(f)?(v=u.call(f,"c"),y=u.call(f,"e"),x=u.call(f,"w")):(v=x=!0,y=!1),O={value:p,configurable:v,enumerable:y,writable:x},_?r(s(_),O):O};return c.gs=function(f,p,v){var y,x,_,O;return typeof f!="string"?(_=v,v=p,p=f,f=null):_=arguments[3],D(p)?i(p)?D(v)?i(v)||(_=v,v=void 0):v=void 0:(_=p,p=v=void 0):p=void 0,D(f)?(y=u.call(f,"c"),x=u.call(f,"e")):(y=!0,x=!1),O={get:p,set:v,configurable:y,enumerable:x},_?r(s(_),O):O},Ef.exports}var Hf,lm;function Dy(){return lm||(lm=1,Hf=function(D){if(typeof D!="function")throw new TypeError(D+" is not a function");return D}),Hf}var om;function Cy(){return om||(om=1,(function(D,i){var r=Ay(),s=Dy(),u=Function.prototype.apply,c=Function.prototype.call,f=Object.create,p=Object.defineProperty,v=Object.defineProperties,y=Object.prototype.hasOwnProperty,x={configurable:!0,enumerable:!1,writable:!0},_,O,T,H,B,w,A;_=function(C,j){var F;return s(j),y.call(this,"__ee__")?F=this.__ee__:(F=x.value=f(null),p(this,"__ee__",x),x.value=null),F[C]?typeof F[C]=="object"?F[C].push(j):F[C]=[F[C],j]:F[C]=j,this},O=function(C,j){var F,k;return s(j),k=this,_.call(this,C,F=function(){T.call(k,C,F),u.call(j,this,arguments)}),F.__eeOnceListener__=j,this},T=function(C,j){var F,k,I,G;if(s(j),!y.call(this,"__ee__"))return this;if(F=this.__ee__,!F[C])return this;if(k=F[C],typeof k=="object")for(G=0;I=k[G];++G)(I===j||I.__eeOnceListener__===j)&&(k.length===2?F[C]=k[G?0:1]:k.splice(G,1));else(k===j||k.__eeOnceListener__===j)&&delete F[C];return this},H=function(C){var j,F,k,I,G;if(y.call(this,"__ee__")&&(I=this.__ee__[C],!!I))if(typeof I=="object"){for(F=arguments.length,G=new Array(F-1),j=1;j<F;++j)G[j-1]=arguments[j];for(I=I.slice(),j=0;k=I[j];++j)u.call(k,this,G)}else switch(arguments.length){case 1:c.call(I,this);break;case 2:c.call(I,this,arguments[1]);break;case 3:c.call(I,this,arguments[1],arguments[2]);break;default:for(F=arguments.length,G=new Array(F-1),j=1;j<F;++j)G[j-1]=arguments[j];u.call(I,this,G)}},B={on:_,once:O,off:T,emit:H},w={on:r(_),once:r(O),off:r(T),emit:r(H)},A=v({},w),D.exports=i=function(C){return C==null?f(A):v(Object(C),w)},i.methods=B})(uo,uo.exports)),uo.exports}var Ty=Cy();const mr=Vr(Ty);var Gu={},Pr={},qs={},cm;function So(){if(cm)return qs;cm=1;function D(u,c,f){if(f===void 0&&(f=Array.prototype),u&&typeof f.find=="function")return f.find.call(u,c);for(var p=0;p<u.length;p++)if(Object.prototype.hasOwnProperty.call(u,p)){var v=u[p];if(c.call(void 0,v,p,u))return v}}function i(u,c){return c===void 0&&(c=Object),c&&typeof c.freeze=="function"?c.freeze(u):u}var r=i({HTML:"text/html",isHTML:function(u){return u===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s=i({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(u){return u===s.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return qs.find=D,qs.freeze=i,qs.MIME_TYPE=r,qs.NAMESPACE=s,qs}var fm;function Xm(){if(fm)return Pr;fm=1;var D=So(),i=D.find,r=D.NAMESPACE;function s(g){return g!==""}function u(g){return g?g.split(/[\t\n\f\r ]+/).filter(s):[]}function c(g,R){return g.hasOwnProperty(R)||(g[R]=!0),g}function f(g){if(!g)return[];var R=u(g);return Object.keys(R.reduce(c,{}))}function p(g){return function(R){return g&&g.indexOf(R)!==-1}}function v(g,R){for(var Z in g)Object.prototype.hasOwnProperty.call(g,Z)&&(R[Z]=g[Z])}function y(g,R){var Z=g.prototype;if(!(Z instanceof R)){let te=function(){};var m=te;te.prototype=R.prototype,te=new te,v(Z,te),g.prototype=Z=te}Z.constructor!=g&&(typeof g!="function"&&console.error("unknown Class:"+g),Z.constructor=g)}var x={},_=x.ELEMENT_NODE=1,O=x.ATTRIBUTE_NODE=2,T=x.TEXT_NODE=3,H=x.CDATA_SECTION_NODE=4,B=x.ENTITY_REFERENCE_NODE=5,w=x.ENTITY_NODE=6,A=x.PROCESSING_INSTRUCTION_NODE=7,C=x.COMMENT_NODE=8,j=x.DOCUMENT_NODE=9,F=x.DOCUMENT_TYPE_NODE=10,k=x.DOCUMENT_FRAGMENT_NODE=11,I=x.NOTATION_NODE=12,G={},W={};G.INDEX_SIZE_ERR=(W[1]="Index size error",1),G.DOMSTRING_SIZE_ERR=(W[2]="DOMString size error",2);var Q=G.HIERARCHY_REQUEST_ERR=(W[3]="Hierarchy request error",3);G.WRONG_DOCUMENT_ERR=(W[4]="Wrong document",4),G.INVALID_CHARACTER_ERR=(W[5]="Invalid character",5),G.NO_DATA_ALLOWED_ERR=(W[6]="No data allowed",6),G.NO_MODIFICATION_ALLOWED_ERR=(W[7]="No modification allowed",7);var J=G.NOT_FOUND_ERR=(W[8]="Not found",8);G.NOT_SUPPORTED_ERR=(W[9]="Not supported",9);var Ee=G.INUSE_ATTRIBUTE_ERR=(W[10]="Attribute in use",10);G.INVALID_STATE_ERR=(W[11]="Invalid state",11),G.SYNTAX_ERR=(W[12]="Syntax error",12),G.INVALID_MODIFICATION_ERR=(W[13]="Invalid modification",13),G.NAMESPACE_ERR=(W[14]="Invalid namespace",14),G.INVALID_ACCESS_ERR=(W[15]="Invalid access",15);function ce(g,R){if(R instanceof Error)var Z=R;else Z=this,Error.call(this,W[g]),this.message=W[g],Error.captureStackTrace&&Error.captureStackTrace(this,ce);return Z.code=g,R&&(this.message=this.message+": "+R),Z}ce.prototype=Error.prototype,v(G,ce);function Ce(){}Ce.prototype={length:0,item:function(g){return g>=0&&g<this.length?this[g]:null},toString:function(g,R){for(var Z=[],m=0;m<this.length;m++)Fe(this[m],Z,g,R);return Z.join("")},filter:function(g){return Array.prototype.filter.call(this,g)},indexOf:function(g){return Array.prototype.indexOf.call(this,g)}};function Ye(g,R){this._node=g,this._refresh=R,Le(this)}function Le(g){var R=g._node._inc||g._node.ownerDocument._inc;if(g._inc!==R){var Z=g._refresh(g._node);if(X(g,"length",Z.length),!g.$$length||Z.length<g.$$length)for(var m=Z.length;m in g;m++)Object.prototype.hasOwnProperty.call(g,m)&&delete g[m];v(Z,g),g._inc=R}}Ye.prototype.item=function(g){return Le(this),this[g]||null},y(Ye,Ce);function ae(){}function be(g,R){for(var Z=g.length;Z--;)if(g[Z]===R)return Z}function Se(g,R,Z,m){if(m?R[be(R,m)]=Z:R[R.length++]=Z,g){Z.ownerElement=g;var te=g.ownerDocument;te&&(m&&ut(te,g,m),it(te,g,Z))}}function Ie(g,R,Z){var m=be(R,Z);if(m>=0){for(var te=R.length-1;m<te;)R[m]=R[++m];if(R.length=te,g){var ge=g.ownerDocument;ge&&(ut(ge,g,Z),Z.ownerElement=null)}}else throw new ce(J,new Error(g.tagName+"@"+Z))}ae.prototype={length:0,item:Ce.prototype.item,getNamedItem:function(g){for(var R=this.length;R--;){var Z=this[R];if(Z.nodeName==g)return Z}},setNamedItem:function(g){var R=g.ownerElement;if(R&&R!=this._ownerElement)throw new ce(Ee);var Z=this.getNamedItem(g.nodeName);return Se(this._ownerElement,this,g,Z),Z},setNamedItemNS:function(g){var R=g.ownerElement,Z;if(R&&R!=this._ownerElement)throw new ce(Ee);return Z=this.getNamedItemNS(g.namespaceURI,g.localName),Se(this._ownerElement,this,g,Z),Z},removeNamedItem:function(g){var R=this.getNamedItem(g);return Ie(this._ownerElement,this,R),R},removeNamedItemNS:function(g,R){var Z=this.getNamedItemNS(g,R);return Ie(this._ownerElement,this,Z),Z},getNamedItemNS:function(g,R){for(var Z=this.length;Z--;){var m=this[Z];if(m.localName==R&&m.namespaceURI==g)return m}return null}};function nt(){}nt.prototype={hasFeature:function(g,R){return!0},createDocument:function(g,R,Z){var m=new Me;if(m.implementation=this,m.childNodes=new Ce,m.doctype=Z||null,Z&&m.appendChild(Z),R){var te=m.createElementNS(g,R);m.appendChild(te)}return m},createDocumentType:function(g,R,Z){var m=new bt;return m.name=g,m.nodeName=g,m.publicId=R||"",m.systemId=Z||"",m}};function V(){}V.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(g,R){return bn(this,g,R)},replaceChild:function(g,R){bn(this,g,R,on),R&&this.removeChild(R)},removeChild:function(g){return ct(this,g)},appendChild:function(g){return this.insertBefore(g,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(g){return ot(this.ownerDocument||this,this,g)},normalize:function(){for(var g=this.firstChild;g;){var R=g.nextSibling;R&&R.nodeType==T&&g.nodeType==T?(this.removeChild(R),g.appendData(R.data)):(g.normalize(),g=R)}},isSupported:function(g,R){return this.ownerDocument.implementation.hasFeature(g,R)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(g){for(var R=this;R;){var Z=R._nsMap;if(Z){for(var m in Z)if(Object.prototype.hasOwnProperty.call(Z,m)&&Z[m]===g)return m}R=R.nodeType==O?R.ownerDocument:R.parentNode}return null},lookupNamespaceURI:function(g){for(var R=this;R;){var Z=R._nsMap;if(Z&&g in Z&&Object.prototype.hasOwnProperty.call(Z,g))return Z[g];R=R.nodeType==O?R.ownerDocument:R.parentNode}return null},isDefaultNamespace:function(g){var R=this.lookupPrefix(g);return R==null}};function pe(g){return g=="<"&&"&lt;"||g==">"&&"&gt;"||g=="&"&&"&amp;"||g=='"'&&"&quot;"||"&#"+g.charCodeAt()+";"}v(x,V),v(x,V.prototype);function Pe(g,R){if(R(g))return!0;if(g=g.firstChild)do if(Pe(g,R))return!0;while(g=g.nextSibling)}function Me(){this.ownerDocument=this}function it(g,R,Z){g&&g._inc++;var m=Z.namespaceURI;m===r.XMLNS&&(R._nsMap[Z.prefix?Z.localName:""]=Z.value)}function ut(g,R,Z,m){g&&g._inc++;var te=Z.namespaceURI;te===r.XMLNS&&delete R._nsMap[Z.prefix?Z.localName:""]}function vt(g,R,Z){if(g&&g._inc){g._inc++;var m=R.childNodes;if(Z)m[m.length++]=Z;else{for(var te=R.firstChild,ge=0;te;)m[ge++]=te,te=te.nextSibling;m.length=ge,delete m[m.length]}}}function ct(g,R){var Z=R.previousSibling,m=R.nextSibling;return Z?Z.nextSibling=m:g.firstChild=m,m?m.previousSibling=Z:g.lastChild=Z,R.parentNode=null,R.previousSibling=null,R.nextSibling=null,vt(g.ownerDocument,g),R}function At(g){return g&&(g.nodeType===V.DOCUMENT_NODE||g.nodeType===V.DOCUMENT_FRAGMENT_NODE||g.nodeType===V.ELEMENT_NODE)}function $e(g){return g&&(pt(g)||kt(g)||Tt(g)||g.nodeType===V.DOCUMENT_FRAGMENT_NODE||g.nodeType===V.COMMENT_NODE||g.nodeType===V.PROCESSING_INSTRUCTION_NODE)}function Tt(g){return g&&g.nodeType===V.DOCUMENT_TYPE_NODE}function pt(g){return g&&g.nodeType===V.ELEMENT_NODE}function kt(g){return g&&g.nodeType===V.TEXT_NODE}function Ut(g,R){var Z=g.childNodes||[];if(i(Z,pt)||Tt(R))return!1;var m=i(Z,Tt);return!(R&&m&&Z.indexOf(m)>Z.indexOf(R))}function Vt(g,R){var Z=g.childNodes||[];function m(ge){return pt(ge)&&ge!==R}if(i(Z,m))return!1;var te=i(Z,Tt);return!(R&&te&&Z.indexOf(te)>Z.indexOf(R))}function tn(g,R,Z){if(!At(g))throw new ce(Q,"Unexpected parent node type "+g.nodeType);if(Z&&Z.parentNode!==g)throw new ce(J,"child not in parent");if(!$e(R)||Tt(R)&&g.nodeType!==V.DOCUMENT_NODE)throw new ce(Q,"Unexpected node type "+R.nodeType+" for parent node type "+g.nodeType)}function Kt(g,R,Z){var m=g.childNodes||[],te=R.childNodes||[];if(R.nodeType===V.DOCUMENT_FRAGMENT_NODE){var ge=te.filter(pt);if(ge.length>1||i(te,kt))throw new ce(Q,"More than one element or text in fragment");if(ge.length===1&&!Ut(g,Z))throw new ce(Q,"Element in fragment can not be inserted before doctype")}if(pt(R)&&!Ut(g,Z))throw new ce(Q,"Only one element can be added and only after doctype");if(Tt(R)){if(i(m,Tt))throw new ce(Q,"Only one doctype is allowed");var L=i(m,pt);if(Z&&m.indexOf(L)<m.indexOf(Z))throw new ce(Q,"Doctype can only be inserted before an element");if(!Z&&L)throw new ce(Q,"Doctype can not be appended since element is present")}}function on(g,R,Z){var m=g.childNodes||[],te=R.childNodes||[];if(R.nodeType===V.DOCUMENT_FRAGMENT_NODE){var ge=te.filter(pt);if(ge.length>1||i(te,kt))throw new ce(Q,"More than one element or text in fragment");if(ge.length===1&&!Vt(g,Z))throw new ce(Q,"Element in fragment can not be inserted before doctype")}if(pt(R)&&!Vt(g,Z))throw new ce(Q,"Only one element can be added and only after doctype");if(Tt(R)){let De=function(lt){return Tt(lt)&&lt!==Z};var ee=De;if(i(m,De))throw new ce(Q,"Only one doctype is allowed");var L=i(m,pt);if(Z&&m.indexOf(L)<m.indexOf(Z))throw new ce(Q,"Doctype can only be inserted before an element")}}function bn(g,R,Z,m){tn(g,R,Z),g.nodeType===V.DOCUMENT_NODE&&(m||Kt)(g,R,Z);var te=R.parentNode;if(te&&te.removeChild(R),R.nodeType===k){var ge=R.firstChild;if(ge==null)return R;var L=R.lastChild}else ge=L=R;var ee=Z?Z.previousSibling:g.lastChild;ge.previousSibling=ee,L.nextSibling=Z,ee?ee.nextSibling=ge:g.firstChild=ge,Z==null?g.lastChild=L:Z.previousSibling=L;do ge.parentNode=g;while(ge!==L&&(ge=ge.nextSibling));return vt(g.ownerDocument||g,g),R.nodeType==k&&(R.firstChild=R.lastChild=null),R}function wn(g,R){return R.parentNode&&R.parentNode.removeChild(R),R.parentNode=g,R.previousSibling=g.lastChild,R.nextSibling=null,R.previousSibling?R.previousSibling.nextSibling=R:g.firstChild=R,g.lastChild=R,vt(g.ownerDocument,g,R),R}Me.prototype={nodeName:"#document",nodeType:j,doctype:null,documentElement:null,_inc:1,insertBefore:function(g,R){if(g.nodeType==k){for(var Z=g.firstChild;Z;){var m=Z.nextSibling;this.insertBefore(Z,R),Z=m}return g}return bn(this,g,R),g.ownerDocument=this,this.documentElement===null&&g.nodeType===_&&(this.documentElement=g),g},removeChild:function(g){return this.documentElement==g&&(this.documentElement=null),ct(this,g)},replaceChild:function(g,R){bn(this,g,R,on),g.ownerDocument=this,R&&this.removeChild(R),pt(g)&&(this.documentElement=g)},importNode:function(g,R){return Ze(this,g,R)},getElementById:function(g){var R=null;return Pe(this.documentElement,function(Z){if(Z.nodeType==_&&Z.getAttribute("id")==g)return R=Z,!0}),R},getElementsByClassName:function(g){var R=f(g);return new Ye(this,function(Z){var m=[];return R.length>0&&Pe(Z.documentElement,function(te){if(te!==Z&&te.nodeType===_){var ge=te.getAttribute("class");if(ge){var L=g===ge;if(!L){var ee=f(ge);L=R.every(p(ee))}L&&m.push(te)}}}),m})},createElement:function(g){var R=new xt;R.ownerDocument=this,R.nodeName=g,R.tagName=g,R.localName=g,R.childNodes=new Ce;var Z=R.attributes=new ae;return Z._ownerElement=R,R},createDocumentFragment:function(){var g=new jt;return g.ownerDocument=this,g.childNodes=new Ce,g},createTextNode:function(g){var R=new nn;return R.ownerDocument=this,R.appendData(g),R},createComment:function(g){var R=new mt;return R.ownerDocument=this,R.appendData(g),R},createCDATASection:function(g){var R=new rt;return R.ownerDocument=this,R.appendData(g),R},createProcessingInstruction:function(g,R){var Z=new Ft;return Z.ownerDocument=this,Z.tagName=Z.nodeName=Z.target=g,Z.nodeValue=Z.data=R,Z},createAttribute:function(g){var R=new Bt;return R.ownerDocument=this,R.name=g,R.nodeName=g,R.localName=g,R.specified=!0,R},createEntityReference:function(g){var R=new Et;return R.ownerDocument=this,R.nodeName=g,R},createElementNS:function(g,R){var Z=new xt,m=R.split(":"),te=Z.attributes=new ae;return Z.childNodes=new Ce,Z.ownerDocument=this,Z.nodeName=R,Z.tagName=R,Z.namespaceURI=g,m.length==2?(Z.prefix=m[0],Z.localName=m[1]):Z.localName=R,te._ownerElement=Z,Z},createAttributeNS:function(g,R){var Z=new Bt,m=R.split(":");return Z.ownerDocument=this,Z.nodeName=R,Z.name=R,Z.namespaceURI=g,Z.specified=!0,m.length==2?(Z.prefix=m[0],Z.localName=m[1]):Z.localName=R,Z}},y(Me,V);function xt(){this._nsMap={}}xt.prototype={nodeType:_,hasAttribute:function(g){return this.getAttributeNode(g)!=null},getAttribute:function(g){var R=this.getAttributeNode(g);return R&&R.value||""},getAttributeNode:function(g){return this.attributes.getNamedItem(g)},setAttribute:function(g,R){var Z=this.ownerDocument.createAttribute(g);Z.value=Z.nodeValue=""+R,this.setAttributeNode(Z)},removeAttribute:function(g){var R=this.getAttributeNode(g);R&&this.removeAttributeNode(R)},appendChild:function(g){return g.nodeType===k?this.insertBefore(g,null):wn(this,g)},setAttributeNode:function(g){return this.attributes.setNamedItem(g)},setAttributeNodeNS:function(g){return this.attributes.setNamedItemNS(g)},removeAttributeNode:function(g){return this.attributes.removeNamedItem(g.nodeName)},removeAttributeNS:function(g,R){var Z=this.getAttributeNodeNS(g,R);Z&&this.removeAttributeNode(Z)},hasAttributeNS:function(g,R){return this.getAttributeNodeNS(g,R)!=null},getAttributeNS:function(g,R){var Z=this.getAttributeNodeNS(g,R);return Z&&Z.value||""},setAttributeNS:function(g,R,Z){var m=this.ownerDocument.createAttributeNS(g,R);m.value=m.nodeValue=""+Z,this.setAttributeNode(m)},getAttributeNodeNS:function(g,R){return this.attributes.getNamedItemNS(g,R)},getElementsByTagName:function(g){return new Ye(this,function(R){var Z=[];return Pe(R,function(m){m!==R&&m.nodeType==_&&(g==="*"||m.tagName==g)&&Z.push(m)}),Z})},getElementsByTagNameNS:function(g,R){return new Ye(this,function(Z){var m=[];return Pe(Z,function(te){te!==Z&&te.nodeType===_&&(g==="*"||te.namespaceURI===g)&&(R==="*"||te.localName==R)&&m.push(te)}),m})}},Me.prototype.getElementsByTagName=xt.prototype.getElementsByTagName,Me.prototype.getElementsByTagNameNS=xt.prototype.getElementsByTagNameNS,y(xt,V);function Bt(){}Bt.prototype.nodeType=O,y(Bt,V);function Ct(){}Ct.prototype={data:"",substringData:function(g,R){return this.data.substring(g,g+R)},appendData:function(g){g=this.data+g,this.nodeValue=this.data=g,this.length=g.length},insertData:function(g,R){this.replaceData(g,0,R)},appendChild:function(g){throw new Error(W[Q])},deleteData:function(g,R){this.replaceData(g,R,"")},replaceData:function(g,R,Z){var m=this.data.substring(0,g),te=this.data.substring(g+R);Z=m+Z+te,this.nodeValue=this.data=Z,this.length=Z.length}},y(Ct,V);function nn(){}nn.prototype={nodeName:"#text",nodeType:T,splitText:function(g){var R=this.data,Z=R.substring(g);R=R.substring(0,g),this.data=this.nodeValue=R,this.length=R.length;var m=this.ownerDocument.createTextNode(Z);return this.parentNode&&this.parentNode.insertBefore(m,this.nextSibling),m}},y(nn,Ct);function mt(){}mt.prototype={nodeName:"#comment",nodeType:C},y(mt,Ct);function rt(){}rt.prototype={nodeName:"#cdata-section",nodeType:H},y(rt,Ct);function bt(){}bt.prototype.nodeType=F,y(bt,V);function Ht(){}Ht.prototype.nodeType=I,y(Ht,V);function rn(){}rn.prototype.nodeType=w,y(rn,V);function Et(){}Et.prototype.nodeType=B,y(Et,V);function jt(){}jt.prototype.nodeName="#document-fragment",jt.prototype.nodeType=k,y(jt,V);function Ft(){}Ft.prototype.nodeType=A,y(Ft,V);function Nt(){}Nt.prototype.serializeToString=function(g,R,Z){return Wt.call(g,R,Z)},V.prototype.toString=Wt;function Wt(g,R){var Z=[],m=this.nodeType==9&&this.documentElement||this,te=m.prefix,ge=m.namespaceURI;if(ge&&te==null){var te=m.lookupPrefix(ge);if(te==null)var L=[{namespace:ge,prefix:null}]}return Fe(this,Z,g,R,L),Z.join("")}function hn(g,R,Z){var m=g.prefix||"",te=g.namespaceURI;if(!te||m==="xml"&&te===r.XML||te===r.XMLNS)return!1;for(var ge=Z.length;ge--;){var L=Z[ge];if(L.prefix===m)return L.namespace!==te}return!0}function M(g,R,Z){g.push(" ",R,'="',Z.replace(/[<&"]/g,pe),'"')}function Fe(g,R,Z,m,te){if(te||(te=[]),m)if(g=m(g),g){if(typeof g=="string"){R.push(g);return}}else return;switch(g.nodeType){case _:var ge=g.attributes,L=ge.length,St=g.firstChild,ee=g.tagName;Z=r.isHTML(g.namespaceURI)||Z;var De=ee;if(!Z&&!g.prefix&&g.namespaceURI){for(var lt,Ve=0;Ve<ge.length;Ve++)if(ge.item(Ve).name==="xmlns"){lt=ge.item(Ve).value;break}if(!lt)for(var Je=te.length-1;Je>=0;Je--){var zt=te[Je];if(zt.prefix===""&&zt.namespace===g.namespaceURI){lt=zt.namespace;break}}if(lt!==g.namespaceURI)for(var Je=te.length-1;Je>=0;Je--){var zt=te[Je];if(zt.namespace===g.namespaceURI){zt.prefix&&(De=zt.prefix+":"+ee);break}}}R.push("<",De);for(var Tn=0;Tn<L;Tn++){var Yt=ge.item(Tn);Yt.prefix=="xmlns"?te.push({prefix:Yt.localName,namespace:Yt.value}):Yt.nodeName=="xmlns"&&te.push({prefix:"",namespace:Yt.value})}for(var Tn=0;Tn<L;Tn++){var Yt=ge.item(Tn);if(hn(Yt,Z,te)){var Lt=Yt.prefix||"",sn=Yt.namespaceURI;M(R,Lt?"xmlns:"+Lt:"xmlns",sn),te.push({prefix:Lt,namespace:sn})}Fe(Yt,R,Z,m,te)}if(ee===De&&hn(g,Z,te)){var Lt=g.prefix||"",sn=g.namespaceURI;M(R,Lt?"xmlns:"+Lt:"xmlns",sn),te.push({prefix:Lt,namespace:sn})}if(St||Z&&!/^(?:meta|link|img|br|hr|input)$/i.test(ee)){if(R.push(">"),Z&&/^script$/i.test(ee))for(;St;)St.data?R.push(St.data):Fe(St,R,Z,m,te.slice()),St=St.nextSibling;else for(;St;)Fe(St,R,Z,m,te.slice()),St=St.nextSibling;R.push("</",De,">")}else R.push("/>");return;case j:case k:for(var St=g.firstChild;St;)Fe(St,R,Z,m,te.slice()),St=St.nextSibling;return;case O:return M(R,g.name,g.value);case T:return R.push(g.data.replace(/[<&]/g,pe).replace(/]]>/g,"]]&gt;"));case H:return R.push("<![CDATA[",g.data,"]]>");case C:return R.push("<!--",g.data,"-->");case F:var Jt=g.publicId,An=g.systemId;if(R.push("<!DOCTYPE ",g.name),Jt)R.push(" PUBLIC ",Jt),An&&An!="."&&R.push(" ",An),R.push(">");else if(An&&An!=".")R.push(" SYSTEM ",An,">");else{var ai=g.internalSubset;ai&&R.push(" [",ai,"]"),R.push(">")}return;case A:return R.push("<?",g.target," ",g.data,"?>");case B:return R.push("&",g.nodeName,";");default:R.push("??",g.nodeName)}}function Ze(g,R,Z){var m;switch(R.nodeType){case _:m=R.cloneNode(!1),m.ownerDocument=g;case k:break;case O:Z=!0;break}if(m||(m=R.cloneNode(!1)),m.ownerDocument=g,m.parentNode=null,Z)for(var te=R.firstChild;te;)m.appendChild(Ze(g,te,Z)),te=te.nextSibling;return m}function ot(g,R,Z){var m=new R.constructor;for(var te in R)if(Object.prototype.hasOwnProperty.call(R,te)){var ge=R[te];typeof ge!="object"&&ge!=m[te]&&(m[te]=ge)}switch(R.childNodes&&(m.childNodes=new Ce),m.ownerDocument=g,m.nodeType){case _:var L=R.attributes,ee=m.attributes=new ae,De=L.length;ee._ownerElement=m;for(var lt=0;lt<De;lt++)m.setAttributeNode(ot(g,L.item(lt),!0));break;case O:Z=!0}if(Z)for(var Ve=R.firstChild;Ve;)m.appendChild(ot(g,Ve,Z)),Ve=Ve.nextSibling;return m}function X(g,R,Z){g[R]=Z}try{if(Object.defineProperty){let g=function(R){switch(R.nodeType){case _:case k:var Z=[];for(R=R.firstChild;R;)R.nodeType!==7&&R.nodeType!==8&&Z.push(g(R)),R=R.nextSibling;return Z.join("");default:return R.nodeValue}};var Be=g;Object.defineProperty(Ye.prototype,"length",{get:function(){return Le(this),this.$$length}}),Object.defineProperty(V.prototype,"textContent",{get:function(){return g(this)},set:function(R){switch(this.nodeType){case _:case k:for(;this.firstChild;)this.removeChild(this.firstChild);(R||String(R))&&this.appendChild(this.ownerDocument.createTextNode(R));break;default:this.data=R,this.value=R,this.nodeValue=R}}}),X=function(R,Z,m){R["$$"+Z]=m}}}catch{}return Pr.DocumentType=bt,Pr.DOMException=ce,Pr.DOMImplementation=nt,Pr.Element=xt,Pr.Node=V,Pr.NodeList=Ce,Pr.XMLSerializer=Nt,Pr}var Is={},Pf={},hm;function Ny(){return hm||(hm=1,(function(D){var i=So().freeze;D.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),D.HTML_ENTITIES=i({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),D.entityMap=D.HTML_ENTITIES})(Pf)),Pf}var lo={},dm;function Oy(){if(dm)return lo;dm=1;var D=So().NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp("^"+i.source+r.source+"*(?::"+i.source+r.source+"*)?$"),u=0,c=1,f=2,p=3,v=4,y=5,x=6,_=7;function O(Q,J){this.message=Q,this.locator=J,Error.captureStackTrace&&Error.captureStackTrace(this,O)}O.prototype=new Error,O.prototype.name=O.name;function T(){}T.prototype={parse:function(Q,J,Ee){var ce=this.domBuilder;ce.startDocument(),F(J,J={}),H(Q,J,Ee,ce,this.errorHandler),ce.endDocument()}};function H(Q,J,Ee,ce,Ce){function Ye(xt){if(xt>65535){xt-=65536;var Bt=55296+(xt>>10),Ct=56320+(xt&1023);return String.fromCharCode(Bt,Ct)}else return String.fromCharCode(xt)}function Le(xt){var Bt=xt.slice(1,-1);return Bt in Ee?Ee[Bt]:Bt.charAt(0)==="#"?Ye(parseInt(Bt.substr(1).replace("x","0x"))):(Ce.error("entity not found:"+xt),xt)}function ae(xt){if(xt>Me){var Bt=Q.substring(Me,xt).replace(/&#?\w+;/g,Le);V&&be(Me),ce.characters(Bt,0,xt-Me),Me=xt}}function be(xt,Bt){for(;xt>=Ie&&(Bt=nt.exec(Q));)Se=Bt.index,Ie=Se+Bt[0].length,V.lineNumber++;V.columnNumber=xt-Se+1}for(var Se=0,Ie=0,nt=/.*(?:\r\n?|\n)|.*$/g,V=ce.locator,pe=[{currentNSMap:J}],Pe={},Me=0;;){try{var it=Q.indexOf("<",Me);if(it<0){if(!Q.substr(Me).match(/^\s*$/)){var ut=ce.doc,vt=ut.createTextNode(Q.substr(Me));ut.appendChild(vt),ce.currentElement=vt}return}switch(it>Me&&ae(it),Q.charAt(it+1)){case"/":var tn=Q.indexOf(">",it+3),ct=Q.substring(it+2,tn).replace(/[ \t\n\r]+$/g,""),At=pe.pop();tn<0?(ct=Q.substring(it+2).replace(/[\s<].*/,""),Ce.error("end tag name: "+ct+" is not complete:"+At.tagName),tn=it+1+ct.length):ct.match(/\s</)&&(ct=ct.replace(/[\s<].*/,""),Ce.error("end tag name: "+ct+" maybe not complete"),tn=it+1+ct.length);var $e=At.localNSMap,Tt=At.tagName==ct,pt=Tt||At.tagName&&At.tagName.toLowerCase()==ct.toLowerCase();if(pt){if(ce.endElement(At.uri,At.localName,ct),$e)for(var kt in $e)Object.prototype.hasOwnProperty.call($e,kt)&&ce.endPrefixMapping(kt);Tt||Ce.fatalError("end tag name: "+ct+" is not match the current start tagName:"+At.tagName)}else pe.push(At);tn++;break;case"?":V&&be(it),tn=I(Q,it,ce);break;case"!":V&&be(it),tn=k(Q,it,ce,Ce);break;default:V&&be(it);var Ut=new G,Vt=pe[pe.length-1].currentNSMap,tn=w(Q,it,Ut,Vt,Le,Ce),Kt=Ut.length;if(!Ut.closed&&j(Q,tn,Ut.tagName,Pe)&&(Ut.closed=!0,Ee.nbsp||Ce.warning("unclosed xml attribute")),V&&Kt){for(var on=B(V,{}),bn=0;bn<Kt;bn++){var wn=Ut[bn];be(wn.offset),wn.locator=B(V,{})}ce.locator=on,A(Ut,ce,Vt)&&pe.push(Ut),ce.locator=V}else A(Ut,ce,Vt)&&pe.push(Ut);D.isHTML(Ut.uri)&&!Ut.closed?tn=C(Q,tn,Ut.tagName,Le,ce):tn++}}catch(xt){if(xt instanceof O)throw xt;Ce.error("element parse error: "+xt),tn=-1}tn>Me?Me=tn:ae(Math.max(it,Me)+1)}}function B(Q,J){return J.lineNumber=Q.lineNumber,J.columnNumber=Q.columnNumber,J}function w(Q,J,Ee,ce,Ce,Ye){function Le(V,pe,Pe){Ee.attributeNames.hasOwnProperty(V)&&Ye.fatalError("Attribute "+V+" redefined"),Ee.addValue(V,pe,Pe)}for(var ae,be,Se=++J,Ie=u;;){var nt=Q.charAt(Se);switch(nt){case"=":if(Ie===c)ae=Q.slice(J,Se),Ie=p;else if(Ie===f)Ie=p;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(Ie===p||Ie===c)if(Ie===c&&(Ye.warning('attribute value must after "="'),ae=Q.slice(J,Se)),J=Se+1,Se=Q.indexOf(nt,J),Se>0)be=Q.slice(J,Se).replace(/&#?\w+;/g,Ce),Le(ae,be,J-1),Ie=y;else throw new Error("attribute value no end '"+nt+"' match");else if(Ie==v)be=Q.slice(J,Se).replace(/&#?\w+;/g,Ce),Le(ae,be,J),Ye.warning('attribute "'+ae+'" missed start quot('+nt+")!!"),J=Se+1,Ie=y;else throw new Error('attribute value must after "="');break;case"/":switch(Ie){case u:Ee.setTagName(Q.slice(J,Se));case y:case x:case _:Ie=_,Ee.closed=!0;case v:case c:break;case f:Ee.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Ye.error("unexpected end of input"),Ie==u&&Ee.setTagName(Q.slice(J,Se)),Se;case">":switch(Ie){case u:Ee.setTagName(Q.slice(J,Se));case y:case x:case _:break;case v:case c:be=Q.slice(J,Se),be.slice(-1)==="/"&&(Ee.closed=!0,be=be.slice(0,-1));case f:Ie===f&&(be=ae),Ie==v?(Ye.warning('attribute "'+be+'" missed quot(")!'),Le(ae,be.replace(/&#?\w+;/g,Ce),J)):((!D.isHTML(ce[""])||!be.match(/^(?:disabled|checked|selected)$/i))&&Ye.warning('attribute "'+be+'" missed value!! "'+be+'" instead!!'),Le(be,be,J));break;case p:throw new Error("attribute value missed!!")}return Se;case"":nt=" ";default:if(nt<=" ")switch(Ie){case u:Ee.setTagName(Q.slice(J,Se)),Ie=x;break;case c:ae=Q.slice(J,Se),Ie=f;break;case v:var be=Q.slice(J,Se).replace(/&#?\w+;/g,Ce);Ye.warning('attribute "'+be+'" missed quot(")!!'),Le(ae,be,J);case y:Ie=x;break}else switch(Ie){case f:Ee.tagName,(!D.isHTML(ce[""])||!ae.match(/^(?:disabled|checked|selected)$/i))&&Ye.warning('attribute "'+ae+'" missed value!! "'+ae+'" instead2!!'),Le(ae,ae,J),J=Se,Ie=c;break;case y:Ye.warning('attribute space is required"'+ae+'"!!');case x:Ie=c,J=Se;break;case p:Ie=v,J=Se;break;case _:throw new Error("elements closed character '/' and '>' must be connected to")}}Se++}}function A(Q,J,Ee){for(var ce=Q.tagName,Ce=null,nt=Q.length;nt--;){var Ye=Q[nt],Le=Ye.qName,ae=Ye.value,V=Le.indexOf(":");if(V>0)var be=Ye.prefix=Le.slice(0,V),Se=Le.slice(V+1),Ie=be==="xmlns"&&Se;else Se=Le,be=null,Ie=Le==="xmlns"&&"";Ye.localName=Se,Ie!==!1&&(Ce==null&&(Ce={},F(Ee,Ee={})),Ee[Ie]=Ce[Ie]=ae,Ye.uri=D.XMLNS,J.startPrefixMapping(Ie,ae))}for(var nt=Q.length;nt--;){Ye=Q[nt];var be=Ye.prefix;be&&(be==="xml"&&(Ye.uri=D.XML),be!=="xmlns"&&(Ye.uri=Ee[be||""]))}var V=ce.indexOf(":");V>0?(be=Q.prefix=ce.slice(0,V),Se=Q.localName=ce.slice(V+1)):(be=null,Se=Q.localName=ce);var pe=Q.uri=Ee[be||""];if(J.startElement(pe,Se,ce,Q),Q.closed){if(J.endElement(pe,Se,ce),Ce)for(be in Ce)Object.prototype.hasOwnProperty.call(Ce,be)&&J.endPrefixMapping(be)}else return Q.currentNSMap=Ee,Q.localNSMap=Ce,!0}function C(Q,J,Ee,ce,Ce){if(/^(?:script|textarea)$/i.test(Ee)){var Ye=Q.indexOf("</"+Ee+">",J),Le=Q.substring(J+1,Ye);if(/[&<]/.test(Le))return/^script$/i.test(Ee)?(Ce.characters(Le,0,Le.length),Ye):(Le=Le.replace(/&#?\w+;/g,ce),Ce.characters(Le,0,Le.length),Ye)}return J+1}function j(Q,J,Ee,ce){var Ce=ce[Ee];return Ce==null&&(Ce=Q.lastIndexOf("</"+Ee+">"),Ce<J&&(Ce=Q.lastIndexOf("</"+Ee)),ce[Ee]=Ce),Ce<J}function F(Q,J){for(var Ee in Q)Object.prototype.hasOwnProperty.call(Q,Ee)&&(J[Ee]=Q[Ee])}function k(Q,J,Ee,ce){var Ce=Q.charAt(J+2);switch(Ce){case"-":if(Q.charAt(J+3)==="-"){var Ye=Q.indexOf("-->",J+4);return Ye>J?(Ee.comment(Q,J+4,Ye-J-4),Ye+3):(ce.error("Unclosed comment"),-1)}else return-1;default:if(Q.substr(J+3,6)=="CDATA["){var Ye=Q.indexOf("]]>",J+9);return Ee.startCDATA(),Ee.characters(Q,J+9,Ye-J-9),Ee.endCDATA(),Ye+3}var Le=W(Q,J),ae=Le.length;if(ae>1&&/!doctype/i.test(Le[0][0])){var be=Le[1][0],Se=!1,Ie=!1;ae>3&&(/^public$/i.test(Le[2][0])?(Se=Le[3][0],Ie=ae>4&&Le[4][0]):/^system$/i.test(Le[2][0])&&(Ie=Le[3][0]));var nt=Le[ae-1];return Ee.startDTD(be,Se,Ie),Ee.endDTD(),nt.index+nt[0].length}}return-1}function I(Q,J,Ee){var ce=Q.indexOf("?>",J);if(ce){var Ce=Q.substring(J,ce).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return Ce?(Ce[0].length,Ee.processingInstruction(Ce[1],Ce[2]),ce+2):-1}return-1}function G(){this.attributeNames={}}G.prototype={setTagName:function(Q){if(!s.test(Q))throw new Error("invalid tagName:"+Q);this.tagName=Q},addValue:function(Q,J,Ee){if(!s.test(Q))throw new Error("invalid attribute:"+Q);this.attributeNames[Q]=this.length,this[this.length++]={qName:Q,value:J,offset:Ee}},length:0,getLocalName:function(Q){return this[Q].localName},getLocator:function(Q){return this[Q].locator},getQName:function(Q){return this[Q].qName},getURI:function(Q){return this[Q].uri},getValue:function(Q){return this[Q].value}};function W(Q,J){var Ee,ce=[],Ce=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Ce.lastIndex=J,Ce.exec(Q);Ee=Ce.exec(Q);)if(ce.push(Ee),Ee[1])return ce}return lo.XMLReader=T,lo.ParseError=O,lo}var pm;function Ry(){if(pm)return Is;pm=1;var D=So(),i=Xm(),r=Ny(),s=Oy(),u=i.DOMImplementation,c=D.NAMESPACE,f=s.ParseError,p=s.XMLReader;function v(B){this.options=B||{locator:{}}}v.prototype.parseFromString=function(B,w){var A=this.options,C=new p,j=A.domBuilder||new x,F=A.errorHandler,k=A.locator,I=A.xmlns||{},G=/\/x?html?$/.test(w),W=G?r.HTML_ENTITIES:r.XML_ENTITIES;return k&&j.setDocumentLocator(k),C.errorHandler=y(F,j,k),C.domBuilder=A.domBuilder||j,G&&(I[""]=c.HTML),I.xml=I.xml||c.XML,B&&typeof B=="string"?C.parse(B,I,W):C.errorHandler.error("invalid doc source"),j.doc};function y(B,w,A){if(!B){if(w instanceof x)return w;B=w}var C={},j=B instanceof Function;A=A||{};function F(k){var I=B[k];!I&&j&&(I=B.length==2?function(G){B(k,G)}:B),C[k]=I&&function(G){I("[xmldom "+k+"]	"+G+O(A))}||function(){}}return F("warning"),F("error"),F("fatalError"),C}function x(){this.cdata=!1}function _(B,w){w.lineNumber=B.lineNumber,w.columnNumber=B.columnNumber}x.prototype={startDocument:function(){this.doc=new u().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(B,w,A,C){var j=this.doc,F=j.createElementNS(B,A||w),k=C.length;H(this,F),this.currentElement=F,this.locator&&_(this.locator,F);for(var I=0;I<k;I++){var B=C.getURI(I),G=C.getValue(I),A=C.getQName(I),W=j.createAttributeNS(B,A);this.locator&&_(C.getLocator(I),W),W.value=W.nodeValue=G,F.setAttributeNode(W)}},endElement:function(B,w,A){var C=this.currentElement;C.tagName,this.currentElement=C.parentNode},startPrefixMapping:function(B,w){},endPrefixMapping:function(B){},processingInstruction:function(B,w){var A=this.doc.createProcessingInstruction(B,w);this.locator&&_(this.locator,A),H(this,A)},ignorableWhitespace:function(B,w,A){},characters:function(B,w,A){if(B=T.apply(this,arguments),B){if(this.cdata)var C=this.doc.createCDATASection(B);else var C=this.doc.createTextNode(B);this.currentElement?this.currentElement.appendChild(C):/^\s*$/.test(B)&&this.doc.appendChild(C),this.locator&&_(this.locator,C)}},skippedEntity:function(B){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(B){(this.locator=B)&&(B.lineNumber=0)},comment:function(B,w,A){B=T.apply(this,arguments);var C=this.doc.createComment(B);this.locator&&_(this.locator,C),H(this,C)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(B,w,A){var C=this.doc.implementation;if(C&&C.createDocumentType){var j=C.createDocumentType(B,w,A);this.locator&&_(this.locator,j),H(this,j),this.doc.doctype=j}},warning:function(B){console.warn("[xmldom warning]	"+B,O(this.locator))},error:function(B){console.error("[xmldom error]	"+B,O(this.locator))},fatalError:function(B){throw new f(B,this.locator)}};function O(B){if(B)return`
@`+(B.systemId||"")+"#[line:"+B.lineNumber+",col:"+B.columnNumber+"]"}function T(B,w,A){return typeof B=="string"?B.substr(w,A):B.length>=w+A||w?new java.lang.String(B,w,A)+"":B}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(B){x.prototype[B]=function(){return null}});function H(B,w){B.currentElement?B.currentElement.appendChild(w):B.doc.appendChild(w)}return Is.__DOMHandler=x,Is.DOMParser=v,Is.DOMImplementation=i.DOMImplementation,Is.XMLSerializer=i.XMLSerializer,Is}var vm;function ky(){if(vm)return Gu;vm=1;var D=Xm();return Gu.DOMImplementation=D.DOMImplementation,Gu.XMLSerializer=D.XMLSerializer,Gu.DOMParser=Ry().DOMParser,Gu}var Qm=ky();const _h=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,By=1,zy=3,Wm=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function Ao(){var D=new Date().getTime(),i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var s=(D+Math.random()*16)%16|0;return D=Math.floor(D/16),(r=="x"?s:s&7|8).toString(16)});return i}function Ly(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function Jm(D){return!!(D&&D.nodeType==1)}function Xn(D){return!isNaN(parseFloat(D))&&isFinite(D)}function $m(D){let i=parseFloat(D);return Xn(D)===!1?!1:typeof D=="string"&&D.indexOf(".")>-1?!0:Math.floor(i)!==i}function Ps(D){var i=["Webkit","webkit","Moz","O","ms"],r=["-webkit-","-webkit-","-moz-","-o-","-ms-"],s=D.toLowerCase(),u=i.length;if(typeof document>"u"||typeof document.body.style[s]<"u")return D;for(var c=0;c<u;c++)if(typeof document.body.style[r[c]+s]<"u")return r[c]+s;return D}function eg(D){for(var i=1,r=arguments.length;i<r;i++){var s=arguments[i];for(var u in s)D[u]===void 0&&(D[u]=s[u])}return D}function di(D){var i=[].slice.call(arguments,1);return i.forEach(function(r){r&&Object.getOwnPropertyNames(r).forEach(function(s){Object.defineProperty(D,s,Object.getOwnPropertyDescriptor(r,s))})}),D}function My(D,i,r){var s=Xs(D,i,r);return i.splice(s,0,D),s}function Xs(D,i,r,s,u){var c=s||0,f=u||i.length,p=parseInt(c+(f-c)/2),v;return r||(r=function(y,x){if(y>x)return 1;if(y<x)return-1;if(y==x)return 0}),f-c<=0?p:(v=r(i[p],D),f-c===1?v>=0?p:p+1:v===0?p:v===-1?Xs(D,i,r,p,f):Xs(D,i,r,c,p))}function mo(D,i,r,s,u){var c=s||0,f=u||i.length,p=parseInt(c+(f-c)/2),v;return r||(r=function(y,x){if(y>x)return 1;if(y<x)return-1;if(y==x)return 0}),f-c<=0?-1:(v=r(i[p],D),f-c===1?v===0?p:-1:v===0?p:v===-1?mo(D,i,r,p,f):mo(D,i,r,c,p))}function fo(D){var i=window.getComputedStyle(D),r=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],s=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],u=0,c=0;return r.forEach(function(f){u+=parseFloat(i[f])||0}),s.forEach(function(f){c+=parseFloat(i[f])||0}),{height:c,width:u}}function go(D){var i=window.getComputedStyle(D),r=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],s=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],u=0,c=0;return r.forEach(function(f){u+=parseFloat(i[f])||0}),s.forEach(function(f){c+=parseFloat(i[f])||0}),{height:c,width:u}}function hh(D){let i,r=D.ownerDocument;if(D.nodeType==Node.TEXT_NODE){let s=r.createRange();s.selectNodeContents(D),i=s.getBoundingClientRect()}else i=D.getBoundingClientRect();return i}function yo(){var D=window.innerWidth,i=window.innerHeight;return{top:0,left:0,right:D,bottom:i,width:D,height:i}}function xh(D,i){for(var r=D.parentNode,s=r.childNodes,u,c=-1,f=0;f<s.length&&(u=s[f],u.nodeType===i&&c++,u!=D);f++);return c}function jy(D){return xh(D,zy)}function tg(D){return xh(D,By)}function Zu(D){return["xml","opf","ncx"].indexOf(D)>-1}function ng(D,i){return new Blob([D],{type:i})}function bo(D,i){var r,s=ng(D,i);return r=Wm.createObjectURL(s),r}function ig(D){return Wm.revokeObjectURL(D)}function dh(D,i){var r,s;if(typeof D=="string")return r=btoa(D),s="data:"+i+";base64,"+r,s}function rg(D){return Object.prototype.toString.call(D).slice(8,-1)}function vr(D,i,r){var s,u;return typeof DOMParser>"u"||r?u=Qm.DOMParser:u=DOMParser,D.charCodeAt(0)===65279&&(D=D.slice(1)),s=new u().parseFromString(D,i),s}function Ln(D,i){var r;if(!D)throw new Error("No Element Provided");if(typeof D.querySelector<"u")return D.querySelector(i);if(r=D.getElementsByTagName(i),r.length)return r[0]}function Gr(D,i){return typeof D.querySelector<"u"?D.querySelectorAll(i):D.getElementsByTagName(i)}function Gs(D,i,r){var s,u;if(typeof D.querySelector<"u"){i+="[";for(var c in r)i+=c+"~='"+r[c]+"'";return i+="]",D.querySelector(i)}else if(s=D.getElementsByTagName(i),u=Array.prototype.slice.call(s,0).filter(function(f){for(var p in r)if(f.getAttribute(p)===r[p])return!0;return!1}),u)return u[0]}function wo(D,i){var r=D.ownerDocument||D;typeof r.createTreeWalker<"u"?ag(D,i,NodeFilter.SHOW_TEXT):Eh(D,function(s){s&&s.nodeType===3&&i(s)})}function ag(D,i,r){var s=document.createTreeWalker(D,r,null,!1);let u;for(;u=s.nextNode();)i(u)}function Eh(D,i){if(i(D))return!0;if(D=D.firstChild,D)do{if(Eh(D,i))return!0;D=D.nextSibling}while(D)}function sg(D){return new Promise(function(i,r){var s=new FileReader;s.readAsDataURL(D),s.onloadend=function(){i(s.result)}})}function vn(){this.resolve=null,this.reject=null,this.id=Ao(),this.promise=new Promise((D,i)=>{this.resolve=D,this.reject=i}),Object.freeze(this)}function _o(D,i,r){var s;if(typeof D.querySelector<"u"&&(s=D.querySelector(`${i}[*|type="${r}"]`)),!s||s.length===0){s=Gr(D,i);for(var u=0;u<s.length;u++)if(s[u].getAttributeNS("http://www.idpf.org/2007/ops","type")===r||s[u].getAttribute("epub:type")===r)return s[u]}else return s}function ph(D){for(var i=[],r=D.childNodes,s=0;s<r.length;s++){let u=r[s];u.nodeType===1&&i.push(u)}return i}function vh(D){for(var i=[D];D;D=D.parentNode)i.unshift(D);return i}function Ys(D,i,r){for(var s=[],u=D.childNodes,c=0;c<u.length;c++){let f=u[c];if(f.nodeType===1&&f.nodeName.toLowerCase()===i){if(r)return f;s.push(f)}}if(!r)return s}function Uy(D,i){let r;if(!(D===null||i===""))for(r=D.parentNode;r.nodeType===1;){if(r.tagName.toLowerCase()===i)return r;r=r.parentNode}}class ug{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(i,r){this.startContainer=i,this.startOffset=r,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(i,r){this.endContainer=i,this.endOffset=r,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(i){this.collapsed=!0,i?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(i){let r=i.parentNode,s=Array.prototype.indexOf.call(r.childNodes,i);this.setStart(r,s),this.setEnd(r,s+1)}selectNodeContents(i){i.childNodes[i.childNodes-1];let r=i.nodeType===3?i.textContent.length:parent.childNodes.length;this.setStart(i,0),this.setEnd(i,r)}_commonAncestorContainer(i,r){var s=vh(i||this.startContainer),u=vh(r||this.endContainer);if(s[0]==u[0]){for(var c=0;c<s.length;c++)if(s[c]!=u[c])return s[c-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const qy=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:ug,blob2base64:sg,borders:go,bounds:fo,createBase64Url:dh,createBlob:ng,createBlobUrl:bo,defaults:eg,defer:vn,documentHeight:Ly,extend:di,filterChildren:Ys,findChildren:ph,getParentByTagName:Uy,indexOfElementNode:tg,indexOfNode:xh,indexOfSorted:mo,indexOfTextNode:jy,insert:My,isElement:Jm,isFloat:$m,isNumber:Xn,isXml:Zu,locationOf:Xs,nodeBounds:hh,parents:vh,parse:vr,prefixed:Ps,qs:Ln,qsa:Gr,qsp:Gs,querySelectorByType:_o,requestAnimationFrame:_h,revokeBlobUrl:ig,sprint:wo,treeWalker:ag,type:rg,uuid:Ao,walk:Eh,windowBounds:yo},Symbol.toStringTag,{value:"Module"}));var Gf,mm;function Iy(){if(mm)return Gf;if(mm=1,!D)var D={cwd:function(){return"/"}};function i(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+c)}function r(c,f){for(var p="",v=-1,y=0,x,_=0;_<=c.length;++_){if(_<c.length)x=c.charCodeAt(_);else{if(x===47)break;x=47}if(x===47){if(!(v===_-1||y===1))if(v!==_-1&&y===2){if(p.length<2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){for(var O=p.length-1,T=O;T>=0&&p.charCodeAt(T)!==47;--T);if(T!==O){T===-1?p="":p=p.slice(0,T),v=_,y=0;continue}}else if(p.length===2||p.length===1){p="",v=_,y=0;continue}}f&&(p.length>0?p+="/..":p="..")}else p.length>0?p+="/"+c.slice(v+1,_):p=c.slice(v+1,_);v=_,y=0}else x===46&&y!==-1?++y:y=-1}return p}function s(c,f){var p=f.dir||f.root,v=f.base||(f.name||"")+(f.ext||"");return p?p===f.root?p+v:p+c+v:v}var u={resolve:function(){for(var f="",p=!1,v,y=arguments.length-1;y>=-1&&!p;y--){var x;y>=0?x=arguments[y]:(v===void 0&&(v=D.cwd()),x=v),i(x),x.length!==0&&(f=x+"/"+f,p=x.charCodeAt(0)===47)}return f=r(f,!p),p?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(f){if(i(f),f.length===0)return".";var p=f.charCodeAt(0)===47,v=f.charCodeAt(f.length-1)===47;return f=r(f,!p),f.length===0&&!p&&(f="."),f.length>0&&v&&(f+="/"),p?"/"+f:f},isAbsolute:function(f){return i(f),f.length>0&&f.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var f,p=0;p<arguments.length;++p){var v=arguments[p];i(v),v.length>0&&(f===void 0?f=v:f+="/"+v)}return f===void 0?".":u.normalize(f)},relative:function(f,p){if(i(f),i(p),f===p||(f=u.resolve(f),p=u.resolve(p),f===p))return"";for(var v=1;v<f.length&&f.charCodeAt(v)===47;++v);for(var y=f.length,x=y-v,_=1;_<p.length&&p.charCodeAt(_)===47;++_);for(var O=p.length,T=O-_,H=x<T?x:T,B=-1,w=0;w<=H;++w){if(w===H){if(T>H){if(p.charCodeAt(_+w)===47)return p.slice(_+w+1);if(w===0)return p.slice(_+w)}else x>H&&(f.charCodeAt(v+w)===47?B=w:w===0&&(B=0));break}var A=f.charCodeAt(v+w),C=p.charCodeAt(_+w);if(A!==C)break;A===47&&(B=w)}var j="";for(w=v+B+1;w<=y;++w)(w===y||f.charCodeAt(w)===47)&&(j.length===0?j+="..":j+="/..");return j.length>0?j+p.slice(_+B):(_+=B,p.charCodeAt(_)===47&&++_,p.slice(_))},_makeLong:function(f){return f},dirname:function(f){if(i(f),f.length===0)return".";for(var p=f.charCodeAt(0),v=p===47,y=-1,x=!0,_=f.length-1;_>=1;--_)if(p=f.charCodeAt(_),p===47){if(!x){y=_;break}}else x=!1;return y===-1?v?"/":".":v&&y===1?"//":f.slice(0,y)},basename:function(f,p){if(p!==void 0&&typeof p!="string")throw new TypeError('"ext" argument must be a string');i(f);var v=0,y=-1,x=!0,_;if(p!==void 0&&p.length>0&&p.length<=f.length){if(p.length===f.length&&p===f)return"";var O=p.length-1,T=-1;for(_=f.length-1;_>=0;--_){var H=f.charCodeAt(_);if(H===47){if(!x){v=_+1;break}}else T===-1&&(x=!1,T=_+1),O>=0&&(H===p.charCodeAt(O)?--O===-1&&(y=_):(O=-1,y=T))}return v===y?y=T:y===-1&&(y=f.length),f.slice(v,y)}else{for(_=f.length-1;_>=0;--_)if(f.charCodeAt(_)===47){if(!x){v=_+1;break}}else y===-1&&(x=!1,y=_+1);return y===-1?"":f.slice(v,y)}},extname:function(f){i(f);for(var p=-1,v=0,y=-1,x=!0,_=0,O=f.length-1;O>=0;--O){var T=f.charCodeAt(O);if(T===47){if(!x){v=O+1;break}continue}y===-1&&(x=!1,y=O+1),T===46?p===-1?p=O:_!==1&&(_=1):p!==-1&&(_=-1)}return p===-1||y===-1||_===0||_===1&&p===y-1&&p===v+1?"":f.slice(p,y)},format:function(f){if(f===null||typeof f!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof f);return s("/",f)},parse:function(f){i(f);var p={root:"",dir:"",base:"",ext:"",name:""};if(f.length===0)return p;var v=f.charCodeAt(0),y=v===47,x;y?(p.root="/",x=1):x=0;for(var _=-1,O=0,T=-1,H=!0,B=f.length-1,w=0;B>=x;--B){if(v=f.charCodeAt(B),v===47){if(!H){O=B+1;break}continue}T===-1&&(H=!1,T=B+1),v===46?_===-1?_=B:w!==1&&(w=1):_!==-1&&(w=-1)}return _===-1||T===-1||w===0||w===1&&_===T-1&&_===O+1?T!==-1&&(O===0&&y?p.base=p.name=f.slice(1,T):p.base=p.name=f.slice(O,T)):(O===0&&y?(p.name=f.slice(1,_),p.base=f.slice(1,T)):(p.name=f.slice(O,_),p.base=f.slice(O,T)),p.ext=f.slice(_,T)),O>0?p.dir=f.slice(0,O-1):y&&(p.dir="/"),p},sep:"/",delimiter:":",posix:null};return Gf=u,Gf}var Fy=Iy();const Aa=Vr(Fy);class Yr{constructor(i){var r,s;r=i.indexOf("://"),r>-1&&(i=new URL(i).pathname),s=this.parse(i),this.path=i,this.isDirectory(i)?this.directory=i:this.directory=s.dir+"/",this.filename=s.base,this.extension=s.ext.slice(1)}parse(i){return Aa.parse(i)}isAbsolute(i){return Aa.isAbsolute(i||this.path)}isDirectory(i){return i.charAt(i.length-1)==="/"}resolve(i){return Aa.resolve(this.directory,i)}relative(i){var r=i&&i.indexOf("://")>-1;return r?i:Aa.relative(this.directory,i)}splitPath(i){return this.splitPathRe.exec(i).slice(1)}toString(){return this.path}}class ar{constructor(i,r){var s=i.indexOf("://")>-1,u=i,c;if(this.Url=void 0,this.href=i,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=r,!s&&r!==!1&&typeof r!="string"&&window&&window.location&&(this.base=window.location.href),s||this.base)try{this.base?this.Url=new URL(i,this.base):this.Url=new URL(i),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,u=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(c=new Yr(this.base),u=c.resolve(u))}this.Path=new Yr(u),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(i){var r=i.indexOf("://")>-1,s;return r?i:(s=Aa.resolve(this.directory,i),this.origin+s)}relative(i){return Aa.relative(i,this.directory)}toString(){return this.href}}const Fs=1,Ji=3,Hy=9;class mn{constructor(i,r,s){var u;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof mn))return new mn(i,r,s);if(typeof r=="string"?this.base=this.parseComponent(r):typeof r=="object"&&r.steps&&(this.base=r),u=this.checkType(i),u==="string")return this.str=i,di(this,this.parse(i));if(u==="range")return di(this,this.fromRange(i,this.base,s));if(u==="node")return di(this,this.fromNode(i,this.base,s));if(u==="EpubCFI"&&i.path)return i;if(i)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(i){return this.isCfiString(i)?"string":i&&typeof i=="object"&&(rg(i)==="Range"||typeof i.startContainer<"u")?"range":i&&typeof i=="object"&&typeof i.nodeType<"u"?"node":i&&typeof i=="object"&&i instanceof mn?"EpubCFI":!1}parse(i){var r={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},s,u,c;return typeof i!="string"?{spinePos:-1}:(i.indexOf("epubcfi(")===0&&i[i.length-1]===")"&&(i=i.slice(8,i.length-1)),s=this.getChapterComponent(i),s?(r.base=this.parseComponent(s),u=this.getPathComponent(i),r.path=this.parseComponent(u),c=this.getRange(i),c&&(r.range=!0,r.start=this.parseComponent(c[0]),r.end=this.parseComponent(c[1])),r.spinePos=r.base.steps[1].index,r):{spinePos:-1})}parseComponent(i){var r={steps:[],terminal:{offset:null,assertion:null}},s=i.split(":"),u=s[0].split("/"),c;return s.length>1&&(c=s[1],r.terminal=this.parseTerminal(c)),u[0]===""&&u.shift(),r.steps=u.map((function(f){return this.parseStep(f)}).bind(this)),r}parseStep(i){var r,s,u,c,f;if(c=i.match(/\[(.*)\]/),c&&c[1]&&(f=c[1]),s=parseInt(i),!isNaN(s))return s%2===0?(r="element",u=s/2-1):(r="text",u=(s-1)/2),{type:r,index:u,id:f||null}}parseTerminal(i){var r,s,u=i.match(/\[(.*)\]/);return u&&u[1]?(r=parseInt(i.split("[")[0]),s=u[1]):r=parseInt(i),Xn(r)||(r=null),{offset:r,assertion:s}}getChapterComponent(i){var r=i.split("!");return r[0]}getPathComponent(i){var r=i.split("!");if(r[1])return r[1].split(",")[0]}getRange(i){var r=i.split(",");return r.length===3?[r[1],r[2]]:!1}getCharecterOffsetComponent(i){var r=i.split(":");return r[1]||""}joinSteps(i){return i?i.map(function(r){var s="";return r.type==="element"&&(s+=(r.index+1)*2),r.type==="text"&&(s+=1+2*r.index),r.id&&(s+="["+r.id+"]"),s}).join("/"):""}segmentString(i){var r="/";return r+=this.joinSteps(i.steps),i.terminal&&i.terminal.offset!=null&&(r+=":"+i.terminal.offset),i.terminal&&i.terminal.assertion!=null&&(r+="["+i.terminal.assertion+"]"),r}toString(){var i="epubcfi(";return i+=this.segmentString(this.base),i+="!",i+=this.segmentString(this.path),this.range&&this.start&&(i+=",",i+=this.segmentString(this.start)),this.range&&this.end&&(i+=",",i+=this.segmentString(this.end)),i+=")",i}compare(i,r){var s,u,c,f;if(typeof i=="string"&&(i=new mn(i)),typeof r=="string"&&(r=new mn(r)),i.spinePos>r.spinePos)return 1;if(i.spinePos<r.spinePos)return-1;i.range?(s=i.path.steps.concat(i.start.steps),c=i.start.terminal):(s=i.path.steps,c=i.path.terminal),r.range?(u=r.path.steps.concat(r.start.steps),f=r.start.terminal):(u=r.path.steps,f=r.path.terminal);for(var p=0;p<s.length;p++){if(!s[p])return-1;if(!u[p]||s[p].index>u[p].index)return 1;if(s[p].index<u[p].index)return-1}return s.length<u.length?-1:c.offset>f.offset?1:c.offset<f.offset?-1:0}step(i){var r=i.nodeType===Ji?"text":"element";return{id:i.id,tagName:i.tagName,type:r,index:this.position(i)}}filteredStep(i,r){var s=this.filter(i,r),u;if(s)return u=s.nodeType===Ji?"text":"element",{id:s.id,tagName:s.tagName,type:u,index:this.filteredPosition(s,r)}}pathTo(i,r,s){for(var u={steps:[],terminal:{offset:null,assertion:null}},c=i,f;c&&c.parentNode&&c.parentNode.nodeType!=Hy;)s?f=this.filteredStep(c,s):f=this.step(c),f&&u.steps.unshift(f),c=c.parentNode;return r!=null&&r>=0&&(u.terminal.offset=r,u.steps[u.steps.length-1].type!="text"&&u.steps.push({type:"text",index:0})),u}equalStep(i,r){return!i||!r?!1:i.index===r.index&&i.id===r.id&&i.type===r.type}fromRange(i,r,s){var u={range:!1,base:{},path:{},start:null,end:null},c=i.startContainer,f=i.endContainer,p=i.startOffset,v=i.endOffset,y=!1;if(s&&(y=c.ownerDocument.querySelector("."+s)!=null),typeof r=="string"?(u.base=this.parseComponent(r),u.spinePos=u.base.steps[1].index):typeof r=="object"&&(u.base=r),i.collapsed)y&&(p=this.patchOffset(c,p,s)),u.path=this.pathTo(c,p,s);else{u.range=!0,y&&(p=this.patchOffset(c,p,s)),u.start=this.pathTo(c,p,s),y&&(v=this.patchOffset(f,v,s)),u.end=this.pathTo(f,v,s),u.path={steps:[],terminal:null};var x=u.start.steps.length,_;for(_=0;_<x&&this.equalStep(u.start.steps[_],u.end.steps[_]);_++)_===x-1?u.start.terminal===u.end.terminal&&(u.path.steps.push(u.start.steps[_]),u.range=!1):u.path.steps.push(u.start.steps[_]);u.start.steps=u.start.steps.slice(u.path.steps.length),u.end.steps=u.end.steps.slice(u.path.steps.length)}return u}fromNode(i,r,s){var u={range:!1,base:{},path:{},start:null,end:null};return typeof r=="string"?(u.base=this.parseComponent(r),u.spinePos=u.base.steps[1].index):typeof r=="object"&&(u.base=r),u.path=this.pathTo(i,null,s),u}filter(i,r){var s,u,c,f,p,v=!1;return i.nodeType===Ji?(v=!0,c=i.parentNode,s=i.parentNode.classList.contains(r)):(v=!1,s=i.classList.contains(r)),s&&v?(f=c.previousSibling,p=c.nextSibling,f&&f.nodeType===Ji?u=f:p&&p.nodeType===Ji&&(u=p),u||i):s&&!v?!1:i}patchOffset(i,r,s){if(i.nodeType!=Ji)throw new Error("Anchor must be a text node");var u=i,c=r;for(i.parentNode.classList.contains(s)&&(u=i.parentNode);u.previousSibling;){if(u.previousSibling.nodeType===Fs)if(u.previousSibling.classList.contains(s))c+=u.previousSibling.textContent.length;else break;else c+=u.previousSibling.textContent.length;u=u.previousSibling}return c}normalizedMap(i,r,s){var u={},c=-1,f,p=i.length,v,y;for(f=0;f<p;f++)v=i[f].nodeType,v===Fs&&i[f].classList.contains(s)&&(v=Ji),f>0&&v===Ji&&y===Ji?u[f]=c:r===v&&(c=c+1,u[f]=c),y=v;return u}position(i){var r,s;return i.nodeType===Fs?(r=i.parentNode.children,r||(r=ph(i.parentNode)),s=Array.prototype.indexOf.call(r,i)):(r=this.textNodes(i.parentNode),s=r.indexOf(i)),s}filteredPosition(i,r){var s,u,c;return i.nodeType===Fs?(s=i.parentNode.children,c=this.normalizedMap(s,Fs,r)):(s=i.parentNode.childNodes,i.parentNode.classList.contains(r)&&(i=i.parentNode,s=i.parentNode.childNodes),c=this.normalizedMap(s,Ji,r)),u=Array.prototype.indexOf.call(s,i),c[u]}stepsToXpath(i){var r=[".","*"];return i.forEach(function(s){var u=s.index+1;s.id?r.push("*[position()="+u+" and @id='"+s.id+"']"):s.type==="text"?r.push("text()["+u+"]"):r.push("*["+u+"]")}),r.join("/")}stepsToQuerySelector(i){var r=["html"];return i.forEach(function(s){var u=s.index+1;s.id?r.push("#"+s.id):s.type==="text"||r.push("*:nth-child("+u+")")}),r.join(">")}textNodes(i,r){return Array.prototype.slice.call(i.childNodes).filter(function(s){return s.nodeType===Ji?!0:!!(r&&s.classList.contains(r))})}walkToNode(i,r,s){var u=r||document,c=u.documentElement,f,p,v=i.length,y;for(y=0;y<v&&(p=i[y],p.type==="element"?p.id?c=u.getElementById(p.id):(f=c.children||ph(c),c=f[p.index]):p.type==="text"&&(c=this.textNodes(c,s)[p.index]),!!c);y++);return c}findNode(i,r,s){var u=r||document,c,f;return!s&&typeof u.evaluate<"u"?(f=this.stepsToXpath(i),c=u.evaluate(f,u,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):s?c=this.walkToNode(i,u,s):c=this.walkToNode(i,u),c}fixMiss(i,r,s,u){var c=this.findNode(i.slice(0,-1),s,u),f=c.childNodes,p=this.normalizedMap(f,Ji,u),v,y,x=i[i.length-1].index;for(let _ in p){if(!p.hasOwnProperty(_))return;if(p[_]===x)if(v=f[_],y=v.textContent.length,r>y)r=r-y;else{v.nodeType===Fs?c=v.childNodes[0]:c=v;break}}return{container:c,offset:r}}toRange(i,r){var s=i||document,u,c,f,p,v,y=this,x,_,O=r?s.querySelector("."+r)!=null:!1,T;if(typeof s.createRange<"u"?u=s.createRange():u=new ug,y.range?(c=y.start,x=y.path.steps.concat(c.steps),p=this.findNode(x,s,O?r:null),f=y.end,_=y.path.steps.concat(f.steps),v=this.findNode(_,s,O?r:null)):(c=y.path,x=y.path.steps,p=this.findNode(y.path.steps,s,O?r:null)),p)try{c.terminal.offset!=null?u.setStart(p,c.terminal.offset):u.setStart(p,0)}catch{T=this.fixMiss(x,c.terminal.offset,s,O?r:null),u.setStart(T.container,T.offset)}else return console.log("No startContainer found for",this.toString()),null;if(v)try{f.terminal.offset!=null?u.setEnd(v,f.terminal.offset):u.setEnd(v,0)}catch{T=this.fixMiss(_,y.end.terminal.offset,s,O?r:null),u.setEnd(T.container,T.offset)}return u}isCfiString(i){return typeof i=="string"&&i.indexOf("epubcfi(")===0&&i[i.length-1]===")"}generateChapterComponent(i,r,s){var u=parseInt(r),c=(i+1)*2,f="/"+c+"/";return f+=(u+1)*2,s&&(f+="["+s+"]"),f}collapse(i){this.range&&(this.range=!1,i?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class sr{constructor(i){this.context=i||this,this.hooks=[]}register(){for(var i=0;i<arguments.length;++i)if(typeof arguments[i]=="function")this.hooks.push(arguments[i]);else for(var r=0;r<arguments[i].length;++r)this.hooks.push(arguments[i][r])}deregister(i){let r;for(let s=0;s<this.hooks.length;s++)if(r=this.hooks[s],r===i){this.hooks.splice(s,1);break}}trigger(){var i=arguments,r=this.context,s=[];return this.hooks.forEach(function(u){try{var c=u.apply(r,i)}catch(f){console.log(f)}c&&typeof c.then=="function"&&s.push(c)}),Promise.all(s)}list(){return this.hooks}clear(){return this.hooks=[]}}function lg(D,i){var r,s,u=i.url,c=u.indexOf("://")>-1;D&&(s=Ln(D,"head"),r=Ln(s,"base"),r||(r=D.createElement("base"),s.insertBefore(r,s.firstChild)),!c&&window&&window.location&&(u=window.location.origin+u),r.setAttribute("href",u))}function Py(D,i){var r,s,u=i.canonical;D&&(r=Ln(D,"head"),s=Ln(r,"link[rel='canonical']"),s?s.setAttribute("href",u):(s=D.createElement("link"),s.setAttribute("rel","canonical"),s.setAttribute("href",u),r.appendChild(s)))}function Gy(D,i){var r,s,u=i.idref;D&&(r=Ln(D,"head"),s=Ln(r,"link[property='dc.identifier']"),s?s.setAttribute("content",u):(s=D.createElement("meta"),s.setAttribute("name","dc.identifier"),s.setAttribute("content",u),r.appendChild(s)))}function Yy(D,i){var r=D.querySelectorAll("a[href]");if(r.length)for(var s=Ln(D.ownerDocument,"base"),u=s?s.getAttribute("href"):void 0,c=(function(p){var v=p.getAttribute("href");if(v.indexOf("mailto:")!==0){var y=v.indexOf("://")>-1;if(y)p.setAttribute("target","_blank");else{var x;try{x=new ar(v,u)}catch{}p.onclick=function(){return x&&x.hash?i(x.Path.path+x.hash):i(x?x.Path.path:v),!1}}}}).bind(this),f=0;f<r.length;f++)c(r[f])}function gm(D,i,r){return i.forEach(function(s,u){s&&r[u]&&(s=s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),D=D.replace(new RegExp(s,"g"),r[u]))}),D}function Xu(D,i,r,s){var u=typeof window<"u"?window.URL:!1,c=u?"blob":"arraybuffer",f=new vn,p=new XMLHttpRequest,v=XMLHttpRequest.prototype,y;"overrideMimeType"in v||Object.defineProperty(v,"overrideMimeType",{value:function(){}}),r&&(p.withCredentials=!0),p.onreadystatechange=_,p.onerror=x,p.open("GET",D,!0);for(y in s)p.setRequestHeader(y,s[y]);i=="json"&&p.setRequestHeader("Accept","application/json"),i||(i=new Yr(D).extension),i=="blob"&&(p.responseType=c),Zu(i)&&p.overrideMimeType("text/xml"),i=="binary"&&(p.responseType="arraybuffer"),p.send();function x(O){f.reject(O)}function _(){if(this.readyState===XMLHttpRequest.DONE){var O=!1;if((this.responseType===""||this.responseType==="document")&&(O=this.responseXML),this.status===200||this.status===0||O){var T;if(!this.response&&!O)return f.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),f.promise;if(this.status===403)return f.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),f.promise;O?T=this.responseXML:Zu(i)?T=vr(this.response,"text/xml"):i=="xhtml"?T=vr(this.response,"application/xhtml+xml"):i=="html"||i=="htm"?T=vr(this.response,"text/html"):i=="json"?T=JSON.parse(this.response):i=="blob"?u?T=this.response:T=new Blob([this.response]):T=this.response,f.resolve(T)}else f.reject({status:this.status,message:this.response,stack:new Error().stack})}}return f.promise}class Vy{constructor(i,r){this.idref=i.idref,this.linear=i.linear==="yes",this.properties=i.properties,this.index=i.index,this.href=i.href,this.url=i.url,this.canonical=i.canonical,this.next=i.next,this.prev=i.prev,this.cfiBase=i.cfiBase,r?this.hooks=r:(this.hooks={},this.hooks.serialize=new sr(this),this.hooks.content=new sr(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(i){var r=i||this.request||Xu,s=new vn,u=s.promise;return this.contents?s.resolve(this.contents):r(this.url).then((function(c){return this.document=c,this.contents=c.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){s.resolve(this.contents)}).bind(this)).catch(function(c){s.reject(c)}),u}base(){return lg(this.document,this)}render(i){var r=new vn,s=r.promise;return this.output,this.load(i).then((function(u){var c=typeof navigator<"u"&&navigator.userAgent||"",f=c.indexOf("Trident")>=0,p;typeof XMLSerializer>"u"||f?p=Qm.DOMParser:p=XMLSerializer;var v=new p;return this.output=v.serializeToString(u),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){r.resolve(this.output)}).bind(this)).catch(function(u){r.reject(u)}),s}find(i){var r=this,s=[],u=i.toLowerCase(),c=function(f){for(var p=f.textContent.toLowerCase(),v=r.document.createRange(),y,x,_=-1,O,T=150;x!=-1;)x=p.indexOf(u,_+1),x!=-1&&(v=r.document.createRange(),v.setStart(f,x),v.setEnd(f,x+u.length),y=r.cfiFromRange(v),f.textContent.length<T?O=f.textContent:(O=f.textContent.substring(x-T/2,x+T/2),O="..."+O+"..."),s.push({cfi:y,excerpt:O})),_=x};return wo(r.document,function(f){c(f)}),s}search(i,r=5){if(typeof document.createTreeWalker>"u")return this.find(i);let s=[];const u=150,c=this,f=i.toLowerCase(),p=function(_){const H=_.reduce((B,w)=>B+w.textContent,"").toLowerCase().indexOf(f);if(H!=-1){const w=H+f.length;let A=0,C=0;if(H<_[0].length){let j;for(;A<_.length-1&&(C+=_[A].length,!(w<=C));)A+=1;let F=_[0],k=_[A],I=c.document.createRange();I.setStart(F,H);let G=_.slice(0,A).reduce((Q,J)=>Q+J.textContent.length,0);I.setEnd(k,G>w?w:w-G),j=c.cfiFromRange(I);let W=_.slice(0,A+1).reduce((Q,J)=>Q+J.textContent,"");W.length>u&&(W=W.substring(H-u/2,H+u/2),W="..."+W+"..."),s.push({cfi:j,excerpt:W})}}},v=document.createTreeWalker(c.document,NodeFilter.SHOW_TEXT,null,!1);let y,x=[];for(;y=v.nextNode();)x.push(y),x.length==r&&(p(x.slice(0,r)),x=x.slice(1,r));return x.length>0&&p(x),s}reconcileLayoutSettings(i){var r={layout:i.layout,spread:i.spread,orientation:i.orientation};return this.properties.forEach(function(s){var u=s.replace("rendition:",""),c=u.indexOf("-"),f,p;c!=-1&&(f=u.slice(0,c),p=u.slice(c+1),r[f]=p)}),r}cfiFromRange(i){return new mn(i,this.cfiBase).toString()}cfiFromElement(i){return new mn(i,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class Ky{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new sr,this.hooks.content=new sr,this.hooks.content.register(lg),this.hooks.content.register(Py),this.hooks.content.register(Gy),this.epubcfi=new mn,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(i,r,s){this.items=i.spine,this.manifest=i.manifest,this.spineNodeIndex=i.spineNodeIndex,this.baseUrl=i.baseUrl||i.basePath||"",this.length=this.items.length,this.items.forEach((u,c)=>{var f=this.manifest[u.idref],p;u.index=c,u.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,u.index,u.id),u.href&&(u.url=r(u.href,!0),u.canonical=s(u.href)),f&&(u.href=f.href,u.url=r(u.href,!0),u.canonical=s(u.href),f.properties.length&&u.properties.push.apply(u.properties,f.properties)),u.linear==="yes"?(u.prev=(function(){let v=u.index;for(;v>0;){let y=this.get(v-1);if(y&&y.linear)return y;v-=1}}).bind(this),u.next=(function(){let v=u.index;for(;v<this.spineItems.length-1;){let y=this.get(v+1);if(y&&y.linear)return y;v+=1}}).bind(this)):(u.prev=function(){},u.next=function(){}),p=new Vy(u,this.hooks),this.append(p)}),this.loaded=!0}get(i){var r=0;if(typeof i>"u")for(;r<this.spineItems.length;){let s=this.spineItems[r];if(s&&s.linear)break;r+=1}else this.epubcfi.isCfiString(i)?r=new mn(i).spinePos:typeof i=="number"||isNaN(i)===!1?r=i:typeof i=="string"&&i.indexOf("#")===0?r=this.spineById[i.substring(1)]:typeof i=="string"&&(i=i.split("#")[0],r=this.spineByHref[i]||this.spineByHref[encodeURI(i)]);return this.spineItems[r]||null}append(i){var r=this.spineItems.length;return i.index=r,this.spineItems.push(i),this.spineByHref[decodeURI(i.href)]=r,this.spineByHref[encodeURI(i.href)]=r,this.spineByHref[i.href]=r,this.spineById[i.idref]=r,r}prepend(i){return this.spineByHref[i.href]=0,this.spineById[i.idref]=0,this.spineItems.forEach(function(r,s){r.index=s}),0}remove(i){var r=this.spineItems.indexOf(i);if(r>-1)return delete this.spineByHref[i.href],delete this.spineById[i.idref],this.spineItems.splice(r,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let i=0;do{let r=this.get(i);if(r&&r.linear)return r;i+=1}while(i<this.spineItems.length)}last(){let i=this.spineItems.length-1;do{let r=this.get(i);if(r&&r.linear)return r;i-=1}while(i>=0)}destroy(){this.each(i=>i.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Sh{constructor(i){this._q=[],this.context=i,this.tick=_h,this.running=!1,this.paused=!1}enqueue(){var i,r,s,u=[].shift.call(arguments),c=arguments;if(!u)throw new Error("No Task Provided");return typeof u=="function"?(i=new vn,r=i.promise,s={task:u,args:c,deferred:i,promise:r}):s={promise:u},this._q.push(s),this.paused==!1&&!this.running&&this.run(),s.promise}dequeue(){var i,r,s;if(this._q.length&&!this.paused){if(i=this._q.shift(),r=i.task,r)return s=r.apply(this.context,i.args),s&&typeof s.then=="function"?s.then((function(){i.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){i.deferred.reject.apply(this.context,arguments)}).bind(this)):(i.deferred.resolve.apply(this.context,s),i.promise);if(i.promise)return i.promise}else return i=new vn,i.deferred.resolve(),i.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new vn),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const Do="0.3",ho=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],ht={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class og{constructor(i,r,s){this.spine=i,this.request=r,this.pause=s||100,this.q=new Sh(this),this.epubcfi=new mn,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(i){return i&&(this.break=i),this.q.pause(),this.spine.each((function(r){r.linear&&this.q.enqueue(this.process.bind(this),r)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(i){return i.load(this.request).then((function(r){var s=new vn,u=this.parse(r,i.cfiBase);return this._locations=this._locations.concat(u),i.unload(),this.processingTimeout=setTimeout(()=>s.resolve(u),this.pause),s.promise}).bind(this))}parse(i,r,s){var u=[],c,f=i.ownerDocument,p=Ln(f,"body"),v=0,y,x=s||this.break,_=function(O){var T=O.length,H,B=0;if(O.textContent.trim().length===0)return!1;for(v==0&&(c=this.createRange(),c.startContainer=O,c.startOffset=0),H=x-v,H>T&&(v+=T,B=T);B<T;)if(H=x-v,v===0&&(B+=1,c=this.createRange(),c.startContainer=O,c.startOffset=B),B+H>=T)v+=T-B,B=T;else{B+=H,c.endContainer=O,c.endOffset=B;let w=new mn(c,r).toString();u.push(w),v=0}y=O};if(wo(p,_.bind(this)),c&&c.startContainer&&y){c.endContainer=y,c.endOffset=y.length;let O=new mn(c,r).toString();u.push(O),v=0}return u}generateFromWords(i,r,s){var u=i?new mn(i):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(c){c.linear&&(u?c.index>=u.spinePos&&this.q.enqueue(this.processWords.bind(this),c,r,u,s):this.q.enqueue(this.processWords.bind(this),c,r,u,s))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(i,r,s,u){return u&&this._locationsWords.length>=u?Promise.resolve():i.load(this.request).then((function(c){var f=new vn,p=this.parseWords(c,i,r,s),v=u-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(p.length>=u?p.slice(0,v):p),i.unload(),this.processingTimeout=setTimeout(()=>f.resolve(p),this.pause),f.promise}).bind(this))}countWords(i){return i=i.replace(/(^\s*)|(\s*$)/gi,""),i=i.replace(/[ ]{2,}/gi," "),i=i.replace(/\n /,`
`),i.split(" ").length}parseWords(i,r,s,u){var c=r.cfiBase,f=[],p=i.ownerDocument,v=Ln(p,"body"),y=s,x=u?u.spinePos!==r.index:!0,_;u&&r.index===u.spinePos&&(_=u.findNode(u.range?u.path.steps.concat(u.start.steps):u.path.steps,i.ownerDocument));var O=function(T){if(!x)if(T===_)x=!0;else return!1;if(T.textContent.length<10&&T.textContent.trim().length===0)return!1;var H=this.countWords(T.textContent),B,w=0;if(H===0)return!1;for(B=y-this._wordCounter,B>H&&(this._wordCounter+=H,w=H);w<H;)if(B=y-this._wordCounter,w+B>=H)this._wordCounter+=H-w,w=H;else{w+=B;let A=new mn(T,c);f.push({cfi:A.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return wo(v,O.bind(this)),f}locationFromCfi(i){let r;return mn.prototype.isCfiString(i)&&(i=new mn(i)),this._locations.length===0?-1:(r=Xs(i,this._locations,this.epubcfi.compare),r>this.total?this.total:r)}percentageFromCfi(i){if(this._locations.length===0)return null;var r=this.locationFromCfi(i);return this.percentageFromLocation(r)}percentageFromLocation(i){return!i||!this.total?0:i/this.total}cfiFromLocation(i){var r=-1;return typeof i!="number"&&(i=parseInt(i)),i>=0&&i<this._locations.length&&(r=this._locations[i]),r}cfiFromPercentage(i){let r;if(i>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),i>=1){let s=new mn(this._locations[this.total]);return s.collapse(),s.toString()}return r=Math.ceil(this.total*i),this.cfiFromLocation(r)}load(i){return typeof i=="string"?this._locations=JSON.parse(i):this._locations=i,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(i){var r;if(typeof i=="string")this._currentCfi=i;else if(typeof i=="number")this._current=i;else return;this._locations.length!==0&&(typeof i=="string"?(r=this.locationFromCfi(i),this._current=r):r=i,this.emit(ht.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(r)}))}get currentLocation(){return this._current}set currentLocation(i){this.setCurrent(i)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}mr(og.prototype);class Zy{constructor(i){this.packagePath="",this.directory="",this.encoding="",i&&this.parse(i)}parse(i){var r;if(!i)throw new Error("Container File Not Found");if(r=Ln(i,"rootfile"),!r)throw new Error("No RootFile Found");this.packagePath=r.getAttribute("full-path"),this.directory=Aa.dirname(this.packagePath),this.encoding=i.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class ym{constructor(i){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},i&&this.parse(i)}parse(i){var r,s,u;if(!i)throw new Error("Package File Not Found");if(r=Ln(i,"metadata"),!r)throw new Error("No Metadata Found");if(s=Ln(i,"manifest"),!s)throw new Error("No Manifest Found");if(u=Ln(i,"spine"),!u)throw new Error("No Spine Found");return this.manifest=this.parseManifest(s),this.navPath=this.findNavPath(s),this.ncxPath=this.findNcxPath(s,u),this.coverPath=this.findCoverPath(i),this.spineNodeIndex=tg(u),this.spine=this.parseSpine(u,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(i),this.metadata=this.parseMetadata(r),this.metadata.direction=u.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(i){var r={};return r.title=this.getElementText(i,"title"),r.creator=this.getElementText(i,"creator"),r.description=this.getElementText(i,"description"),r.pubdate=this.getElementText(i,"date"),r.publisher=this.getElementText(i,"publisher"),r.identifier=this.getElementText(i,"identifier"),r.language=this.getElementText(i,"language"),r.rights=this.getElementText(i,"rights"),r.modified_date=this.getPropertyText(i,"dcterms:modified"),r.layout=this.getPropertyText(i,"rendition:layout"),r.orientation=this.getPropertyText(i,"rendition:orientation"),r.flow=this.getPropertyText(i,"rendition:flow"),r.viewport=this.getPropertyText(i,"rendition:viewport"),r.media_active_class=this.getPropertyText(i,"media:active-class"),r.spread=this.getPropertyText(i,"rendition:spread"),r}parseManifest(i){var r={},s=Gr(i,"item"),u=Array.prototype.slice.call(s);return u.forEach(function(c){var f=c.getAttribute("id"),p=c.getAttribute("href")||"",v=c.getAttribute("media-type")||"",y=c.getAttribute("media-overlay")||"",x=c.getAttribute("properties")||"";r[f]={href:p,type:v,overlay:y,properties:x.length?x.split(" "):[]}}),r}parseSpine(i,r){var s=[],u=Gr(i,"itemref"),c=Array.prototype.slice.call(u);return c.forEach(function(f,p){var v=f.getAttribute("idref"),y=f.getAttribute("properties")||"",x=y.length?y.split(" "):[],_={id:f.getAttribute("id"),idref:v,linear:f.getAttribute("linear")||"yes",properties:x,index:p};s.push(_)}),s}findUniqueIdentifier(i){var r=i.documentElement.getAttribute("unique-identifier");if(!r)return"";var s=i.getElementById(r);return s&&s.localName==="identifier"&&s.namespaceURI==="http://purl.org/dc/elements/1.1/"&&s.childNodes.length>0?s.childNodes[0].nodeValue.trim():""}findNavPath(i){var r=Gs(i,"item",{properties:"nav"});return r?r.getAttribute("href"):!1}findNcxPath(i,r){var s=Gs(i,"item",{"media-type":"application/x-dtbncx+xml"}),u;return s||(u=r.getAttribute("toc"),u&&(s=i.querySelector(`#${u}`))),s?s.getAttribute("href"):!1}findCoverPath(i){var r=Ln(i,"package");r.getAttribute("version");var s=Gs(i,"item",{properties:"cover-image"});if(s)return s.getAttribute("href");var u=Gs(i,"meta",{name:"cover"});if(u){var c=u.getAttribute("content"),f=i.getElementById(c);return f?f.getAttribute("href"):""}else return!1}getElementText(i,r){var s=i.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",r),u;return!s||s.length===0?"":(u=s[0],u.childNodes.length?u.childNodes[0].nodeValue:"")}getPropertyText(i,r){var s=Gs(i,"meta",{property:r});return s&&s.childNodes.length?s.childNodes[0].nodeValue:""}load(i){this.metadata=i.metadata;let r=i.readingOrder||i.spine;return this.spine=r.map((s,u)=>(s.index=u,s.linear=s.linear||"yes",s)),i.resources.forEach((s,u)=>{this.manifest[u]=s,s.rel&&s.rel[0]==="cover"&&(this.coverPath=s.href)}),this.spineNodeIndex=0,this.toc=i.toc.map((s,u)=>(s.label=s.title,s)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Yf{constructor(i){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,i&&this.parse(i)}parse(i){let r=i.nodeType,s,u;r&&(s=Ln(i,"html"),u=Ln(i,"ncx")),r?s?(this.toc=this.parseNav(i),this.landmarks=this.parseLandmarks(i)):u&&(this.toc=this.parseNcx(i)):this.toc=this.load(i),this.length=0,this.unpack(this.toc)}unpack(i){for(var r,s=0;s<i.length;s++)r=i[s],r.href&&(this.tocByHref[r.href]=s),r.id&&(this.tocById[r.id]=s),this.length++,r.subitems.length&&this.unpack(r.subitems)}get(i){var r;return i?(i.indexOf("#")===0?r=this.tocById[i.substring(1)]:i in this.tocByHref&&(r=this.tocByHref[i]),this.getByIndex(i,r,this.toc)):this.toc}getByIndex(i,r,s){if(s.length===0)return;const u=s[r];if(u&&(i===u.id||i===u.href))return u;{let c;for(let f=0;f<s.length&&(c=this.getByIndex(i,r,s[f].subitems),!c);++f);return c}}landmark(i){var r;return i?(r=this.landmarksByType[i],this.landmarks[r]):this.landmarks}parseNav(i){var r=_o(i,"nav","toc"),s=[];if(!r)return s;let u=Ys(r,"ol",!0);return u&&(s=this.parseNavList(u)),s}parseNavList(i,r){const s=[];if(!i||!i.children)return s;for(let u=0;u<i.children.length;u++){const c=this.navItem(i.children[u],r);c&&s.push(c)}return s}navItem(i,r){let s=i.getAttribute("id")||void 0,u=Ys(i,"a",!0)||Ys(i,"span",!0);if(!u)return;let c=u.getAttribute("href")||"";s||(s=c);let f=u.textContent||"",p=[],v=Ys(i,"ol",!0);return v&&(p=this.parseNavList(v,s)),{id:s,href:c,label:f,subitems:p,parent:r}}parseLandmarks(i){var r=_o(i,"nav","landmarks"),s=r?Gr(r,"li"):[],u=s.length,c,f=[],p;if(!s||u===0)return f;for(c=0;c<u;++c)p=this.landmarkItem(s[c]),p&&(f.push(p),this.landmarksByType[p.type]=c);return f}landmarkItem(i){let r=Ys(i,"a",!0);if(!r)return;let s=r.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,u=r.getAttribute("href")||"",c=r.textContent||"";return{href:u,label:c,type:s}}parseNcx(i){var r=Gr(i,"navPoint"),s=r.length,u,c={},f=[],p,v;if(!r||s===0)return f;for(u=0;u<s;++u)p=this.ncxItem(r[u]),c[p.id]=p,p.parent?(v=c[p.parent],v.subitems.push(p)):f.push(p);return f}ncxItem(i){var r=i.getAttribute("id")||!1,s=Ln(i,"content"),u=s.getAttribute("src"),c=Ln(i,"navLabel"),f=c.textContent?c.textContent:"",p=[],v=i.parentNode,y;return v&&(v.nodeName==="navPoint"||v.nodeName.split(":").slice(-1)[0]==="navPoint")&&(y=v.getAttribute("id")),{id:r,href:u,label:f,subitems:p,parent:y}}load(i){return i.map(r=>(r.label=r.title,r.subitems=r.children?this.load(r.children):[],r))}forEach(i){return this.toc.forEach(i)}}var Yu={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},Xy=(function(){var D,i,r,s,u={};for(D in Yu)if(Yu.hasOwnProperty(D)){for(i in Yu[D])if(Yu[D].hasOwnProperty(i))if(r=Yu[D][i],typeof r=="string")u[r]=D+"/"+i;else for(s=0;s<r.length;s++)u[r[s]]=D+"/"+i}return u})(),Qy="text/plain";function Wy(D){return D&&Xy[D.split(".").pop().toLowerCase()]||Qy}const Ks={lookup:Wy};class Jy{constructor(i,r){this.settings={replacements:r&&r.replacements||"base64",archive:r&&r.archive,resolver:r&&r.resolver,request:r&&r.request},this.process(i)}process(i){this.manifest=i,this.resources=Object.keys(i).map(function(r){return i[r]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(i){if(i.type==="application/xhtml+xml"||i.type==="text/html")return!0}),this.assets=this.resources.filter(function(i){if(i.type!=="application/xhtml+xml"&&i.type!=="text/html")return!0}),this.css=this.resources.filter(function(i){if(i.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(i){return i.href}).bind(this)),this.cssUrls=this.css.map(function(i){return i.href})}createUrl(i){var r=new ar(i),s=Ks.lookup(r.filename);return this.settings.archive?this.settings.archive.createUrl(i,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(i,"blob").then(u=>sg(u)).then(u=>dh(u,s)):this.settings.request(i,"blob").then(u=>bo(u,s))}replacements(){if(this.settings.replacements==="none")return new Promise((function(r){r(this.urls)}).bind(this));var i=this.urls.map(r=>{var s=this.settings.resolver(r);return this.createUrl(s).catch(u=>(console.error(u),null))});return Promise.all(i).then(r=>(this.replacementUrls=r.filter(s=>typeof s=="string"),r))}replaceCss(i,r){var s=[];return i=i||this.settings.archive,r=r||this.settings.resolver,this.cssUrls.forEach((function(u){var c=this.createCssFile(u,i,r).then((function(f){var p=this.urls.indexOf(u);p>-1&&(this.replacementUrls[p]=f)}).bind(this));s.push(c)}).bind(this)),Promise.all(s)}createCssFile(i){var r;if(Aa.isAbsolute(i))return new Promise(function(f){f()});var s=this.settings.resolver(i),u;this.settings.archive?u=this.settings.archive.getText(s):u=this.settings.request(s,"text");var c=this.urls.map(f=>{var p=this.settings.resolver(f),v=new Yr(s).relative(p);return v});return u?u.then(f=>(f=gm(f,c,this.replacementUrls),this.settings.replacements==="base64"?r=dh(f,"text/css"):r=bo(f,"text/css"),r),f=>new Promise(function(p){p()})):new Promise(function(f){f()})}relativeTo(i,r){return r=r||this.settings.resolver,this.urls.map((function(s){var u=r(s),c=new Yr(i).relative(u);return c}).bind(this))}get(i){var r=this.urls.indexOf(i);if(r!==-1)return this.replacementUrls.length?new Promise((function(s,u){s(this.replacementUrls[r])}).bind(this)):this.createUrl(i)}substitute(i,r){var s;return r?s=this.relativeTo(r):s=this.urls,gm(i,s,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class Vf{constructor(i){this.pages=[],this.locations=[],this.epubcfi=new mn,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,i&&(this.pageList=this.parse(i)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(i){var r=Ln(i,"html"),s=Ln(i,"ncx");if(r)return this.parseNav(i);if(s)return this.parseNcx(i)}parseNav(i){var r=_o(i,"nav","page-list"),s=r?Gr(r,"li"):[],u=s.length,c,f=[],p;if(!s||u===0)return f;for(c=0;c<u;++c)p=this.item(s[c]),f.push(p);return f}parseNcx(i){var r=[],s=0,u,c,f,p=0;if(c=Ln(i,"pageList"),!c||(f=Gr(c,"pageTarget"),p=f.length,!f||f.length===0))return r;for(s=0;s<p;++s)u=this.ncxItem(f[s]),r.push(u);return r}ncxItem(i){var r=Ln(i,"navLabel"),s=Ln(r,"text"),u=s.textContent,c=Ln(i,"content"),f=c.getAttribute("src"),p=parseInt(u,10);return{href:f,page:p}}item(i){var r=Ln(i,"a"),s=r.getAttribute("href")||"",u=r.textContent||"",c=parseInt(u),f=s.indexOf("epubcfi"),p,v,y;return f!=-1?(p=s.split("#"),v=p[0],y=p.length>1?p[1]:!1,{cfi:y,href:s,packageUrl:v,page:c}):{href:s,page:c}}process(i){i.forEach(function(r){this.pages.push(r.page),r.cfi&&this.locations.push(r.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(i){var r=-1;if(this.locations.length===0)return-1;var s=mo(i,this.locations,this.epubcfi.compare);return s!=-1?r=this.pages[s]:(s=Xs(i,this.locations,this.epubcfi.compare),r=s-1>=0?this.pages[s-1]:this.pages[0],r!==void 0||(r=-1)),r}cfiFromPage(i){var r=-1;typeof i!="number"&&(i=parseInt(i));var s=this.pages.indexOf(i);return s!=-1&&(r=this.locations[s]),r}pageFromPercentage(i){var r=Math.round(this.totalPages*i);return r}percentageFromPage(i){var r=(i-this.firstPage)/this.totalPages;return Math.round(r*1e3)/1e3}percentageFromCfi(i){var r=this.pageFromCfi(i),s=this.percentageFromPage(r);return s}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class cg{constructor(i){this.settings=i,this.name=i.layout||"reflowable",this._spread=i.spread!=="none",this._minSpreadWidth=i.minSpreadWidth||800,this._evenSpreads=i.evenSpreads||!1,i.flow==="scrolled"||i.flow==="scrolled-continuous"||i.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(i){return typeof i<"u"&&(i==="scrolled"||i==="scrolled-continuous"||i==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(i,r){return i&&(this._spread=i!=="none",this.update({spread:this._spread})),r>=0&&(this._minSpreadWidth=r),this._spread}calculate(i,r,s){var u=1,c=s||0,f=i,p=r,v=Math.floor(f/12),y,x,_,O;this._spread&&f>=this._minSpreadWidth?u=2:u=1,this.name==="reflowable"&&this._flow==="paginated"&&!(s>=0)&&(c=v%2===0?v:v-1),this.name==="pre-paginated"&&(c=0),u>1?(y=f/u-c,_=y+c):(y=f,_=f),this.name==="pre-paginated"&&u>1&&(f=y),x=y*u+c,O=f,this.width=f,this.height=p,this.spreadWidth=x,this.pageWidth=_,this.delta=O,this.columnWidth=y,this.gap=c,this.divisor=u,this.update({width:f,height:p,spreadWidth:x,pageWidth:_,delta:O,columnWidth:y,gap:c,divisor:u})}format(i,r,s){var u;return this.name==="pre-paginated"?u=i.fit(this.columnWidth,this.height,r):this._flow==="paginated"?u=i.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):s&&s==="horizontal"?u=i.size(null,this.height):u=i.size(this.width,null),u}count(i,r){let s,u;return this.name==="pre-paginated"?(s=1,u=1):this._flow==="paginated"?(r=r||this.delta,s=Math.ceil(i/r),u=s*this.divisor):(r=r||this.height,s=Math.ceil(i/r),u=s),{spreads:s,pages:u}}update(i){if(Object.keys(i).forEach(r=>{this.props[r]===i[r]&&delete i[r]}),Object.keys(i).length>0){let r=di(this.props,i);this.emit(ht.LAYOUT.UPDATED,r,i)}}}mr(cg.prototype);class $y{constructor(i){this.rendition=i,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(i){if(i){if(typeof i=="string")return this.registerUrl("default",i);if(typeof i=="object")return this.registerRules("default",i)}}registerThemes(i){for(var r in i)i.hasOwnProperty(r)&&(typeof i[r]=="string"?this.registerUrl(r,i[r]):this.registerRules(r,i[r]))}registerCss(i,r){this._themes[i]={serialized:r},(this._injected[i]||i=="default")&&this.update(i)}registerUrl(i,r){var s=new ar(r);this._themes[i]={url:s.toString()},(this._injected[i]||i=="default")&&this.update(i)}registerRules(i,r){this._themes[i]={rules:r},(this._injected[i]||i=="default")&&this.update(i)}select(i){var r=this._current,s;this._current=i,this.update(i),s=this.rendition.getContents(),s.forEach(u=>{u.removeClass(r),u.addClass(i)})}update(i){var r=this.rendition.getContents();r.forEach(s=>{this.add(i,s)})}inject(i){var r=[],s=this._themes,u;for(var c in s)s.hasOwnProperty(c)&&(c===this._current||c==="default")&&(u=s[c],(u.rules&&Object.keys(u.rules).length>0||u.url&&r.indexOf(u.url)===-1)&&this.add(c,i),this._injected.push(c));this._current!="default"&&i.addClass(this._current)}add(i,r){var s=this._themes[i];!s||!r||(s.url?r.addStylesheet(s.url):s.serialized?(r.addStylesheetCss(s.serialized,i),s.injected=!0):s.rules&&(r.addStylesheetRules(s.rules,i),s.injected=!0))}override(i,r,s){var u=this.rendition.getContents();this._overrides[i]={value:r,priority:s===!0},u.forEach(c=>{c.css(i,this._overrides[i].value,this._overrides[i].priority)})}removeOverride(i){var r=this.rendition.getContents();delete this._overrides[i],r.forEach(s=>{s.css(i)})}overrides(i){var r=this._overrides;for(var s in r)r.hasOwnProperty(s)&&i.css(s,r[s].value,r[s].priority)}fontSize(i){this.override("font-size",i)}font(i){this.override("font-family",i,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class xo{constructor(i,r,s,u=!1){this.layout=i,this.horizontal=s==="horizontal",this.direction=r||"ltr",this._dev=u}section(i){var r=this.findRanges(i),s=this.rangeListToCfiList(i.section.cfiBase,r);return s}page(i,r,s,u){var c=i&&i.document?i.document.body:!1,f;if(c){if(f=this.rangePairToCfiPair(r,{start:this.findStart(c,s,u),end:this.findEnd(c,s,u)}),this._dev===!0){let p=i.document,v=new mn(f.start).toRange(p),y=new mn(f.end).toRange(p),x=p.defaultView.getSelection(),_=p.createRange();x.removeAllRanges(),_.setStart(v.startContainer,v.startOffset),_.setEnd(y.endContainer,y.endOffset),x.addRange(_)}return f}}walk(i,r){if(!(i&&i.nodeType===Node.TEXT_NODE)){var s={acceptNode:function(v){return v.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},u=s.acceptNode;u.acceptNode=s.acceptNode;for(var c=document.createTreeWalker(i,NodeFilter.SHOW_TEXT,u,!1),f,p;(f=c.nextNode())&&(p=r(f),!p););return p}}findRanges(i){for(var r=[],s=i.contents.scrollWidth(),u=Math.ceil(s/this.layout.spreadWidth),c=u*this.layout.divisor,f=this.layout.columnWidth,p=this.layout.gap,v,y,x=0;x<c.pages;x++)v=(f+p)*x,y=f*(x+1)+p*x,r.push({start:this.findStart(i.document.body,v,y),end:this.findEnd(i.document.body,v,y)});return r}findStart(i,r,s){for(var u=[i],c,f,p=i;u.length;)if(c=u.shift(),f=this.walk(c,v=>{var y,x,_,O,T;if(T=hh(v),this.horizontal&&this.direction==="ltr"){if(y=this.horizontal?T.left:T.top,x=this.horizontal?T.right:T.bottom,y>=r&&y<=s)return v;if(x>r)return v;p=v,u.push(v)}else if(this.horizontal&&this.direction==="rtl"){if(y=T.left,x=T.right,x<=s&&x>=r)return v;if(y<s)return v;p=v,u.push(v)}else{if(_=T.top,O=T.bottom,_>=r&&_<=s)return v;if(O>r)return v;p=v,u.push(v)}}),f)return this.findTextStartRange(f,r,s);return this.findTextStartRange(p,r,s)}findEnd(i,r,s){for(var u=[i],c,f=i,p;u.length;)if(c=u.shift(),p=this.walk(c,v=>{var y,x,_,O,T;if(T=hh(v),this.horizontal&&this.direction==="ltr"){if(y=Math.round(T.left),x=Math.round(T.right),y>s&&f)return f;if(x>s)return v;f=v,u.push(v)}else if(this.horizontal&&this.direction==="rtl"){if(y=Math.round(this.horizontal?T.left:T.top),x=Math.round(this.horizontal?T.right:T.bottom),x<r&&f)return f;if(y<r)return v;f=v,u.push(v)}else{if(_=Math.round(T.top),O=Math.round(T.bottom),_>s&&f)return f;if(O>s)return v;f=v,u.push(v)}}),p)return this.findTextEndRange(p,r,s);return this.findTextEndRange(f,r,s)}findTextStartRange(i,r,s){for(var u=this.splitTextNodeIntoRanges(i),c,f,p,v,y,x=0;x<u.length;x++)if(c=u[x],f=c.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(p=f.left,p>=r)return c}else if(this.horizontal&&this.direction==="rtl"){if(y=f.right,y<=s)return c}else if(v=f.top,v>=r)return c;return u[0]}findTextEndRange(i,r,s){for(var u=this.splitTextNodeIntoRanges(i),c,f,p,v,y,x,_,O=0;O<u.length;O++){if(f=u[O],p=f.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(v=p.left,y=p.right,v>s&&c)return c;if(y>s)return f}else if(this.horizontal&&this.direction==="rtl"){if(v=p.left,y=p.right,y<r&&c)return c;if(v<r)return f}else{if(x=p.top,_=p.bottom,x>s&&c)return c;if(_>s)return f}c=f}return u[u.length-1]}splitTextNodeIntoRanges(i,r){var s=[],u=i.textContent||"",c=u.trim(),f,p=i.ownerDocument,v=r||" ",y=c.indexOf(v);if(y===-1||i.nodeType!=Node.TEXT_NODE)return f=p.createRange(),f.selectNodeContents(i),[f];for(f=p.createRange(),f.setStart(i,0),f.setEnd(i,y),s.push(f),f=!1;y!=-1;)y=c.indexOf(v,y+1),y>0&&(f&&(f.setEnd(i,y),s.push(f)),f=p.createRange(),f.setStart(i,y+1));return f&&(f.setEnd(i,c.length),s.push(f)),s}rangePairToCfiPair(i,r){var s=r.start,u=r.end;s.collapse(!0),u.collapse(!1);let c=new mn(s,i).toString(),f=new mn(u,i).toString();return{start:c,end:f}}rangeListToCfiList(i,r){for(var s=[],u,c=0;c<r.length;c++)u=this.rangePairToCfiPair(i,r[c]),s.push(u);return s}axis(i){return i&&(this.horizontal=i==="horizontal"),this.horizontal}}const fg=typeof navigator<"u",e2=fg&&/Chrome/.test(navigator.userAgent),bm=fg&&!e2&&/AppleWebKit/.test(navigator.userAgent),t2=1;class Ah{constructor(i,r,s,u){this.epubcfi=new mn,this.document=i,this.documentElement=this.document.documentElement,this.content=r||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=u||0,this.cfiBase=s||"",this.epubReadingSystem("epub.js",Do),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return ho}width(i){var r=this.content;return i&&Xn(i)&&(i=i+"px"),i&&(r.style.width=i),parseInt(this.window.getComputedStyle(r).width)}height(i){var r=this.content;return i&&Xn(i)&&(i=i+"px"),i&&(r.style.height=i),parseInt(this.window.getComputedStyle(r).height)}contentWidth(i){var r=this.content||this.document.body;return i&&Xn(i)&&(i=i+"px"),i&&(r.style.width=i),parseInt(this.window.getComputedStyle(r).width)}contentHeight(i){var r=this.content||this.document.body;return i&&Xn(i)&&(i=i+"px"),i&&(r.style.height=i),parseInt(this.window.getComputedStyle(r).height)}textWidth(){let i,r,s=this.document.createRange(),u=this.content||this.document.body,c=go(u);return s.selectNodeContents(u),i=s.getBoundingClientRect(),r=i.width,c&&c.width&&(r+=c.width),Math.round(r)}textHeight(){let i,r,s=this.document.createRange(),u=this.content||this.document.body;return s.selectNodeContents(u),i=s.getBoundingClientRect(),r=i.bottom,Math.round(r)}scrollWidth(){var i=this.documentElement.scrollWidth;return i}scrollHeight(){var i=this.documentElement.scrollHeight;return i}overflow(i){return i&&(this.documentElement.style.overflow=i),this.window.getComputedStyle(this.documentElement).overflow}overflowX(i){return i&&(this.documentElement.style.overflowX=i),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(i){return i&&(this.documentElement.style.overflowY=i),this.window.getComputedStyle(this.documentElement).overflowY}css(i,r,s){var u=this.content||this.document.body;return r?u.style.setProperty(i,r,s?"important":""):u.style.removeProperty(i),this.window.getComputedStyle(u)[i]}viewport(i){var r=this.document.querySelector("meta[name='viewport']"),s={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},u=[],c={};if(r&&r.hasAttribute("content")){let f=r.getAttribute("content"),p=f.match(/width\s*=\s*([^,]*)/),v=f.match(/height\s*=\s*([^,]*)/),y=f.match(/initial-scale\s*=\s*([^,]*)/),x=f.match(/minimum-scale\s*=\s*([^,]*)/),_=f.match(/maximum-scale\s*=\s*([^,]*)/),O=f.match(/user-scalable\s*=\s*([^,]*)/);p&&p.length&&typeof p[1]<"u"&&(s.width=p[1]),v&&v.length&&typeof v[1]<"u"&&(s.height=v[1]),y&&y.length&&typeof y[1]<"u"&&(s.scale=y[1]),x&&x.length&&typeof x[1]<"u"&&(s.minimum=x[1]),_&&_.length&&typeof _[1]<"u"&&(s.maximum=_[1]),O&&O.length&&typeof O[1]<"u"&&(s.scalable=O[1])}return c=eg(i||{},s),i&&(c.width&&u.push("width="+c.width),c.height&&u.push("height="+c.height),c.scale&&u.push("initial-scale="+c.scale),c.scalable==="no"?(u.push("minimum-scale="+c.scale),u.push("maximum-scale="+c.scale),u.push("user-scalable="+c.scalable)):(c.scalable&&u.push("user-scalable="+c.scalable),c.minimum&&u.push("minimum-scale="+c.minimum),c.maximum&&u.push("minimum-scale="+c.maximum)),r||(r=this.document.createElement("meta"),r.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(r)),r.setAttribute("content",u.join(", ")),this.window.scrollTo(0,0)),c}expand(){this.emit(ht.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let i=this.textWidth(),r=this.textHeight();(i!=this._size.width||r!=this._size.height)&&(this._size={width:i,height:r},this.onResize&&this.onResize(this._size),this.emit(ht.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let i=this.content;i.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",i.style.transitionDuration="0.001ms",i.style.transitionTimingFunction="linear",i.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var i=this.document.styleSheets,r=(function(p){p.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),s=0;s<i.length;s+=1){var u;try{u=i[s].cssRules}catch{return}if(!u)return;for(var c=0;c<u.length;c+=1)if(u[c].media){var f=this.window.matchMedia(u[c].media.mediaText);f.addListener(r)}}}resizeObservers(){this.observer=new ResizeObserver(i=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(r=>{this.resizeCheck()});let i={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,i)}imageLoadListeners(){for(var i=this.document.querySelectorAll("img"),r,s=0;s<i.length;s++)r=i[s],typeof r.naturalWidth<"u"&&r.naturalWidth===0&&(r.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(i,r){var s,u={left:0,top:0};if(!this.document)return u;if(this.epubcfi.isCfiString(i)){let c=new mn(i).toRange(this.document,r);if(c){try{if(!c.endContainer||c.startContainer==c.endContainer&&c.startOffset==c.endOffset){let f=c.startContainer.textContent.indexOf(" ",c.startOffset);f==-1&&(f=c.startContainer.textContent.length),c.setEnd(c.startContainer,f)}}catch(f){console.error("setting end offset to start container length failed",f)}if(c.startContainer.nodeType===Node.ELEMENT_NODE)s=c.startContainer.getBoundingClientRect(),u.left=s.left,u.top=s.top;else if(bm){let f=c.startContainer,p=new Range;try{f.nodeType===t2?s=f.getBoundingClientRect():c.startOffset+2<f.length?(p.setStart(f,c.startOffset),p.setEnd(f,c.startOffset+2),s=p.getBoundingClientRect()):c.startOffset-2>0?(p.setStart(f,c.startOffset-2),p.setEnd(f,c.startOffset),s=p.getBoundingClientRect()):s=f.parentNode.getBoundingClientRect()}catch(v){console.error(v,v.stack)}}else s=c.getBoundingClientRect()}}else if(typeof i=="string"&&i.indexOf("#")>-1){let c=i.substring(i.indexOf("#")+1),f=this.document.getElementById(c);if(f)if(bm){let p=new Range;p.selectNode(f),s=p.getBoundingClientRect()}else s=f.getBoundingClientRect()}return s&&(u.left=s.left,u.top=s.top),u}addStylesheet(i){return new Promise((function(r,s){var u,c=!1;if(!this.document){r(!1);return}if(u=this.document.querySelector("link[href='"+i+"']"),u){r(!0);return}u=this.document.createElement("link"),u.type="text/css",u.rel="stylesheet",u.href=i,u.onload=u.onreadystatechange=function(){!c&&(!this.readyState||this.readyState=="complete")&&(c=!0,setTimeout(()=>{r(!0)},1))},this.document.head.appendChild(u)}).bind(this))}_getStylesheetNode(i){var r;return i="epubjs-inserted-css-"+(i||""),this.document?(r=this.document.getElementById(i),r||(r=this.document.createElement("style"),r.id=i,this.document.head.appendChild(r)),r):!1}addStylesheetCss(i,r){if(!this.document||!i)return!1;var s;return s=this._getStylesheetNode(r),s.innerHTML=i,!0}addStylesheetRules(i,r){var s;if(!(!this.document||!i||i.length===0))if(s=this._getStylesheetNode(r).sheet,Object.prototype.toString.call(i)==="[object Array]")for(var u=0,c=i.length;u<c;u++){var f=1,p=i[u],v=i[u][0],y="";Object.prototype.toString.call(p[1][0])==="[object Array]"&&(p=p[1],f=0);for(var x=p.length;f<x;f++){var _=p[f];y+=_[0]+":"+_[1]+(_[2]?" !important":"")+`;
`}s.insertRule(v+"{"+y+"}",s.cssRules.length)}else Object.keys(i).forEach(T=>{const H=i[T];if(Array.isArray(H))H.forEach(B=>{const A=Object.keys(B).map(C=>`${C}:${B[C]}`).join(";");s.insertRule(`${T}{${A}}`,s.cssRules.length)});else{const w=Object.keys(H).map(A=>`${A}:${H[A]}`).join(";");s.insertRule(`${T}{${w}}`,s.cssRules.length)}})}addScript(i){return new Promise((function(r,s){var u,c=!1;if(!this.document){r(!1);return}u=this.document.createElement("script"),u.type="text/javascript",u.async=!0,u.src=i,u.onload=u.onreadystatechange=function(){!c&&(!this.readyState||this.readyState=="complete")&&(c=!0,setTimeout(function(){r(!0)},1))},this.document.head.appendChild(u)}).bind(this))}addClass(i){var r;this.document&&(r=this.content||this.document.body,r&&r.classList.add(i))}removeClass(i){var r;this.document&&(r=this.content||this.document.body,r&&r.classList.remove(i))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),ho.forEach(function(i){this.document.addEventListener(i,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(ho.forEach(function(i){this.document.removeEventListener(i,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(i){this.emit(i.type,i)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(i){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var r=this.window.getSelection();this.triggerSelectedEvent(r)}).bind(this),250)}triggerSelectedEvent(i){var r,s;i&&i.rangeCount>0&&(r=i.getRangeAt(0),r.collapsed||(s=new mn(r,this.cfiBase).toString(),this.emit(ht.CONTENTS.SELECTED,s),this.emit(ht.CONTENTS.SELECTED_RANGE,r)))}range(i,r){var s=new mn(i);return s.toRange(this.document,r)}cfiFromRange(i,r){return new mn(i,this.cfiBase,r).toString()}cfiFromNode(i,r){return new mn(i,this.cfiBase,r).toString()}map(i){var r=new xo(i);return r.section()}size(i,r){var s={scale:1,scalable:"no"};this.layoutStyle("scrolling"),i>=0&&(this.width(i),s.width=i,this.css("padding","0 "+i/12+"px")),r>=0&&(this.height(r),s.height=r),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(s)}columns(i,r,s,u,c){let f=Ps("column-axis"),p=Ps("column-gap"),v=Ps("column-width"),y=Ps("column-fill"),_=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),c==="rtl"&&_==="horizontal"&&this.direction(c),this.width(i),this.height(r),this.viewport({width:i,height:r,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),_==="vertical"?(this.css("padding-top",u/2+"px",!0),this.css("padding-bottom",u/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(f,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",u/2+"px",!0),this.css("padding-right",u/2+"px",!0),this.css(f,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(y,"auto"),this.css(p,u+"px"),this.css(v,s+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(i,r,s){var u="scale("+i+")",c="";this.css("transform-origin","top left"),(r>=0||s>=0)&&(c=" translate("+(r||0)+"px, "+(s||0)+"px )"),this.css("transform",u+c)}fit(i,r,s){var u=this.viewport(),c=parseInt(u.width),f=parseInt(u.height),p=i/c,v=r/f,y=p<v?p:v;if(this.layoutStyle("paginated"),this.width(c),this.height(f),this.overflow("hidden"),this.scaler(y,0,0),this.css("background-size",c*y+"px "+f*y+"px"),this.css("background-color","transparent"),s&&s.properties.includes("page-spread-left")){var x=i-c*y;this.css("margin-left",x+"px")}}direction(i){this.documentElement&&(this.documentElement.style.direction=i)}mapPage(i,r,s,u,c){var f=new xo(r,c);return f.page(this,i,s,u)}linksHandler(){Yy(this.content,i=>{this.emit(ht.CONTENTS.LINK_CLICKED,i)})}writingMode(i){let r=Ps("writing-mode");return i&&this.documentElement&&(this.documentElement.style[r]=i),this.window.getComputedStyle(this.documentElement)[r]||""}layoutStyle(i){return i&&(this._layoutStyle=i,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(i,r){return navigator.epubReadingSystem={name:i,version:r,layoutStyle:this.layoutStyle(),hasFeature:function(s){switch(s){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}mr(Ah.prototype);class n2{constructor(i){this.rendition=i,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(i,r,s,u,c,f){let p=encodeURI(r+i),y=new mn(r).spinePos,x=new hg({type:i,cfiRange:r,data:s,sectionIndex:y,cb:u,className:c,styles:f});return this._annotations[p]=x,y in this._annotationsBySectionIndex?this._annotationsBySectionIndex[y].push(p):this._annotationsBySectionIndex[y]=[p],this.rendition.views().forEach(O=>{x.sectionIndex===O.index&&x.attach(O)}),x}remove(i,r){let s=encodeURI(i+r);if(s in this._annotations){let u=this._annotations[s];if(r&&u.type!==r)return;this.rendition.views().forEach(f=>{this._removeFromAnnotationBySectionIndex(u.sectionIndex,s),u.sectionIndex===f.index&&u.detach(f)}),delete this._annotations[s]}}_removeFromAnnotationBySectionIndex(i,r){this._annotationsBySectionIndex[i]=this._annotationsAt(i).filter(s=>s!==r)}_annotationsAt(i){return this._annotationsBySectionIndex[i]}highlight(i,r,s,u,c){return this.add("highlight",i,r,s,u,c)}underline(i,r,s,u,c){return this.add("underline",i,r,s,u,c)}mark(i,r,s){return this.add("mark",i,r,s)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(i){let r=i.index;r in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[r].forEach(u=>{this._annotations[u].attach(i)})}clear(i){let r=i.index;r in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[r].forEach(u=>{this._annotations[u].detach(i)})}show(){}hide(){}}class hg{constructor({type:i,cfiRange:r,data:s,sectionIndex:u,cb:c,className:f,styles:p}){this.type=i,this.cfiRange=r,this.data=s,this.sectionIndex=u,this.mark=void 0,this.cb=c,this.className=f,this.styles=p}update(i){this.data=i}attach(i){let{cfiRange:r,data:s,type:u,mark:c,cb:f,className:p,styles:v}=this,y;return u==="highlight"?y=i.highlight(r,s,f,p,v):u==="underline"?y=i.underline(r,s,f,p,v):u==="mark"&&(y=i.mark(r,s,f)),this.mark=y,this.emit(ht.ANNOTATION.ATTACH,y),y}detach(i){let{cfiRange:r,type:s}=this,u;return i&&(s==="highlight"?u=i.unhighlight(r):s==="underline"?u=i.ununderline(r):s==="mark"&&(u=i.unmark(r))),this.mark=void 0,this.emit(ht.ANNOTATION.DETACH,u),u}text(){}}mr(hg.prototype);var ir={},Vu={},wm;function i2(){if(wm)return Vu;wm=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.createElement=D;function D(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}return Vu.default={createElement:D},Vu}var Hs={},_m;function r2(){if(_m)return Hs;_m=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.proxyMouse=D,Hs.clone=i,Hs.default={proxyMouse:D};function D(s,u){function c(y){for(var x=u.length-1;x>=0;x--){var _=u[x],O=y.clientX,T=y.clientY;if(y.touches&&y.touches.length&&(O=y.touches[0].clientX,T=y.touches[0].clientY),!!r(_,s,O,T)){_.dispatchEvent(i(y));break}}}if(s.nodeName==="iframe"||s.nodeName==="IFRAME")try{this.target=s.contentDocument}catch{this.target=s}else this.target=s;for(var f=["mouseup","mousedown","click","touchstart"],p=0;p<f.length;p++){var v=f[p];this.target.addEventListener(v,function(y){return c(y)},!1)}}function i(s){var u=Object.assign({},s,{bubbles:!1});try{return new MouseEvent(s.type,u)}catch{var c=document.createEvent("MouseEvents");return c.initMouseEvent(s.type,!1,u.cancelable,u.view,u.detail,u.screenX,u.screenY,u.clientX,u.clientY,u.ctrlKey,u.altKey,u.shiftKey,u.metaKey,u.button,u.relatedTarget),c}}function r(s,u,c,f){var p=u.getBoundingClientRect();function v(T,H,B){var w=T.top-p.top,A=T.left-p.left,C=w+T.height,j=A+T.width;return w<=B&&A<=H&&C>B&&j>H}var y=s.getBoundingClientRect();if(!v(y,c,f))return!1;for(var x=s.getClientRects(),_=0,O=x.length;_<O;_++)if(v(x[_],c,f))return!0;return!1}return Hs}var xm;function a2(){if(xm)return ir;xm=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.Underline=ir.Highlight=ir.Mark=ir.Pane=void 0;var D=function B(w,A,C){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,A);if(j===void 0){var F=Object.getPrototypeOf(w);return F===null?void 0:B(F,A,C)}else{if("value"in j)return j.value;var k=j.get;return k===void 0?void 0:k.call(C)}},i=(function(){function B(w,A){for(var C=0;C<A.length;C++){var j=A[C];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,A,C){return A&&B(w.prototype,A),C&&B(w,C),w}})(),r=i2(),s=f(r),u=r2(),c=f(u);function f(B){return B&&B.__esModule?B:{default:B}}function p(B,w){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:B}function v(B,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);B.prototype=Object.create(w&&w.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(B,w):B.__proto__=w)}function y(B,w){if(!(B instanceof w))throw new TypeError("Cannot call a class as a function")}ir.Pane=(function(){function B(w){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;y(this,B),this.target=w,this.element=s.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),c.default.proxyMouse(this.target,this.marks),this.container=A,this.container.appendChild(this.element),this.render()}return i(B,[{key:"addMark",value:function(A){var C=s.default.createElement("g");return this.element.appendChild(C),A.bind(C,this.container),this.marks.push(A),A.render(),A}},{key:"removeMark",value:function(A){var C=this.marks.indexOf(A);if(C!==-1){var j=A.unbind();this.element.removeChild(j),this.marks.splice(C,1)}}},{key:"render",value:function(){T(this.element,O(this.target,this.container));var A=!0,C=!1,j=void 0;try{for(var F=this.marks[Symbol.iterator](),k;!(A=(k=F.next()).done);A=!0){var I=k.value;I.render()}}catch(G){C=!0,j=G}finally{try{!A&&F.return&&F.return()}finally{if(C)throw j}}}}]),B})();var x=ir.Mark=(function(){function B(){y(this,B),this.element=null}return i(B,[{key:"bind",value:function(A,C){this.element=A,this.container=C}},{key:"unbind",value:function(){var A=this.element;return this.element=null,A}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(A){this.element&&this.element.dispatchEvent(A)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var A=[],C=this.element.firstChild;C;)A.push(C.getBoundingClientRect()),C=C.nextSibling;return A}},{key:"filteredRanges",value:function(){var A=Array.from(this.range.getClientRects());return A.filter(function(C){for(var j=0;j<A.length;j++){if(A[j]===C)return!0;var F=H(A[j],C);if(F)return!1}return!0})}}]),B})(),_=ir.Highlight=(function(B){v(w,B);function w(A,C,j,F){y(this,w);var k=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return k.range=A,k.className=C,k.data=j||{},k.attributes=F||{},k}return i(w,[{key:"bind",value:function(C,j){D(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"bind",this).call(this,C,j);for(var F in this.data)this.data.hasOwnProperty(F)&&(this.element.dataset[F]=this.data[F]);for(var F in this.attributes)this.attributes.hasOwnProperty(F)&&this.element.setAttribute(F,this.attributes[F]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var C=this.element.ownerDocument.createDocumentFragment(),j=this.filteredRanges(),F=this.element.getBoundingClientRect(),k=this.container.getBoundingClientRect(),I=0,G=j.length;I<G;I++){var W=j[I],Q=s.default.createElement("rect");Q.setAttribute("x",W.left-F.left+k.left),Q.setAttribute("y",W.top-F.top+k.top),Q.setAttribute("height",W.height),Q.setAttribute("width",W.width),C.appendChild(Q)}this.element.appendChild(C)}}]),w})(x);ir.Underline=(function(B){v(w,B);function w(A,C,j,F){return y(this,w),p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,A,C,j,F))}return i(w,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var C=this.element.ownerDocument.createDocumentFragment(),j=this.filteredRanges(),F=this.element.getBoundingClientRect(),k=this.container.getBoundingClientRect(),I=0,G=j.length;I<G;I++){var W=j[I],Q=s.default.createElement("rect");Q.setAttribute("x",W.left-F.left+k.left),Q.setAttribute("y",W.top-F.top+k.top),Q.setAttribute("height",W.height),Q.setAttribute("width",W.width),Q.setAttribute("fill","none");var J=s.default.createElement("line");J.setAttribute("x1",W.left-F.left+k.left),J.setAttribute("x2",W.left-F.left+k.left+W.width),J.setAttribute("y1",W.top-F.top+k.top+W.height-1),J.setAttribute("y2",W.top-F.top+k.top+W.height-1),J.setAttribute("stroke-width",1),J.setAttribute("stroke","black"),J.setAttribute("stroke-linecap","square"),C.appendChild(Q),C.appendChild(J)}this.element.appendChild(C)}}]),w})(_);function O(B,w){var A=w.getBoundingClientRect(),C=B.getBoundingClientRect();return{top:C.top-A.top,left:C.left-A.left,height:B.scrollHeight,width:B.scrollWidth}}function T(B,w){B.style.setProperty("top",w.top+"px","important"),B.style.setProperty("left",w.left+"px","important"),B.style.setProperty("height",w.height+"px","important"),B.style.setProperty("width",w.width+"px","important")}function H(B,w){return w.right<=B.right&&w.left>=B.left&&w.top>=B.top&&w.bottom<=B.bottom}return ir}var oo=a2();class dg{constructor(i,r){this.settings=di({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},r||{}),this.id="epubjs-view-"+Ao(),this.section=i,this.index=i.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new mn,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(i){var r=document.createElement("div");return r.classList.add("epub-view"),r.style.height="0px",r.style.width="0px",r.style.overflow="hidden",r.style.position="relative",r.style.display="block",i&&i=="horizontal"?r.style.flex="none":r.style.flex="initial",r}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=fo(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(i,r){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(i)),this.sectionRender.then((function(s){return this.load(s)}).bind(this)).then((function(){let s=this.contents.writingMode(),u;return this.settings.flow==="scrolled"?u=s.indexOf("vertical")===0?"horizontal":"vertical":u=s.indexOf("vertical")===0?"vertical":"horizontal",s.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(u),this.emit(ht.VIEWS.AXIS,u),this.setWritingMode(s),this.emit(ht.VIEWS.WRITING_MODE,s),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((c,f)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),c()})}).bind(this),(function(s){return this.emit(ht.VIEWS.LOAD_ERROR,s),new Promise((u,c)=>{c(s)})}).bind(this)).then((function(){this.emit(ht.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(i,r){var s=i||this.settings.width,u=r||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",s,u):this.settings.axis==="horizontal"?this.lock("height",s,u):this.lock("width",s,u),this.settings.width=s,this.settings.height=u}lock(i,r,s){var u=go(this.element),c;this.iframe?c=go(this.iframe):c={width:0,height:0},i=="width"&&Xn(r)&&(this.lockedWidth=r-u.width-c.width),i=="height"&&Xn(s)&&(this.lockedHeight=s-u.height-c.height),i==="both"&&Xn(r)&&Xn(s)&&(this.lockedWidth=r-u.width-c.width,this.lockedHeight=s-u.height-c.height),this.displayed&&this.iframe&&this.expand()}expand(i){var r=this.lockedWidth,s=this.lockedHeight,u;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(r=this.layout.columnWidth,s=this.layout.height):this.settings.axis==="horizontal"?(r=this.contents.textWidth(),r%this.layout.pageWidth>0&&(r=Math.ceil(r/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(u=r/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&u%2>0&&(r+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(s=this.contents.textHeight(),this.settings.flow==="paginated"&&s%this.layout.height>0&&(s=Math.ceil(s/this.layout.height)*this.layout.height)),(this._needsReframe||r!=this._width||s!=this._height)&&this.reframe(r,s),this._expanding=!1)}reframe(i,r){var s;Xn(i)&&(this.element.style.width=i+"px",this.iframe.style.width=i+"px",this._width=i),Xn(r)&&(this.element.style.height=r+"px",this.iframe.style.height=r+"px",this._height=r);let u=this.prevBounds?i-this.prevBounds.width:i,c=this.prevBounds?r-this.prevBounds.height:r;s={width:i,height:r,widthDelta:u,heightDelta:c},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let f;for(let p in this.marks)this.marks.hasOwnProperty(p)&&(f=this.marks[p],this.placeMark(f.element,f.range))}),this.onResize(this,s),this.emit(ht.VIEWS.RESIZED,s),this.prevBounds=s,this.elementBounds=fo(this.element)}load(i){var r=new vn,s=r.promise;if(!this.iframe)return r.reject(new Error("No Iframe Available")),s;if(this.iframe.onload=(function(c){this.onLoad(c,r)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=bo(i,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=i,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return r.reject(new Error("No Document Available")),s;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var u=this;MSApp.execUnsafeLocalFunction(function(){u.iframe.contentDocument.write(i)})}else this.iframe.contentDocument.write(i);this.iframe.contentDocument.close()}return s}onLoad(i,r){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Ah(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var s=this.document.querySelector("link[rel='canonical']");s?s.setAttribute("href",this.section.canonical):(s=this.document.createElement("link"),s.setAttribute("rel","canonical"),s.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(s)),this.contents.on(ht.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(ht.CONTENTS.RESIZE,u=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),r.resolve(this.contents)}setLayout(i){this.layout=i,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(i){this.settings.axis=i,i=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(i){this.writingMode=i}addListeners(){}removeListeners(i){}display(i){var r=new vn;return this.displayed?r.resolve(this):this.render(i).then((function(){this.emit(ht.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,r.resolve(this)}).bind(this),function(s){r.reject(s,this)}),r.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(ht.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(ht.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(i){this.iframe.getBoundingClientRect();var r=this.contents.locationOf(i,this.settings.ignoreClass);return{left:r.left,top:r.top}}onDisplayed(i){}onResize(i,r){}bounds(i){return(i||!this.elementBounds)&&(this.elementBounds=fo(this.element)),this.elementBounds}highlight(i,r={},s,u="epubjs-hl",c={}){if(!this.contents)return;const f=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},c);let p=this.contents.range(i),v=()=>{this.emit(ht.VIEWS.MARK_CLICKED,i,r)};r.epubcfi=i,this.pane||(this.pane=new oo.Pane(this.iframe,this.element));let y=new oo.Highlight(p,u,r,f),x=this.pane.addMark(y);return this.highlights[i]={mark:x,element:x.element,listeners:[v,s]},x.element.setAttribute("ref",u),x.element.addEventListener("click",v),x.element.addEventListener("touchstart",v),s&&(x.element.addEventListener("click",s),x.element.addEventListener("touchstart",s)),x}underline(i,r={},s,u="epubjs-ul",c={}){if(!this.contents)return;const f=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},c);let p=this.contents.range(i),v=()=>{this.emit(ht.VIEWS.MARK_CLICKED,i,r)};r.epubcfi=i,this.pane||(this.pane=new oo.Pane(this.iframe,this.element));let y=new oo.Underline(p,u,r,f),x=this.pane.addMark(y);return this.underlines[i]={mark:x,element:x.element,listeners:[v,s]},x.element.setAttribute("ref",u),x.element.addEventListener("click",v),x.element.addEventListener("touchstart",v),s&&(x.element.addEventListener("click",s),x.element.addEventListener("touchstart",s)),x}mark(i,r={},s){if(!this.contents)return;if(i in this.marks)return this.marks[i];let u=this.contents.range(i);if(!u)return;let c=u.commonAncestorContainer,f=c.nodeType===1?c:c.parentNode,p=y=>{this.emit(ht.VIEWS.MARK_CLICKED,i,r)};u.collapsed&&c.nodeType===1?(u=new Range,u.selectNodeContents(c)):u.collapsed&&(u=new Range,u.selectNodeContents(f));let v=this.document.createElement("a");return v.setAttribute("ref","epubjs-mk"),v.style.position="absolute",v.dataset.epubcfi=i,r&&Object.keys(r).forEach(y=>{v.dataset[y]=r[y]}),s&&(v.addEventListener("click",s),v.addEventListener("touchstart",s)),v.addEventListener("click",p),v.addEventListener("touchstart",p),this.placeMark(v,u),this.element.appendChild(v),this.marks[i]={element:v,range:u,listeners:[p,s]},f}placeMark(i,r){let s,u,c;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let p=r.getBoundingClientRect();s=p.top,u=p.right}else{let p=r.getClientRects(),v;for(var f=0;f!=p.length;f++)v=p[f],(!c||v.left<c)&&(c=v.left,u=Math.ceil(c/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,s=v.top)}i.style.top=`${s}px`,i.style.left=`${u}px`}unhighlight(i){let r;i in this.highlights&&(r=this.highlights[i],this.pane.removeMark(r.mark),r.listeners.forEach(s=>{s&&(r.element.removeEventListener("click",s),r.element.removeEventListener("touchstart",s))}),delete this.highlights[i])}ununderline(i){let r;i in this.underlines&&(r=this.underlines[i],this.pane.removeMark(r.mark),r.listeners.forEach(s=>{s&&(r.element.removeEventListener("click",s),r.element.removeEventListener("touchstart",s))}),delete this.underlines[i])}unmark(i){let r;i in this.marks&&(r=this.marks[i],this.element.removeChild(r.element),r.listeners.forEach(s=>{s&&(r.element.removeEventListener("click",s),r.element.removeEventListener("touchstart",s))}),delete this.marks[i])}destroy(){for(let i in this.highlights)this.unhighlight(i);for(let i in this.underlines)this.ununderline(i);for(let i in this.marks)this.unmark(i);this.blobUrl&&ig(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}mr(dg.prototype);function s2(){var D="reverse",i=u2();return document.body.appendChild(i),i.scrollLeft>0?D="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(i.children[0].children[1].scrollIntoView(),i.scrollLeft<0&&(D="negative")):(i.scrollLeft=1,i.scrollLeft===0&&(D="negative")),document.body.removeChild(i),D}function u2(){var D=document.createElement("div");D.dir="rtl",D.style.position="fixed",D.style.width="1px",D.style.height="1px",D.style.top="0px",D.style.left="0px",D.style.overflow="hidden";var i=document.createElement("div");i.style.width="2px";var r=document.createElement("span");r.style.width="1px",r.style.display="inline-block";var s=document.createElement("span");return s.style.width="1px",s.style.display="inline-block",i.appendChild(r),i.appendChild(s),D.appendChild(i),D}var Kf,Em;function Dh(){if(Em)return Kf;Em=1;function D(i){var r=typeof i;return i!=null&&(r=="object"||r=="function")}return Kf=D,Kf}var Zf,Sm;function l2(){if(Sm)return Zf;Sm=1;var D=typeof Hi=="object"&&Hi&&Hi.Object===Object&&Hi;return Zf=D,Zf}var Xf,Am;function pg(){if(Am)return Xf;Am=1;var D=l2(),i=typeof self=="object"&&self&&self.Object===Object&&self,r=D||i||Function("return this")();return Xf=r,Xf}var Qf,Dm;function o2(){if(Dm)return Qf;Dm=1;var D=pg(),i=function(){return D.Date.now()};return Qf=i,Qf}var Wf,Cm;function c2(){if(Cm)return Wf;Cm=1;var D=/\s/;function i(r){for(var s=r.length;s--&&D.test(r.charAt(s)););return s}return Wf=i,Wf}var Jf,Tm;function f2(){if(Tm)return Jf;Tm=1;var D=c2(),i=/^\s+/;function r(s){return s&&s.slice(0,D(s)+1).replace(i,"")}return Jf=r,Jf}var $f,Nm;function vg(){if(Nm)return $f;Nm=1;var D=pg(),i=D.Symbol;return $f=i,$f}var eh,Om;function h2(){if(Om)return eh;Om=1;var D=vg(),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,u=D?D.toStringTag:void 0;function c(f){var p=r.call(f,u),v=f[u];try{f[u]=void 0;var y=!0}catch{}var x=s.call(f);return y&&(p?f[u]=v:delete f[u]),x}return eh=c,eh}var th,Rm;function d2(){if(Rm)return th;Rm=1;var D=Object.prototype,i=D.toString;function r(s){return i.call(s)}return th=r,th}var nh,km;function p2(){if(km)return nh;km=1;var D=vg(),i=h2(),r=d2(),s="[object Null]",u="[object Undefined]",c=D?D.toStringTag:void 0;function f(p){return p==null?p===void 0?u:s:c&&c in Object(p)?i(p):r(p)}return nh=f,nh}var ih,Bm;function v2(){if(Bm)return ih;Bm=1;function D(i){return i!=null&&typeof i=="object"}return ih=D,ih}var rh,zm;function m2(){if(zm)return rh;zm=1;var D=p2(),i=v2(),r="[object Symbol]";function s(u){return typeof u=="symbol"||i(u)&&D(u)==r}return rh=s,rh}var ah,Lm;function g2(){if(Lm)return ah;Lm=1;var D=f2(),i=Dh(),r=m2(),s=NaN,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt;function v(y){if(typeof y=="number")return y;if(r(y))return s;if(i(y)){var x=typeof y.valueOf=="function"?y.valueOf():y;y=i(x)?x+"":x}if(typeof y!="string")return y===0?y:+y;y=D(y);var _=c.test(y);return _||f.test(y)?p(y.slice(2),_?2:8):u.test(y)?s:+y}return ah=v,ah}var sh,Mm;function mg(){if(Mm)return sh;Mm=1;var D=Dh(),i=o2(),r=g2(),s="Expected a function",u=Math.max,c=Math.min;function f(p,v,y){var x,_,O,T,H,B,w=0,A=!1,C=!1,j=!0;if(typeof p!="function")throw new TypeError(s);v=r(v)||0,D(y)&&(A=!!y.leading,C="maxWait"in y,O=C?u(r(y.maxWait)||0,v):O,j="trailing"in y?!!y.trailing:j);function F(Ce){var Ye=x,Le=_;return x=_=void 0,w=Ce,T=p.apply(Le,Ye),T}function k(Ce){return w=Ce,H=setTimeout(W,v),A?F(Ce):T}function I(Ce){var Ye=Ce-B,Le=Ce-w,ae=v-Ye;return C?c(ae,O-Le):ae}function G(Ce){var Ye=Ce-B,Le=Ce-w;return B===void 0||Ye>=v||Ye<0||C&&Le>=O}function W(){var Ce=i();if(G(Ce))return Q(Ce);H=setTimeout(W,I(Ce))}function Q(Ce){return H=void 0,j&&x?F(Ce):(x=_=void 0,T)}function J(){H!==void 0&&clearTimeout(H),w=0,x=B=_=H=void 0}function Ee(){return H===void 0?T:Q(i())}function ce(){var Ce=i(),Ye=G(Ce);if(x=arguments,_=this,B=Ce,Ye){if(H===void 0)return k(B);if(C)return clearTimeout(H),H=setTimeout(W,v),F(B)}return H===void 0&&(H=setTimeout(W,v)),T}return ce.cancel=J,ce.flush=Ee,ce}return sh=f,sh}var uh,jm;function y2(){if(jm)return uh;jm=1;var D=mg(),i=Dh(),r="Expected a function";function s(u,c,f){var p=!0,v=!0;if(typeof u!="function")throw new TypeError(r);return i(f)&&(p="leading"in f?!!f.leading:p,v="trailing"in f?!!f.trailing:v),D(u,c,{leading:p,maxWait:c,trailing:v})}return uh=s,uh}var b2=y2();const w2=Vr(b2);class _2{constructor(i){this.settings=i||{},this.id="epubjs-container-"+Ao(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(i){let r=i.height,s=i.width,u=i.overflow||!1,c=i.axis||"vertical",f=i.direction;di(this.settings,i),i.height&&Xn(i.height)&&(r=i.height+"px"),i.width&&Xn(i.width)&&(s=i.width+"px");let p=document.createElement("div");return p.id=this.id,p.classList.add("epub-container"),p.style.wordSpacing="0",p.style.lineHeight="0",p.style.verticalAlign="top",p.style.position="relative",c==="horizontal"&&(p.style.display="flex",p.style.flexDirection="row",p.style.flexWrap="nowrap"),s&&(p.style.width=s),r&&(p.style.height=r),u&&(u==="scroll"&&c==="vertical"?(p.style["overflow-y"]=u,p.style["overflow-x"]="hidden"):u==="scroll"&&c==="horizontal"?(p.style["overflow-y"]="hidden",p.style["overflow-x"]=u):p.style.overflow=u),f&&(p.dir=f,p.style.direction=f),f&&this.settings.fullsize&&(document.body.style.direction=f),p}wrap(i){var r=document.createElement("div");return r.style.visibility="hidden",r.style.overflow="hidden",r.style.width="0",r.style.height="0",r.appendChild(i),r}getElement(i){var r;if(Jm(i)?r=i:typeof i=="string"&&(r=document.getElementById(i)),!r)throw new Error("Not an Element");return r}attachTo(i){var r=this.getElement(i),s;if(r)return this.settings.hidden?s=this.wrapper:s=this.container,r.appendChild(s),this.element=r,r}getContainer(){return this.container}onResize(i){(!Xn(this.settings.width)||!Xn(this.settings.height))&&(this.resizeFunc=w2(i,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(i){this.orientationChangeFunc=i,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(i,r){var s;let u=i||this.settings.width,c=r||this.settings.height;i===null?(s=this.element.getBoundingClientRect(),s.width&&(i=Math.floor(s.width),this.container.style.width=i+"px")):Xn(i)?this.container.style.width=i+"px":this.container.style.width=i,r===null?(s=s||this.element.getBoundingClientRect(),s.height&&(r=s.height,this.container.style.height=r+"px")):Xn(r)?this.container.style.height=r+"px":this.container.style.height=r,Xn(i)||(i=this.container.clientWidth),Xn(r)||(r=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let f=yo(),p=window.getComputedStyle(document.body),v={left:parseFloat(p["padding-left"])||0,right:parseFloat(p["padding-right"])||0,top:parseFloat(p["padding-top"])||0,bottom:parseFloat(p["padding-bottom"])||0};return u||(i=f.width-v.left-v.right),(this.settings.fullsize&&!c||!c)&&(r=f.height-v.top-v.bottom),{width:i-this.containerPadding.left-this.containerPadding.right,height:r-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let i;return this.container.style.overflow!=="visible"&&(i=this.container&&this.container.getBoundingClientRect()),!i||!i.width||!i.height?yo():i}getSheet(){var i=document.createElement("style");return i.appendChild(document.createTextNode("")),document.head.appendChild(i),i.sheet}addStyleRules(i,r){var s="#"+this.id+" ",u="";this.sheet||(this.sheet=this.getSheet()),r.forEach(function(c){for(var f in c)c.hasOwnProperty(f)&&(u+=f+":"+c[f]+";")}),this.sheet.insertRule(s+i+" {"+u+"}",0)}axis(i){i==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=i}direction(i){this.container&&(this.container.dir=i,this.container.style.direction=i),this.settings.fullsize&&(document.body.style.direction=i),this.settings.dir=i}overflow(i){this.container&&(i==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=i,this.container.style["overflow-x"]="hidden"):i==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=i):this.container.style.overflow=i),this.settings.overflow=i}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class x2{constructor(i){this.container=i,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(i){return this._views.indexOf(i)}slice(){return this._views.slice.apply(this._views,arguments)}get(i){return this._views[i]}append(i){return this._views.push(i),this.container&&this.container.appendChild(i.element),this.length++,i}prepend(i){return this._views.unshift(i),this.container&&this.container.insertBefore(i.element,this.container.firstChild),this.length++,i}insert(i,r){return this._views.splice(r,0,i),this.container&&(r<this.container.children.length?this.container.insertBefore(i.element,this.container.children[r]):this.container.appendChild(i.element)),this.length++,i}remove(i){var r=this._views.indexOf(i);r>-1&&this._views.splice(r,1),this.destroy(i),this.length--}destroy(i){i.displayed&&i.destroy(),this.container&&this.container.removeChild(i.element),i=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var i,r=this.length;if(this.length){for(var s=0;s<r;s++)i=this._views[s],this.destroy(i);this._views=[],this.length=0}}find(i){for(var r,s=this.length,u=0;u<s;u++)if(r=this._views[u],r.displayed&&r.section.index==i.index)return r}displayed(){for(var i=[],r,s=this.length,u=0;u<s;u++)r=this._views[u],r.displayed&&i.push(r);return i}show(){for(var i,r=this.length,s=0;s<r;s++)i=this._views[s],i.displayed&&i.show();this.hidden=!1}hide(){for(var i,r=this.length,s=0;s<r;s++)i=this._views[s],i.displayed&&i.hide();this.hidden=!0}}class Eo{constructor(i){this.name="default",this.optsSettings=i.settings,this.View=i.view,this.request=i.request,this.renditionQueue=i.queue,this.q=new Sh(this),this.settings=di(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),di(this.settings,i.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(i,r){let s=i.tagName;typeof this.settings.fullsize>"u"&&s&&(s.toLowerCase()=="body"||s.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=r,this.settings.rtlScrollType=s2(),this.stage=new _2({width:r.width,height:r.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(i),this.container=this.stage.getContainer(),this.views=new x2(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var i;window.addEventListener("unload",(function(r){this.destroy()}).bind(this)),this.settings.fullsize?i=window:i=this.container,this._onScroll=this.onScroll.bind(this),i.addEventListener("scroll",this._onScroll)}removeEventListeners(){var i;this.settings.fullsize?i=window:i=this.container,i.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(i){let{orientation:r}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(ht.MANAGERS.ORIENTATION_CHANGE,r)}).bind(this),500)}onResized(i){this.resize()}resize(i,r,s){let u=this.stage.size(i,r);if(this.winBounds=yo(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===u.width&&this._stageSize.height===u.height||(this._stageSize=u,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(ht.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},s))}createView(i,r){return new this.View(i,di(this.viewSettings,{forceRight:r}))}handleNextPrePaginated(i,r,s){let u;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(i||r.index===0)return;if(u=r.next(),u&&!u.properties.includes("page-spread-left"))return s.call(this,u)}}display(i,r){var s=new vn,u=s.promise;(r===i.href||Xn(r))&&(r=void 0);var c=this.views.find(i);if(c&&i&&this.layout.name!=="pre-paginated"){let p=c.offset();if(this.settings.direction==="ltr")this.scrollTo(p.left,p.top,!0);else{let v=c.width();this.scrollTo(p.left+v,p.top,!0)}if(r){let v=c.locationOf(r),y=c.width();this.moveTo(v,y)}return s.resolve(),u}this.clear();let f=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&i.properties.includes("page-spread-right")&&(f=!0),this.add(i,f).then((function(p){if(r){let v=p.locationOf(r),y=p.width();this.moveTo(v,y)}}).bind(this),p=>{s.reject(p)}).then((function(){return this.handleNextPrePaginated(f,i,this.add)}).bind(this)).then((function(){this.views.show(),s.resolve()}).bind(this)),u}afterDisplayed(i){this.emit(ht.MANAGERS.ADDED,i)}afterResized(i){this.emit(ht.MANAGERS.RESIZE,i.section)}moveTo(i,r){var s=0,u=0;this.isPaginated?(s=Math.floor(i.left/this.layout.delta)*this.layout.delta,s+this.layout.delta>this.container.scrollWidth&&(s=this.container.scrollWidth-this.layout.delta),u=Math.floor(i.top/this.layout.delta)*this.layout.delta,u+this.layout.delta>this.container.scrollHeight&&(u=this.container.scrollHeight-this.layout.delta)):u=i.top,this.settings.direction==="rtl"&&(s=s+this.layout.delta,s=s-r),this.scrollTo(s,u,!0)}add(i,r){var s=this.createView(i,r);return this.views.append(s),s.onDisplayed=this.afterDisplayed.bind(this),s.onResize=this.afterResized.bind(this),s.on(ht.VIEWS.AXIS,u=>{this.updateAxis(u)}),s.on(ht.VIEWS.WRITING_MODE,u=>{this.updateWritingMode(u)}),s.display(this.request)}append(i,r){var s=this.createView(i,r);return this.views.append(s),s.onDisplayed=this.afterDisplayed.bind(this),s.onResize=this.afterResized.bind(this),s.on(ht.VIEWS.AXIS,u=>{this.updateAxis(u)}),s.on(ht.VIEWS.WRITING_MODE,u=>{this.updateWritingMode(u)}),s.display(this.request)}prepend(i,r){var s=this.createView(i,r);return s.on(ht.VIEWS.RESIZED,u=>{this.counter(u)}),this.views.prepend(s),s.onDisplayed=this.afterDisplayed.bind(this),s.onResize=this.afterResized.bind(this),s.on(ht.VIEWS.AXIS,u=>{this.updateAxis(u)}),s.on(ht.VIEWS.WRITING_MODE,u=>{this.updateWritingMode(u)}),s.display(this.request)}counter(i){this.settings.axis==="vertical"?this.scrollBy(0,i.heightDelta,!0):this.scrollBy(i.widthDelta,0,!0)}next(){var i,r;let s=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!s||s==="ltr")?(this.scrollLeft=this.container.scrollLeft,r=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,r<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):i=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&s==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(r=this.container.scrollLeft,r>0?this.scrollBy(this.layout.delta,0,!0):i=this.views.last().section.next()):(r=this.container.scrollLeft+this.layout.delta*-1,r>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):i=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):i=this.views.last().section.next()):i=this.views.last().section.next(),i)){this.clear(),this.updateLayout();let u=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&i.properties.includes("page-spread-right")&&(u=!0),this.append(i,u).then((function(){return this.handleNextPrePaginated(u,i,this.append)}).bind(this),c=>c).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var i,r;let s=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!s||s==="ltr")?(this.scrollLeft=this.container.scrollLeft,r=this.container.scrollLeft,r>0?this.scrollBy(-this.layout.delta,0,!0):i=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&s==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(r=this.container.scrollLeft+this.container.offsetWidth,r<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):i=this.views.first().section.prev()):(r=this.container.scrollLeft,r<0?this.scrollBy(-this.layout.delta,0,!0):i=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):i=this.views.first().section.prev()):i=this.views.first().section.prev(),i)){this.clear(),this.updateLayout();let u=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof i.prev()!="object"&&(u=!0),this.prepend(i,u).then((function(){var c;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(c=i.prev(),c))return this.prepend(c)}).bind(this),c=>c).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var i=this.visible();return i.length?i[i.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let i=this.visible(),r=this.container.getBoundingClientRect(),s=r.height<window.innerHeight?r.height:window.innerHeight,u=r.width<window.innerWidth?r.width:window.innerWidth,c=this.settings.axis==="vertical";this.settings.direction;let f=0,p=0;return this.settings.fullsize&&(f=c?window.scrollY:window.scrollX),i.map(y=>{let{index:x,href:_}=y.section,O=y.position(),T=y.width(),H=y.height(),B,w,A,C;c?(B=f+r.top-O.top+p,w=B+s-p,C=this.layout.count(H,s).pages,A=s):(B=f+r.left-O.left+p,w=B+u-p,C=this.layout.count(T,u).pages,A=u);let j=Math.ceil(B/A),F=[],k=Math.ceil(w/A);if(this.settings.direction==="rtl"&&!c){let W=j;j=C-k,k=C-W}F=[];for(var I=j;I<=k;I++){let W=I+1;F.push(W)}let G=this.mapping.page(y.contents,y.section.cfiBase,B,w);return{index:x,href:_,pages:F,totalPages:C,mapping:G}})}paginatedLocation(){let i=this.visible(),r=this.container.getBoundingClientRect(),s=0,u=0;return this.settings.fullsize&&(s=window.scrollX),i.map(f=>{let{index:p,href:v}=f.section,y,x=f.position(),_=f.width(),O,T,H;this.settings.direction==="rtl"?(y=r.right-s,H=Math.min(Math.abs(y-x.left),this.layout.width)-u,T=x.width-(x.right-y)-u,O=T-H):(y=r.left+s,H=Math.min(x.right-y,this.layout.width)-u,O=y-x.left+u,T=O+H),u+=H;let B=this.mapping.page(f.contents,f.section.cfiBase,O,T),w=this.layout.count(_).pages,A=Math.floor(O/this.layout.pageWidth),C=[],j=Math.floor(T/this.layout.pageWidth);if(A<0&&(A=0,j=j+1),this.settings.direction==="rtl"){let k=A;A=w-j,j=w-k}for(var F=A+1;F<=j;F++){let k=F;C.push(k)}return{index:p,href:v,pages:C,totalPages:w,mapping:B}})}isVisible(i,r,s,u){var c=i.position(),f=u||this.bounds();return this.settings.axis==="horizontal"&&c.right>f.left-r&&c.left<f.right+s?!0:this.settings.axis==="vertical"&&c.bottom>f.top-r&&c.top<f.bottom+s}visible(){for(var i=this.bounds(),r=this.views.displayed(),s=r.length,u=[],c,f,p=0;p<s;p++)f=r[p],c=this.isVisible(f,0,0,i),c===!0&&u.push(f);return u}scrollBy(i,r,s){let u=this.settings.direction==="rtl"?-1:1;s&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(i*u,r*u):(i&&(this.container.scrollLeft+=i*u),r&&(this.container.scrollTop+=r)),this.scrolled=!0}scrollTo(i,r,s){s&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(i,r):(this.container.scrollLeft=i,this.container.scrollTop=r),this.scrolled=!0}onScroll(){let i,r;this.settings.fullsize?(i=window.scrollY,r=window.scrollX):(i=this.container.scrollTop,r=this.container.scrollLeft),this.scrollTop=i,this.scrollLeft=r,this.ignore?this.ignore=!1:(this.emit(ht.MANAGERS.SCROLL,{top:i,left:r}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(ht.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var i;return i=this.stage.bounds(),i}applyLayout(i){this.layout=i,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(i){this.viewSettings.layout=i,this.mapping=new xo(i.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(r){r&&r.setLayout(i)})}updateWritingMode(i){this.writingMode=i}updateAxis(i,r){!r&&i===this.settings.axis||(this.settings.axis=i,this.stage&&this.stage.axis(i),this.viewSettings.axis=i,this.mapping&&(this.mapping=new xo(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(i==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(i,r="auto"){let s=i==="paginated"||i==="auto";this.isPaginated=s,i==="scrolled-doc"||i==="scrolled-continuous"||i==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=i,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=s?"hidden":r,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var i=[];return this.views&&this.views.forEach(function(r){const s=r&&r.contents;s&&i.push(s)}),i}direction(i="ltr"){this.settings.direction=i,this.stage&&this.stage.direction(i),this.viewSettings.direction=i,this.updateLayout()}isRendered(){return this.rendered}}mr(Eo.prototype);const E2={easeInCubic:function(D){return Math.pow(D,3)}};class mh{constructor(i,r){this.settings=di({duration:80,minVelocity:.2,minDistance:10,easing:E2.easeInCubic},r||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(i)}setup(i){this.manager=i,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(ht.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(ht.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(i){let r=i.contents;["touchstart","touchmove","touchend"].forEach(s=>{r.on(s,u=>this.triggerViewEvent(u,r))})}triggerViewEvent(i,r){this.emit(i.type,i,r)}onScroll(i){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(i){this.resizeCanceler=!0}onTouchStart(i){let{screenX:r,screenY:s}=i.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=r,this.startTouchY=s,this.startTime=this.now()),this.endTouchX=r,this.endTouchY=s,this.endTime=this.now()}onTouchMove(i){let{screenX:r,screenY:s}=i.touches[0],u=Math.abs(s-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&u<10&&(this.element.scrollLeft-=r-this.endTouchX),this.endTouchX=r,this.endTouchY=s,this.endTime=this.now()}onTouchEnd(i){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let r=this.wasSwiped();r!==0?this.snap(r):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let i=this.layout.pageWidth*this.layout.divisor,r=this.endTouchX-this.startTouchX,s=Math.abs(r),u=this.endTime-this.startTime,c=r/u,f=this.settings.minVelocity;if(s<=this.settings.minDistance||s>=i)return 0;if(c>f)return-1;if(c<-f)return 1}needsSnap(){let i=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor;return i%r!==0}snap(i=0){let r=this.scrollLeft,s=this.layout.pageWidth*this.layout.divisor,u=Math.round(r/s)*s;return i&&(u+=i*s),this.smoothScrollTo(u)}smoothScrollTo(i){const r=new vn,s=this.scrollLeft,u=this.now(),c=this.settings.duration,f=this.settings.easing;this.snapping=!0;function p(){const v=this.now(),y=Math.min(1,(v-u)/c);if(f(y),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,r.resolve();return}y<1?(window.requestAnimationFrame(p.bind(this)),this.scrollTo(s+(i-s)*y,0)):(this.scrollTo(i,0),this.snapping=!1,r.resolve())}return p.call(this),r.promise}scrollTo(i=0,r=0){this.fullsize?window.scroll(i,r):(this.scroller.scrollLeft=i,this.scroller.scrollTop=r)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}mr(mh.prototype);var S2=mg();const A2=Vr(S2);class D2 extends Eo{constructor(i){super(i),this.name="continuous",this.settings=di(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),di(this.settings,i.settings||{}),i.settings.gap!="undefined"&&i.settings.gap===0&&(this.settings.gap=i.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(i,r){return Eo.prototype.display.call(this,i,r).then((function(){return this.fill()}).bind(this))}fill(i){var r=i||new vn;return this.q.enqueue(()=>this.check()).then(s=>{s?this.fill(r):r.resolve()}),r.promise}moveTo(i){var r=0,s=0;this.isPaginated?(r=Math.floor(i.left/this.layout.delta)*this.layout.delta,r+this.settings.offsetDelta):(s=i.top,i.top+this.settings.offsetDelta),(r>0||s>0)&&this.scrollBy(r,s,!0)}afterResized(i){this.emit(ht.MANAGERS.RESIZE,i.section)}removeShownListeners(i){i.onDisplayed=function(){}}add(i){var r=this.createView(i);return this.views.append(r),r.on(ht.VIEWS.RESIZED,s=>{r.expanded=!0}),r.on(ht.VIEWS.AXIS,s=>{this.updateAxis(s)}),r.on(ht.VIEWS.WRITING_MODE,s=>{this.updateWritingMode(s)}),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.display(this.request)}append(i){var r=this.createView(i);return r.on(ht.VIEWS.RESIZED,s=>{r.expanded=!0}),r.on(ht.VIEWS.AXIS,s=>{this.updateAxis(s)}),r.on(ht.VIEWS.WRITING_MODE,s=>{this.updateWritingMode(s)}),this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r}prepend(i){var r=this.createView(i);return r.on(ht.VIEWS.RESIZED,s=>{this.counter(s),r.expanded=!0}),r.on(ht.VIEWS.AXIS,s=>{this.updateAxis(s)}),r.on(ht.VIEWS.WRITING_MODE,s=>{this.updateWritingMode(s)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r}counter(i){this.settings.axis==="vertical"?this.scrollBy(0,i.heightDelta,!0):this.scrollBy(i.widthDelta,0,!0)}update(i){for(var r=this.bounds(),s=this.views.all(),u=s.length,c=typeof i<"u"?i:this.settings.offset||0,f,p,v=new vn,y=[],x=0;x<u;x++)if(p=s[x],f=this.isVisible(p,c,c,r),f===!0)if(p.displayed)p.show();else{let _=p.display(this.request).then(function(O){O.show()},O=>{p.hide()});y.push(_)}else this.q.enqueue(p.destroy.bind(p)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return y.length?Promise.all(y).catch(_=>{v.reject(_)}):(v.resolve(),v.promise)}check(i,r){var s=new vn,u=[],c=this.settings.axis==="horizontal",f=this.settings.offset||0;i&&c&&(f=i),r&&!c&&(f=r);var p=this._bounds;let v=c?this.scrollLeft:this.scrollTop,y=c?Math.floor(p.width):p.height,x=c?this.container.scrollWidth:this.container.scrollHeight,_=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",O=this.settings.rtlScrollType,T=this.settings.direction==="rtl";this.settings.fullsize?(c&&T&&O==="negative"||!c&&T&&O==="default")&&(v=v*-1):(T&&O==="default"&&_==="horizontal"&&(v=x-y-v),T&&O==="negative"&&_==="horizontal"&&(v=v*-1));let H=()=>{let j=this.views.first(),F=j&&j.section.prev();F&&u.push(this.prepend(F))},B=()=>{let j=this.views.last(),F=j&&j.section.next();F&&u.push(this.append(F))},w=v+y+f,A=v-f;w>=x&&B(),A<0&&H();let C=u.map(j=>j.display(this.request));return u.length?Promise.all(C).then(()=>this.check()).then(()=>this.update(f),j=>j):(this.q.enqueue((function(){this.update()}).bind(this)),s.resolve(!1),s.promise)}trim(){for(var i=new vn,r=this.views.displayed(),s=r[0],u=r[r.length-1],c=this.views.indexOf(s),f=this.views.indexOf(u),p=this.views.slice(0,c),v=this.views.slice(f+1),y=0;y<p.length-1;y++)this.erase(p[y],p);for(var x=1;x<v.length;x++)this.erase(v[x]);return i.resolve(),i.promise}erase(i,r){var s,u;this.settings.fullsize?(s=window.scrollY,u=window.scrollX):(s=this.container.scrollTop,u=this.container.scrollLeft);var c=i.bounds();this.views.remove(i),r&&(this.settings.axis==="vertical"?this.scrollTo(0,s-c.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(u+Math.floor(c.width),0,!0):this.scrollTo(u,0,!0):this.scrollTo(u-Math.floor(c.width),0,!0))}addEventListeners(i){window.addEventListener("unload",(function(r){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new mh(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var i;this.tick=_h;let r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(i=window,this.scrollTop=window.scrollY*r,this.scrollLeft=window.scrollX*r):(i=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),i.addEventListener("scroll",this._onScroll),this._scrolled=A2(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var i;this.settings.fullsize?i=window:i=this.container,i.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let i,r,s=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(i=window.scrollY*s,r=window.scrollX*s):(i=this.container.scrollTop,r=this.container.scrollLeft),this.scrollTop=i,this.scrollLeft=r,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(i-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(r-this.prevScrollLeft),this.prevScrollTop=i,this.prevScrollLeft=r,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(ht.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(ht.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let i=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(i,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let i=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-i,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(i){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(i,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new mh(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class Ch{constructor(i,r){this.settings=di(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),di(this.settings,r),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=i,this.hooks={},this.hooks.display=new sr(this),this.hooks.serialize=new sr(this),this.hooks.content=new sr(this),this.hooks.unloaded=new sr(this),this.hooks.layout=new sr(this),this.hooks.render=new sr(this),this.hooks.show=new sr(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new $y(this),this.annotations=new n2(this),this.epubcfi=new mn,this.q=new Sh(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new vn,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(i){this.manager=i}requireManager(i){var r;return typeof i=="string"&&i==="default"?r=Eo:typeof i=="string"&&i==="continuous"?r=D2:r=i,r}requireView(i){var r;return typeof i=="string"&&i==="iframe"?r=dg:r=i,r}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(ht.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(ht.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(ht.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(ht.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(ht.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(ht.RENDITION.STARTED),this.starting.resolve()}attachTo(i){return this.q.enqueue((function(){this.manager.render(i,{width:this.settings.width,height:this.settings.height}),this.emit(ht.RENDITION.ATTACHED)}).bind(this))}display(i){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,i)}_display(i){if(this.book){this.epubcfi.isCfiString(i);var r=new vn,s=r.promise,u;return this.displaying=r,this.book.locations.length()&&$m(i)&&(i=this.book.locations.cfiFromPercentage(parseFloat(i))),u=this.book.spine.get(i),u?(this.manager.display(u,i).then(()=>{r.resolve(u),this.displaying=void 0,this.emit(ht.RENDITION.DISPLAYED,u),this.reportLocation()},c=>{this.emit(ht.RENDITION.DISPLAY_ERROR,c)}),s):(r.reject(new Error("No Section Found")),s)}}afterDisplayed(i){i.on(ht.VIEWS.MARK_CLICKED,(r,s)=>this.triggerMarkEvent(r,s,i.contents)),this.hooks.render.trigger(i,this).then(()=>{i.contents?this.hooks.content.trigger(i.contents,this).then(()=>{this.emit(ht.RENDITION.RENDERED,i.section,i)}):this.emit(ht.RENDITION.RENDERED,i.section,i)})}afterRemoved(i){this.hooks.unloaded.trigger(i,this).then(()=>{this.emit(ht.RENDITION.REMOVED,i.section,i)})}onResized(i,r){this.emit(ht.RENDITION.RESIZED,{width:i.width,height:i.height},r),this.location&&this.location.start&&this.display(r||this.location.start.cfi)}onOrientationChange(i){this.emit(ht.RENDITION.ORIENTATION_CHANGE,i)}moveTo(i){this.manager.moveTo(i)}resize(i,r,s){i&&(this.settings.width=i),r&&(this.settings.height=r),this.manager.resize(i,r,s)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(i){var r,s=this.settings.layout||i.layout||"reflowable",u=this.settings.spread||i.spread||"auto",c=this.settings.orientation||i.orientation||"auto",f=this.settings.flow||i.flow||"auto",p=i.viewport||"",v=this.settings.minSpreadWidth||i.minSpreadWidth||800,y=this.settings.direction||i.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),r={layout:s,spread:u,orientation:c,flow:f,viewport:p,minSpreadWidth:v,direction:y},r}flow(i){var r=i;(i==="scrolled"||i==="scrolled-doc"||i==="scrolled-continuous")&&(r="scrolled"),(i==="auto"||i==="paginated")&&(r="paginated"),this.settings.flow=i,this._layout&&this._layout.flow(r),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(r),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(i){return i&&(this._layout=new cg(i),this._layout.spread(i.spread,this.settings.minSpreadWidth),this._layout.on(ht.LAYOUT.UPDATED,(r,s)=>{this.emit(ht.RENDITION.LAYOUT,r,s)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(i,r){this.settings.spread=i,r&&(this.settings.minSpreadWidth=r),this._layout&&this._layout.spread(i,r),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(i){this.settings.direction=i||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var s=this.manager.currentLocation();if(s&&s.then&&typeof s.then=="function")s.then((function(u){let c=this.located(u);!c||!c.start||!c.end||(this.location=c,this.emit(ht.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(ht.RENDITION.RELOCATED,this.location))}).bind(this));else if(s){let u=this.located(s);if(!u||!u.start||!u.end)return;this.location=u,this.emit(ht.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(ht.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var i=this.manager.currentLocation();if(i&&i.then&&typeof i.then=="function")i.then((function(r){return this.located(r)}).bind(this));else if(i)return this.located(i)}located(i){if(!i.length)return{};let r=i[0],s=i[i.length-1],u={start:{index:r.index,href:r.href,cfi:r.mapping.start,displayed:{page:r.pages[0]||1,total:r.totalPages}},end:{index:s.index,href:s.href,cfi:s.mapping.end,displayed:{page:s.pages[s.pages.length-1]||1,total:s.totalPages}}},c=this.book.locations.locationFromCfi(r.mapping.start),f=this.book.locations.locationFromCfi(s.mapping.end);c!=null&&(u.start.location=c,u.start.percentage=this.book.locations.percentageFromLocation(c)),f!=null&&(u.end.location=f,u.end.percentage=this.book.locations.percentageFromLocation(f));let p=this.book.pageList.pageFromCfi(r.mapping.start),v=this.book.pageList.pageFromCfi(s.mapping.end);return p!=-1&&(u.start.page=p),v!=-1&&(u.end.page=v),s.index===this.book.spine.last().index&&u.end.displayed.page>=u.end.displayed.total&&(u.atEnd=!0),r.index===this.book.spine.first().index&&u.start.displayed.page===1&&(u.atStart=!0),u}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(i){ho.forEach(r=>{i.on(r,s=>this.triggerViewEvent(s,i))}),i.on(ht.CONTENTS.SELECTED,r=>this.triggerSelectedEvent(r,i))}triggerViewEvent(i,r){this.emit(i.type,i,r)}triggerSelectedEvent(i,r){this.emit(ht.RENDITION.SELECTED,i,r)}triggerMarkEvent(i,r,s){this.emit(ht.RENDITION.MARK_CLICKED,i,r,s)}getRange(i,r){var s=new mn(i),u=this.manager.visible().filter(function(c){if(s.spinePos===c.index)return!0});if(u.length)return u[0].contents.range(s,r)}adjustImages(i){if(this._layout.name==="pre-paginated")return new Promise(function(c){c()});let r=i.window.getComputedStyle(i.content,null),s=(i.content.offsetHeight-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)))*.95,u=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight);return i.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-u+"px":"100%")+"!important","max-height":s+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-u+"px":"100%")+"!important","max-height":s+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(c,f){setTimeout(function(){c()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(i){i&&i.on(ht.CONTENTS.LINK_CLICKED,r=>{let s=this.book.path.relative(r);this.display(s)})}injectStylesheet(i,r){let s=i.createElement("link");s.setAttribute("type","text/css"),s.setAttribute("rel","stylesheet"),s.setAttribute("href",this.settings.stylesheet),i.getElementsByTagName("head")[0].appendChild(s)}injectScript(i,r){let s=i.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("src",this.settings.script),s.textContent=" ",i.getElementsByTagName("head")[0].appendChild(s)}injectIdentifier(i,r){let s=this.book.packaging.metadata.identifier,u=i.createElement("meta");u.setAttribute("name","dc.relation.ispartof"),s&&u.setAttribute("content",s),i.getElementsByTagName("head")[0].appendChild(u)}}mr(Ch.prototype);function Da(D){throw new Error('Could not dynamically require "'+D+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var lh={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Um;function C2(){return Um||(Um=1,(function(D,i){(function(r){D.exports=r()})(function(){return(function r(s,u,c){function f(y,x){if(!u[y]){if(!s[y]){var _=typeof Da=="function"&&Da;if(!x&&_)return _(y,!0);if(p)return p(y,!0);var O=new Error("Cannot find module '"+y+"'");throw O.code="MODULE_NOT_FOUND",O}var T=u[y]={exports:{}};s[y][0].call(T.exports,function(H){var B=s[y][1][H];return f(B||H)},T,T.exports,r,s,u,c)}return u[y].exports}for(var p=typeof Da=="function"&&Da,v=0;v<c.length;v++)f(c[v]);return f})({1:[function(r,s,u){var c=r("./utils"),f=r("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(v){for(var y=[],x,_,O,T,H,B,w,A=0,C=v.length,j=C,F=c.getTypeOf(v)!=="string";A<v.length;)j=C-A,F?(x=v[A++],_=A<C?v[A++]:0,O=A<C?v[A++]:0):(x=v.charCodeAt(A++),_=A<C?v.charCodeAt(A++):0,O=A<C?v.charCodeAt(A++):0),T=x>>2,H=(x&3)<<4|_>>4,B=j>1?(_&15)<<2|O>>6:64,w=j>2?O&63:64,y.push(p.charAt(T)+p.charAt(H)+p.charAt(B)+p.charAt(w));return y.join("")},u.decode=function(v){var y,x,_,O,T,H,B,w=0,A=0,C="data:";if(v.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");v=v.replace(/[^A-Za-z0-9+/=]/g,"");var j=v.length*3/4;if(v.charAt(v.length-1)===p.charAt(64)&&j--,v.charAt(v.length-2)===p.charAt(64)&&j--,j%1!==0)throw new Error("Invalid base64 input, bad content length.");var F;for(f.uint8array?F=new Uint8Array(j|0):F=new Array(j|0);w<v.length;)O=p.indexOf(v.charAt(w++)),T=p.indexOf(v.charAt(w++)),H=p.indexOf(v.charAt(w++)),B=p.indexOf(v.charAt(w++)),y=O<<2|T>>4,x=(T&15)<<4|H>>2,_=(H&3)<<6|B,F[A++]=y,H!==64&&(F[A++]=x),B!==64&&(F[A++]=_);return F}},{"./support":30,"./utils":32}],2:[function(r,s,u){var c=r("./external"),f=r("./stream/DataWorker"),p=r("./stream/Crc32Probe"),v=r("./stream/DataLengthProbe");function y(x,_,O,T,H){this.compressedSize=x,this.uncompressedSize=_,this.crc32=O,this.compression=T,this.compressedContent=H}y.prototype={getContentWorker:function(){var x=new f(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),_=this;return x.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new f(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(x,_,O){return x.pipe(new p).pipe(new v("uncompressedSize")).pipe(_.compressWorker(O)).pipe(new v("compressedSize")).withStreamInfo("compression",_)},s.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,s,u){var c=r("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},u.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,s,u){var c=r("./utils");function f(){for(var x,_=[],O=0;O<256;O++){x=O;for(var T=0;T<8;T++)x=x&1?3988292384^x>>>1:x>>>1;_[O]=x}return _}var p=f();function v(x,_,O,T){var H=p,B=T+O;x=x^-1;for(var w=T;w<B;w++)x=x>>>8^H[(x^_[w])&255];return x^-1}function y(x,_,O,T){var H=p,B=T+O;x=x^-1;for(var w=T;w<B;w++)x=x>>>8^H[(x^_.charCodeAt(w))&255];return x^-1}s.exports=function(_,O){if(typeof _>"u"||!_.length)return 0;var T=c.getTypeOf(_)!=="string";return T?v(O|0,_,_.length,0):y(O|0,_,_.length,0)}},{"./utils":32}],5:[function(r,s,u){u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(r,s,u){var c=null;typeof Promise<"u"?c=Promise:c=r("lie"),s.exports={Promise:c}},{lie:37}],7:[function(r,s,u){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=r("pako"),p=r("./utils"),v=r("./stream/GenericWorker"),y=c?"uint8array":"array";u.magic="\b\0";function x(_,O){v.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=O,this.meta={}}p.inherits(x,v),x.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(y,_.data),!1)},x.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(O){_.push({data:O,meta:_.meta})}},u.compressWorker=function(_){return new x("Deflate",_)},u.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,s,u){var c=r("../utils"),f=r("../stream/GenericWorker"),p=r("../utf8"),v=r("../crc32"),y=r("../signature"),x=function(A,C){var j="",F;for(F=0;F<C;F++)j+=String.fromCharCode(A&255),A=A>>>8;return j},_=function(A,C){var j=A;return A||(j=C?16893:33204),(j&65535)<<16},O=function(A){return(A||0)&63},T=function(A,C,j,F,k,I){var G=A.file,W=A.compression,Q=I!==p.utf8encode,J=c.transformTo("string",I(G.name)),Ee=c.transformTo("string",p.utf8encode(G.name)),ce=G.comment,Ce=c.transformTo("string",I(ce)),Ye=c.transformTo("string",p.utf8encode(ce)),Le=Ee.length!==G.name.length,ae=Ye.length!==ce.length,be,Se,Ie="",nt="",V="",pe=G.dir,Pe=G.date,Me={crc32:0,compressedSize:0,uncompressedSize:0};(!C||j)&&(Me.crc32=A.crc32,Me.compressedSize=A.compressedSize,Me.uncompressedSize=A.uncompressedSize);var it=0;C&&(it|=8),!Q&&(Le||ae)&&(it|=2048);var ut=0,vt=0;pe&&(ut|=16),k==="UNIX"?(vt=798,ut|=_(G.unixPermissions,pe)):(vt=20,ut|=O(G.dosPermissions)),be=Pe.getUTCHours(),be=be<<6,be=be|Pe.getUTCMinutes(),be=be<<5,be=be|Pe.getUTCSeconds()/2,Se=Pe.getUTCFullYear()-1980,Se=Se<<4,Se=Se|Pe.getUTCMonth()+1,Se=Se<<5,Se=Se|Pe.getUTCDate(),Le&&(nt=x(1,1)+x(v(J),4)+Ee,Ie+="up"+x(nt.length,2)+nt),ae&&(V=x(1,1)+x(v(Ce),4)+Ye,Ie+="uc"+x(V.length,2)+V);var ct="";ct+=`
\0`,ct+=x(it,2),ct+=W.magic,ct+=x(be,2),ct+=x(Se,2),ct+=x(Me.crc32,4),ct+=x(Me.compressedSize,4),ct+=x(Me.uncompressedSize,4),ct+=x(J.length,2),ct+=x(Ie.length,2);var At=y.LOCAL_FILE_HEADER+ct+J+Ie,$e=y.CENTRAL_FILE_HEADER+x(vt,2)+ct+x(Ce.length,2)+"\0\0\0\0"+x(ut,4)+x(F,4)+J+Ie+Ce;return{fileRecord:At,dirRecord:$e}},H=function(A,C,j,F,k){var I="",G=c.transformTo("string",k(F));return I=y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+x(A,2)+x(A,2)+x(C,4)+x(j,4)+x(G.length,2)+G,I},B=function(A){var C="";return C=y.DATA_DESCRIPTOR+x(A.crc32,4)+x(A.compressedSize,4)+x(A.uncompressedSize,4),C};function w(A,C,j,F){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=C,this.zipPlatform=j,this.encodeFileName=F,this.streamFiles=A,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(w,f),w.prototype.push=function(A){var C=A.meta.percent||0,j=this.entriesCount,F=this._sources.length;this.accumulate?this.contentBuffer.push(A):(this.bytesWritten+=A.data.length,f.prototype.push.call(this,{data:A.data,meta:{currentFile:this.currentFile,percent:j?(C+100*(j-F-1))/j:100}}))},w.prototype.openedSource=function(A){this.currentSourceOffset=this.bytesWritten,this.currentFile=A.file.name;var C=this.streamFiles&&!A.file.dir;if(C){var j=T(A,C,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:j.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(A){this.accumulate=!1;var C=this.streamFiles&&!A.file.dir,j=T(A,C,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(j.dirRecord),C)this.push({data:B(A),meta:{percent:100}});else for(this.push({data:j.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var A=this.bytesWritten,C=0;C<this.dirRecords.length;C++)this.push({data:this.dirRecords[C],meta:{percent:100}});var j=this.bytesWritten-A,F=H(this.dirRecords.length,j,A,this.zipComment,this.encodeFileName);this.push({data:F,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(A){this._sources.push(A);var C=this;return A.on("data",function(j){C.processChunk(j)}),A.on("end",function(){C.closedSource(C.previous.streamInfo),C._sources.length?C.prepareNextSource():C.end()}),A.on("error",function(j){C.error(j)}),this},w.prototype.resume=function(){if(!f.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},w.prototype.error=function(A){var C=this._sources;if(!f.prototype.error.call(this,A))return!1;for(var j=0;j<C.length;j++)try{C[j].error(A)}catch{}return!0},w.prototype.lock=function(){f.prototype.lock.call(this);for(var A=this._sources,C=0;C<A.length;C++)A[C].lock()},s.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,s,u){var c=r("../compressions"),f=r("./ZipFileWorker"),p=function(v,y){var x=v||y,_=c[x];if(!_)throw new Error(x+" is not a valid compression method !");return _};u.generateWorker=function(v,y,x){var _=new f(y.streamFiles,x,y.platform,y.encodeFileName),O=0;try{v.forEach(function(T,H){O++;var B=p(H.options.compression,y.compression),w=H.options.compressionOptions||y.compressionOptions||{},A=H.dir,C=H.date;H._compressWorker(B,w).withStreamInfo("file",{name:T,dir:A,date:C,comment:H.comment||"",unixPermissions:H.unixPermissions,dosPermissions:H.dosPermissions}).pipe(_)}),_.entriesCount=O}catch(T){_.error(T)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,s,u){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new c;for(var p in this)typeof this[p]!="function"&&(f[p]=this[p]);return f}}c.prototype=r("./object"),c.prototype.loadAsync=r("./load"),c.support=r("./support"),c.defaults=r("./defaults"),c.version="3.10.1",c.loadAsync=function(f,p){return new c().loadAsync(f,p)},c.external=r("./external"),s.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,s,u){var c=r("./utils"),f=r("./external"),p=r("./utf8"),v=r("./zipEntries"),y=r("./stream/Crc32Probe"),x=r("./nodejsUtils");function _(O){return new f.Promise(function(T,H){var B=O.decompressed.getContentWorker().pipe(new y);B.on("error",function(w){H(w)}).on("end",function(){B.streamInfo.crc32!==O.decompressed.crc32?H(new Error("Corrupted zip : CRC32 mismatch")):T()}).resume()})}s.exports=function(O,T){var H=this;return T=c.extend(T||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),x.isNode&&x.isStream(O)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",O,!0,T.optimizedBinaryString,T.base64).then(function(B){var w=new v(T);return w.load(B),w}).then(function(w){var A=[f.Promise.resolve(w)],C=w.files;if(T.checkCRC32)for(var j=0;j<C.length;j++)A.push(_(C[j]));return f.Promise.all(A)}).then(function(w){for(var A=w.shift(),C=A.files,j=0;j<C.length;j++){var F=C[j],k=F.fileNameStr,I=c.resolve(F.fileNameStr);H.file(I,F.decompressed,{binary:!0,optimizedBinaryString:!0,date:F.date,dir:F.dir,comment:F.fileCommentStr.length?F.fileCommentStr:null,unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions,createFolders:T.createFolders}),F.dir||(H.file(I).unsafeOriginalName=k)}return A.zipComment.length&&(H.comment=A.zipComment),H})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,s,u){var c=r("../utils"),f=r("../stream/GenericWorker");function p(v,y){f.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(y)}c.inherits(p,f),p.prototype._bindStream=function(v){var y=this;this._stream=v,v.pause(),v.on("data",function(x){y.push({data:x,meta:{percent:0}})}).on("error",function(x){y.isPaused?this.generatedError=x:y.error(x)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},p.prototype.pause=function(){return f.prototype.pause.call(this)?(this._stream.pause(),!0):!1},p.prototype.resume=function(){return f.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},s.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,s,u){var c=r("readable-stream").Readable,f=r("../utils");f.inherits(p,c);function p(v,y,x){c.call(this,y),this._helper=v;var _=this;v.on("data",function(O,T){_.push(O)||_._helper.pause(),x&&x(T)}).on("error",function(O){_.emit("error",O)}).on("end",function(){_.push(null)})}p.prototype._read=function(){this._helper.resume()},s.exports=p},{"../utils":32,"readable-stream":16}],14:[function(r,s,u){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,f);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,f)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var f=new Buffer(c);return f.fill(0),f},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(r,s,u){var c=r("./utf8"),f=r("./utils"),p=r("./stream/GenericWorker"),v=r("./stream/StreamHelper"),y=r("./defaults"),x=r("./compressedObject"),_=r("./zipObject"),O=r("./generate"),T=r("./nodejsUtils"),H=r("./nodejs/NodejsStreamInputAdapter"),B=function(k,I,G){var W=f.getTypeOf(I),Q,J=f.extend(G||{},y);J.date=J.date||new Date,J.compression!==null&&(J.compression=J.compression.toUpperCase()),typeof J.unixPermissions=="string"&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&J.unixPermissions&16384&&(J.dir=!0),J.dosPermissions&&J.dosPermissions&16&&(J.dir=!0),J.dir&&(k=A(k)),J.createFolders&&(Q=w(k))&&C.call(this,Q,!0);var Ee=W==="string"&&J.binary===!1&&J.base64===!1;(!G||typeof G.binary>"u")&&(J.binary=!Ee);var ce=I instanceof x&&I.uncompressedSize===0;(ce||J.dir||!I||I.length===0)&&(J.base64=!1,J.binary=!0,I="",J.compression="STORE",W="string");var Ce=null;I instanceof x||I instanceof p?Ce=I:T.isNode&&T.isStream(I)?Ce=new H(k,I):Ce=f.prepareContent(k,I,J.binary,J.optimizedBinaryString,J.base64);var Ye=new _(k,Ce,J);this.files[k]=Ye},w=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var I=k.lastIndexOf("/");return I>0?k.substring(0,I):""},A=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},C=function(k,I){return I=typeof I<"u"?I:y.createFolders,k=A(k),this.files[k]||B.call(this,k,null,{dir:!0,createFolders:I}),this.files[k]};function j(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var I,G,W;for(I in this.files)W=this.files[I],G=I.slice(this.root.length,I.length),G&&I.slice(0,this.root.length)===this.root&&k(G,W)},filter:function(k){var I=[];return this.forEach(function(G,W){k(G,W)&&I.push(W)}),I},file:function(k,I,G){if(arguments.length===1)if(j(k)){var W=k;return this.filter(function(J,Ee){return!Ee.dir&&W.test(J)})}else{var Q=this.files[this.root+k];return Q&&!Q.dir?Q:null}else k=this.root+k,B.call(this,k,I,G);return this},folder:function(k){if(!k)return this;if(j(k))return this.filter(function(Q,J){return J.dir&&k.test(Q)});var I=this.root+k,G=C.call(this,I),W=this.clone();return W.root=G.name,W},remove:function(k){k=this.root+k;var I=this.files[k];if(I||(k.slice(-1)!=="/"&&(k+="/"),I=this.files[k]),I&&!I.dir)delete this.files[k];else for(var G=this.filter(function(Q,J){return J.name.slice(0,k.length)===k}),W=0;W<G.length;W++)delete this.files[G[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var I,G={};try{if(G=f.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode}),G.type=G.type.toLowerCase(),G.compression=G.compression.toUpperCase(),G.type==="binarystring"&&(G.type="string"),!G.type)throw new Error("No output type specified.");f.checkSupport(G.type),(G.platform==="darwin"||G.platform==="freebsd"||G.platform==="linux"||G.platform==="sunos")&&(G.platform="UNIX"),G.platform==="win32"&&(G.platform="DOS");var W=G.comment||this.comment||"";I=O.generateWorker(this,G,W)}catch(Q){I=new p("error"),I.error(Q)}return new v(I,G.type||"string",G.mimeType)},generateAsync:function(k,I){return this.generateInternalStream(k).accumulate(I)},generateNodeStream:function(k,I){return k=k||{},k.type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(I)}};s.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,s,u){s.exports=r("stream")},{stream:void 0}],17:[function(r,s,u){var c=r("./DataReader"),f=r("../utils");function p(v){c.call(this,v);for(var y=0;y<this.data.length;y++)v[y]=v[y]&255}f.inherits(p,c),p.prototype.byteAt=function(v){return this.data[this.zero+v]},p.prototype.lastIndexOfSignature=function(v){for(var y=v.charCodeAt(0),x=v.charCodeAt(1),_=v.charCodeAt(2),O=v.charCodeAt(3),T=this.length-4;T>=0;--T)if(this.data[T]===y&&this.data[T+1]===x&&this.data[T+2]===_&&this.data[T+3]===O)return T-this.zero;return-1},p.prototype.readAndCheckSignature=function(v){var y=v.charCodeAt(0),x=v.charCodeAt(1),_=v.charCodeAt(2),O=v.charCodeAt(3),T=this.readData(4);return y===T[0]&&x===T[1]&&_===T[2]&&O===T[3]},p.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,y},s.exports=p},{"../utils":32,"./DataReader":18}],18:[function(r,s,u){var c=r("../utils");function f(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var v=0,y;for(this.checkOffset(p),y=this.index+p-1;y>=this.index;y--)v=(v<<8)+this.byteAt(y);return this.index+=p,v},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC((p>>25&127)+1980,(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(p&31)<<1))}},s.exports=f},{"../utils":32}],19:[function(r,s,u){var c=r("./Uint8ArrayReader"),f=r("../utils");function p(v){c.call(this,v)}f.inherits(p,c),p.prototype.readData=function(v){this.checkOffset(v);var y=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,y},s.exports=p},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,s,u){var c=r("./DataReader"),f=r("../utils");function p(v){c.call(this,v)}f.inherits(p,c),p.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},p.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},p.prototype.readAndCheckSignature=function(v){var y=this.readData(4);return v===y},p.prototype.readData=function(v){this.checkOffset(v);var y=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,y},s.exports=p},{"../utils":32,"./DataReader":18}],21:[function(r,s,u){var c=r("./ArrayReader"),f=r("../utils");function p(v){c.call(this,v)}f.inherits(p,c),p.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,y},s.exports=p},{"../utils":32,"./ArrayReader":17}],22:[function(r,s,u){var c=r("../utils"),f=r("../support"),p=r("./ArrayReader"),v=r("./StringReader"),y=r("./NodeBufferReader"),x=r("./Uint8ArrayReader");s.exports=function(_){var O=c.getTypeOf(_);return c.checkSupport(O),O==="string"&&!f.uint8array?new v(_):O==="nodebuffer"?new y(_):f.uint8array?new x(c.transformTo("uint8array",_)):new p(c.transformTo("array",_))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,s,u){u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,s,u){var c=r("./GenericWorker"),f=r("../utils");function p(v){c.call(this,"ConvertWorker to "+v),this.destType=v}f.inherits(p,c),p.prototype.processChunk=function(v){this.push({data:f.transformTo(this.destType,v.data),meta:v.meta})},s.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(r,s,u){var c=r("./GenericWorker"),f=r("../crc32"),p=r("../utils");function v(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}p.inherits(v,c),v.prototype.processChunk=function(y){this.streamInfo.crc32=f(y.data,this.streamInfo.crc32||0),this.push(y)},s.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,s,u){var c=r("../utils"),f=r("./GenericWorker");function p(v){f.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}c.inherits(p,f),p.prototype.processChunk=function(v){if(v){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+v.data.length}f.prototype.processChunk.call(this,v)},s.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(r,s,u){var c=r("../utils"),f=r("./GenericWorker"),p=16*1024;function v(y){f.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(_){x.dataIsReady=!0,x.data=_,x.max=_&&_.length||0,x.type=c.getTypeOf(_),x.isPaused||x._tickAndRepeat()},function(_){x.error(_)})}c.inherits(v,f),v.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return f.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0):!1},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=p,x=null,_=Math.min(this.max,this.index+y);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,_);break;case"uint8array":x=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":x=this.data.slice(this.index,_);break}return this.index=_,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(r,s,u){function c(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return this.isFinished?!1:(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,p){return this._listeners[f].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,p){if(this._listeners[f])for(var v=0;v<this._listeners[f].length;v++)this._listeners[f][v].call(this,p)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var p=this;return f.on("data",function(v){p.processChunk(v)}),f.on("end",function(){p.end()}),f.on("error",function(v){p.error(v)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var f=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,p){return this.extraStreamInfo[f]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},s.exports=c},{}],29:[function(r,s,u){var c=r("../utils"),f=r("./ConvertWorker"),p=r("./GenericWorker"),v=r("../base64"),y=r("../support"),x=r("../external"),_=null;if(y.nodestream)try{_=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function O(w,A,C){switch(w){case"blob":return c.newBlob(c.transformTo("arraybuffer",A),C);case"base64":return v.encode(A);default:return c.transformTo(w,A)}}function T(w,A){var C,j=0,F=null,k=0;for(C=0;C<A.length;C++)k+=A[C].length;switch(w){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(F=new Uint8Array(k),C=0;C<A.length;C++)F.set(A[C],j),j+=A[C].length;return F;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+w+"'")}}function H(w,A){return new x.Promise(function(C,j){var F=[],k=w._internalType,I=w._outputType,G=w._mimeType;w.on("data",function(W,Q){F.push(W),A&&A(Q)}).on("error",function(W){F=[],j(W)}).on("end",function(){try{var W=O(I,T(k,F),G);C(W)}catch(Q){j(Q)}F=[]}).resume()})}function B(w,A,C){var j=A;switch(A){case"blob":case"arraybuffer":j="uint8array";break;case"base64":j="string";break}try{this._internalType=j,this._outputType=A,this._mimeType=C,c.checkSupport(j),this._worker=w.pipe(new f(j)),w.lock()}catch(F){this._worker=new p("error"),this._worker.error(F)}}B.prototype={accumulate:function(w){return H(this,w)},on:function(w,A){var C=this;return w==="data"?this._worker.on(w,function(j){A.call(C,j.data,j.meta)}):this._worker.on(w,function(){c.delay(A,arguments,C)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},w)}},s.exports=B},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,s,u){if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=typeof Buffer<"u",u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var c=new ArrayBuffer(0);try{u.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var f=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,p=new f;p.append(c),u.blob=p.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!r("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(r,s,u){for(var c=r("./utils"),f=r("./support"),p=r("./nodejsUtils"),v=r("./stream/GenericWorker"),y=new Array(256),x=0;x<256;x++)y[x]=x>=252?6:x>=248?5:x>=240?4:x>=224?3:x>=192?2:1;y[254]=y[254]=1;var _=function(w){var A,C,j,F,k,I=w.length,G=0;for(F=0;F<I;F++)C=w.charCodeAt(F),(C&64512)===55296&&F+1<I&&(j=w.charCodeAt(F+1),(j&64512)===56320&&(C=65536+(C-55296<<10)+(j-56320),F++)),G+=C<128?1:C<2048?2:C<65536?3:4;for(f.uint8array?A=new Uint8Array(G):A=new Array(G),k=0,F=0;k<G;F++)C=w.charCodeAt(F),(C&64512)===55296&&F+1<I&&(j=w.charCodeAt(F+1),(j&64512)===56320&&(C=65536+(C-55296<<10)+(j-56320),F++)),C<128?A[k++]=C:C<2048?(A[k++]=192|C>>>6,A[k++]=128|C&63):C<65536?(A[k++]=224|C>>>12,A[k++]=128|C>>>6&63,A[k++]=128|C&63):(A[k++]=240|C>>>18,A[k++]=128|C>>>12&63,A[k++]=128|C>>>6&63,A[k++]=128|C&63);return A},O=function(w,A){var C;for(A=A||w.length,A>w.length&&(A=w.length),C=A-1;C>=0&&(w[C]&192)===128;)C--;return C<0||C===0?A:C+y[w[C]]>A?C:A},T=function(w){var A,C,j,F,k=w.length,I=new Array(k*2);for(C=0,A=0;A<k;){if(j=w[A++],j<128){I[C++]=j;continue}if(F=y[j],F>4){I[C++]=65533,A+=F-1;continue}for(j&=F===2?31:F===3?15:7;F>1&&A<k;)j=j<<6|w[A++]&63,F--;if(F>1){I[C++]=65533;continue}j<65536?I[C++]=j:(j-=65536,I[C++]=55296|j>>10&1023,I[C++]=56320|j&1023)}return I.length!==C&&(I.subarray?I=I.subarray(0,C):I.length=C),c.applyFromCharCode(I)};u.utf8encode=function(A){return f.nodebuffer?p.newBufferFrom(A,"utf-8"):_(A)},u.utf8decode=function(A){return f.nodebuffer?c.transformTo("nodebuffer",A).toString("utf-8"):(A=c.transformTo(f.uint8array?"uint8array":"array",A),T(A))};function H(){v.call(this,"utf-8 decode"),this.leftOver=null}c.inherits(H,v),H.prototype.processChunk=function(w){var A=c.transformTo(f.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var C=A;A=new Uint8Array(C.length+this.leftOver.length),A.set(this.leftOver,0),A.set(C,this.leftOver.length)}else A=this.leftOver.concat(A);this.leftOver=null}var j=O(A),F=A;j!==A.length&&(f.uint8array?(F=A.subarray(0,j),this.leftOver=A.subarray(j,A.length)):(F=A.slice(0,j),this.leftOver=A.slice(j,A.length))),this.push({data:u.utf8decode(F),meta:w.meta})},H.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=H;function B(){v.call(this,"utf-8 encode")}c.inherits(B,v),B.prototype.processChunk=function(w){this.push({data:u.utf8encode(w.data),meta:w.meta})},u.Utf8EncodeWorker=B},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,s,u){var c=r("./support"),f=r("./base64"),p=r("./nodejsUtils"),v=r("./external");r("setimmediate");function y(w){var A=null;return c.uint8array?A=new Uint8Array(w.length):A=new Array(w.length),_(w,A)}u.newBlob=function(w,A){u.checkSupport("blob");try{return new Blob([w],{type:A})}catch{try{var C=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,j=new C;return j.append(w),j.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};function x(w){return w}function _(w,A){for(var C=0;C<w.length;++C)A[C]=w.charCodeAt(C)&255;return A}var O={stringifyByChunk:function(w,A,C){var j=[],F=0,k=w.length;if(k<=C)return String.fromCharCode.apply(null,w);for(;F<k;)A==="array"||A==="nodebuffer"?j.push(String.fromCharCode.apply(null,w.slice(F,Math.min(F+C,k)))):j.push(String.fromCharCode.apply(null,w.subarray(F,Math.min(F+C,k)))),F+=C;return j.join("")},stringifyByChar:function(w){for(var A="",C=0;C<w.length;C++)A+=String.fromCharCode(w[C]);return A},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}})()}};function T(w){var A=65536,C=u.getTypeOf(w),j=!0;if(C==="uint8array"?j=O.applyCanBeUsed.uint8array:C==="nodebuffer"&&(j=O.applyCanBeUsed.nodebuffer),j)for(;A>1;)try{return O.stringifyByChunk(w,C,A)}catch{A=Math.floor(A/2)}return O.stringifyByChar(w)}u.applyFromCharCode=T;function H(w,A){for(var C=0;C<w.length;C++)A[C]=w[C];return A}var B={};B.string={string:x,array:function(w){return _(w,new Array(w.length))},arraybuffer:function(w){return B.string.uint8array(w).buffer},uint8array:function(w){return _(w,new Uint8Array(w.length))},nodebuffer:function(w){return _(w,p.allocBuffer(w.length))}},B.array={string:T,array:x,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(w)}},B.arraybuffer={string:function(w){return T(new Uint8Array(w))},array:function(w){return H(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:x,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return p.newBufferFrom(new Uint8Array(w))}},B.uint8array={string:T,array:function(w){return H(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:x,nodebuffer:function(w){return p.newBufferFrom(w)}},B.nodebuffer={string:T,array:function(w){return H(w,new Array(w.length))},arraybuffer:function(w){return B.nodebuffer.uint8array(w).buffer},uint8array:function(w){return H(w,new Uint8Array(w.length))},nodebuffer:x},u.transformTo=function(w,A){if(A||(A=""),!w)return A;u.checkSupport(w);var C=u.getTypeOf(A),j=B[C][w](A);return j},u.resolve=function(w){for(var A=w.split("/"),C=[],j=0;j<A.length;j++){var F=A[j];F==="."||F===""&&j!==0&&j!==A.length-1||(F===".."?C.pop():C.push(F))}return C.join("/")},u.getTypeOf=function(w){if(typeof w=="string")return"string";if(Object.prototype.toString.call(w)==="[object Array]")return"array";if(c.nodebuffer&&p.isBuffer(w))return"nodebuffer";if(c.uint8array&&w instanceof Uint8Array)return"uint8array";if(c.arraybuffer&&w instanceof ArrayBuffer)return"arraybuffer"},u.checkSupport=function(w){var A=c[w.toLowerCase()];if(!A)throw new Error(w+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(w){var A="",C,j;for(j=0;j<(w||"").length;j++)C=w.charCodeAt(j),A+="\\x"+(C<16?"0":"")+C.toString(16).toUpperCase();return A},u.delay=function(w,A,C){setImmediate(function(){w.apply(C||null,A||[])})},u.inherits=function(w,A){var C=function(){};C.prototype=A.prototype,w.prototype=new C},u.extend=function(){var w={},A,C;for(A=0;A<arguments.length;A++)for(C in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],C)&&typeof w[C]>"u"&&(w[C]=arguments[A][C]);return w},u.prepareContent=function(w,A,C,j,F){var k=v.Promise.resolve(A).then(function(I){var G=c.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1);return G&&typeof FileReader<"u"?new v.Promise(function(W,Q){var J=new FileReader;J.onload=function(Ee){W(Ee.target.result)},J.onerror=function(Ee){Q(Ee.target.error)},J.readAsArrayBuffer(I)}):I});return k.then(function(I){var G=u.getTypeOf(I);return G?(G==="arraybuffer"?I=u.transformTo("uint8array",I):G==="string"&&(F?I=f.decode(I):C&&j!==!0&&(I=y(I))),I):v.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,s,u){var c=r("./reader/readerFor"),f=r("./utils"),p=r("./signature"),v=r("./zipEntry"),y=r("./support");function x(_){this.files=[],this.loadOptions=_}x.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var O=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(O)+", expected "+f.pretty(_)+")")}},isSignature:function(_,O){var T=this.reader.index;this.reader.setIndex(_);var H=this.reader.readString(4),B=H===O;return this.reader.setIndex(T),B},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),O=y.uint8array?"uint8array":"array",T=f.transformTo(O,_);this.zipComment=this.loadOptions.decodeFileName(T)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _=this.zip64EndOfCentralSize-44,O=0,T,H,B;O<_;)T=this.reader.readInt(2),H=this.reader.readInt(4),B=this.reader.readData(H),this.zip64ExtensibleData[T]={id:T,length:H,value:B}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,O;for(_=0;_<this.files.length;_++)O=this.files[_],this.reader.setIndex(O.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),O.readLocalPart(this.reader),O.handleUTF8(),O.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)_=new v({zip64:this.zip64},this.loadOptions),_.readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(_<0){var O=!this.isSignature(0,p.LOCAL_FILE_HEADER);throw O?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(_);var T=_;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,_=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),_<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var H=this.centralDirOffset+this.centralDirSize;this.zip64&&(H+=20,H+=12+this.zip64EndOfCentralSize);var B=T-H;if(B>0)this.isSignature(T,p.CENTRAL_FILE_HEADER)||(this.reader.zero=B);else if(B<0)throw new Error("Corrupted zip: missing "+Math.abs(B)+" bytes.")},prepareReader:function(_){this.reader=c(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,s,u){var c=r("./reader/readerFor"),f=r("./utils"),p=r("./compressedObject"),v=r("./crc32"),y=r("./utf8"),x=r("./compressions"),_=r("./support"),O=0,T=3,H=function(w){for(var A in x)if(Object.prototype.hasOwnProperty.call(x,A)&&x[A].magic===w)return x[A];return null};function B(w,A){this.options=w,this.loadOptions=A}B.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(w){var A,C;if(w.skip(22),this.fileNameLength=w.readInt(2),C=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(C),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(A=H(this.compressionMethod),A===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,A,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var A=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(A),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),w===O&&(this.dosPermissions=this.externalFileAttributes&63),w===T&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=c(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var A=w.index+this.extraFieldsLength,C,j,F;for(this.extraFields||(this.extraFields={});w.index+4<A;)C=w.readInt(2),j=w.readInt(2),F=w.readData(j),this.extraFields[C]={id:C,length:j,value:F};w.setIndex(A)},handleUTF8:function(){var w=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var A=this.findExtraFieldUnicodePath();if(A!==null)this.fileNameStr=A;else{var C=f.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(C)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var F=f.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(F)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var A=c(w.value);return A.readInt(1)!==1||v(this.fileName)!==A.readInt(4)?null:y.utf8decode(A.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var A=c(w.value);return A.readInt(1)!==1||v(this.fileComment)!==A.readInt(4)?null:y.utf8decode(A.readData(w.length-5))}return null}},s.exports=B},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,s,u){var c=r("./stream/StreamHelper"),f=r("./stream/DataWorker"),p=r("./utf8"),v=r("./compressedObject"),y=r("./stream/GenericWorker"),x=function(H,B,w){this.name=H,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=B,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}};x.prototype={internalStream:function(H){var B=null,w="string";try{if(!H)throw new Error("No output type specified.");w=H.toLowerCase();var A=w==="string"||w==="text";(w==="binarystring"||w==="text")&&(w="string"),B=this._decompressWorker();var C=!this._dataBinary;C&&!A&&(B=B.pipe(new p.Utf8EncodeWorker)),!C&&A&&(B=B.pipe(new p.Utf8DecodeWorker))}catch(j){B=new y("error"),B.error(j)}return new c(B,w,"")},async:function(H,B){return this.internalStream(H).accumulate(B)},nodeStream:function(H,B){return this.internalStream(H||"nodebuffer").toNodejsStream(B)},_compressWorker:function(H,B){if(this._data instanceof v&&this._data.compression.magic===H.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new p.Utf8EncodeWorker)),v.createWorkerFrom(w,H,B)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof y?this._data:new f(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],O=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},T=0;T<_.length;T++)x.prototype[_[T]]=O;s.exports=x},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,s,u){(function(c){var f=c.MutationObserver||c.WebKitMutationObserver,p;if(f){var v=0,y=new f(H),x=c.document.createTextNode("");y.observe(x,{characterData:!0}),p=function(){x.data=v=++v%2}}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var _=new c.MessageChannel;_.port1.onmessage=H,p=function(){_.port2.postMessage(0)}}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?p=function(){var w=c.document.createElement("script");w.onreadystatechange=function(){H(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},c.document.documentElement.appendChild(w)}:p=function(){setTimeout(H,0)};var O,T=[];function H(){O=!0;for(var w,A,C=T.length;C;){for(A=T,T=[],w=-1;++w<C;)A[w]();C=T.length}O=!1}s.exports=B;function B(w){T.push(w)===1&&!O&&p()}}).call(this,typeof Hi<"u"?Hi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,s,u){var c=r("immediate");function f(){}var p={},v=["REJECTED"],y=["FULFILLED"],x=["PENDING"];s.exports=_;function _(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,k!==f&&B(this,k)}_.prototype.finally=function(k){if(typeof k!="function")return this;var I=this.constructor;return this.then(G,W);function G(Q){function J(){return Q}return I.resolve(k()).then(J)}function W(Q){function J(){throw Q}return I.resolve(k()).then(J)}},_.prototype.catch=function(k){return this.then(null,k)},_.prototype.then=function(k,I){if(typeof k!="function"&&this.state===y||typeof I!="function"&&this.state===v)return this;var G=new this.constructor(f);if(this.state!==x){var W=this.state===y?k:I;T(G,W,this.outcome)}else this.queue.push(new O(G,k,I));return G};function O(k,I,G){this.promise=k,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof G=="function"&&(this.onRejected=G,this.callRejected=this.otherCallRejected)}O.prototype.callFulfilled=function(k){p.resolve(this.promise,k)},O.prototype.otherCallFulfilled=function(k){T(this.promise,this.onFulfilled,k)},O.prototype.callRejected=function(k){p.reject(this.promise,k)},O.prototype.otherCallRejected=function(k){T(this.promise,this.onRejected,k)};function T(k,I,G){c(function(){var W;try{W=I(G)}catch(Q){return p.reject(k,Q)}W===k?p.reject(k,new TypeError("Cannot resolve promise with itself")):p.resolve(k,W)})}p.resolve=function(k,I){var G=w(H,I);if(G.status==="error")return p.reject(k,G.value);var W=G.value;if(W)B(k,W);else{k.state=y,k.outcome=I;for(var Q=-1,J=k.queue.length;++Q<J;)k.queue[Q].callFulfilled(I)}return k},p.reject=function(k,I){k.state=v,k.outcome=I;for(var G=-1,W=k.queue.length;++G<W;)k.queue[G].callRejected(I);return k};function H(k){var I=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof I=="function")return function(){I.apply(k,arguments)}}function B(k,I){var G=!1;function W(ce){G||(G=!0,p.reject(k,ce))}function Q(ce){G||(G=!0,p.resolve(k,ce))}function J(){I(Q,W)}var Ee=w(J);Ee.status==="error"&&W(Ee.value)}function w(k,I){var G={};try{G.value=k(I),G.status="success"}catch(W){G.status="error",G.value=W}return G}_.resolve=A;function A(k){return k instanceof this?k:p.resolve(new this(f),k)}_.reject=C;function C(k){var I=new this(f);return p.reject(I,k)}_.all=j;function j(k){var I=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=k.length,W=!1;if(!G)return this.resolve([]);for(var Q=new Array(G),J=0,Ee=-1,ce=new this(f);++Ee<G;)Ce(k[Ee],Ee);return ce;function Ce(Ye,Le){I.resolve(Ye).then(ae,function(be){W||(W=!0,p.reject(ce,be))});function ae(be){Q[Le]=be,++J===G&&!W&&(W=!0,p.resolve(ce,Q))}}}_.race=F;function F(k){var I=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=k.length,W=!1;if(!G)return this.resolve([]);for(var Q=-1,J=new this(f);++Q<G;)Ee(k[Q]);return J;function Ee(ce){I.resolve(ce).then(function(Ce){W||(W=!0,p.resolve(J,Ce))},function(Ce){W||(W=!0,p.reject(J,Ce))})}}},{immediate:36}],38:[function(r,s,u){var c=r("./lib/utils/common").assign,f=r("./lib/deflate"),p=r("./lib/inflate"),v=r("./lib/zlib/constants"),y={};c(y,f,p,v),s.exports=y},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,s,u){var c=r("./zlib/deflate"),f=r("./utils/common"),p=r("./utils/strings"),v=r("./zlib/messages"),y=r("./zlib/zstream"),x=Object.prototype.toString,_=0,O=4,T=0,H=1,B=2,w=-1,A=0,C=8;function j(G){if(!(this instanceof j))return new j(G);this.options=f.assign({level:w,method:C,chunkSize:16384,windowBits:15,memLevel:8,strategy:A,to:""},G||{});var W=this.options;W.raw&&W.windowBits>0?W.windowBits=-W.windowBits:W.gzip&&W.windowBits>0&&W.windowBits<16&&(W.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var Q=c.deflateInit2(this.strm,W.level,W.method,W.windowBits,W.memLevel,W.strategy);if(Q!==T)throw new Error(v[Q]);if(W.header&&c.deflateSetHeader(this.strm,W.header),W.dictionary){var J;if(typeof W.dictionary=="string"?J=p.string2buf(W.dictionary):x.call(W.dictionary)==="[object ArrayBuffer]"?J=new Uint8Array(W.dictionary):J=W.dictionary,Q=c.deflateSetDictionary(this.strm,J),Q!==T)throw new Error(v[Q]);this._dict_set=!0}}j.prototype.push=function(G,W){var Q=this.strm,J=this.options.chunkSize,Ee,ce;if(this.ended)return!1;ce=W===~~W?W:W===!0?O:_,typeof G=="string"?Q.input=p.string2buf(G):x.call(G)==="[object ArrayBuffer]"?Q.input=new Uint8Array(G):Q.input=G,Q.next_in=0,Q.avail_in=Q.input.length;do{if(Q.avail_out===0&&(Q.output=new f.Buf8(J),Q.next_out=0,Q.avail_out=J),Ee=c.deflate(Q,ce),Ee!==H&&Ee!==T)return this.onEnd(Ee),this.ended=!0,!1;(Q.avail_out===0||Q.avail_in===0&&(ce===O||ce===B))&&(this.options.to==="string"?this.onData(p.buf2binstring(f.shrinkBuf(Q.output,Q.next_out))):this.onData(f.shrinkBuf(Q.output,Q.next_out)))}while((Q.avail_in>0||Q.avail_out===0)&&Ee!==H);return ce===O?(Ee=c.deflateEnd(this.strm),this.onEnd(Ee),this.ended=!0,Ee===T):(ce===B&&(this.onEnd(T),Q.avail_out=0),!0)},j.prototype.onData=function(G){this.chunks.push(G)},j.prototype.onEnd=function(G){G===T&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=G,this.msg=this.strm.msg};function F(G,W){var Q=new j(W);if(Q.push(G,!0),Q.err)throw Q.msg||v[Q.err];return Q.result}function k(G,W){return W=W||{},W.raw=!0,F(G,W)}function I(G,W){return W=W||{},W.gzip=!0,F(G,W)}u.Deflate=j,u.deflate=F,u.deflateRaw=k,u.gzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,s,u){var c=r("./zlib/inflate"),f=r("./utils/common"),p=r("./utils/strings"),v=r("./zlib/constants"),y=r("./zlib/messages"),x=r("./zlib/zstream"),_=r("./zlib/gzheader"),O=Object.prototype.toString;function T(w){if(!(this instanceof T))return new T(w);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},w||{});var A=this.options;A.raw&&A.windowBits>=0&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),A.windowBits>=0&&A.windowBits<16&&!(w&&w.windowBits)&&(A.windowBits+=32),A.windowBits>15&&A.windowBits<48&&(A.windowBits&15)===0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var C=c.inflateInit2(this.strm,A.windowBits);if(C!==v.Z_OK)throw new Error(y[C]);this.header=new _,c.inflateGetHeader(this.strm,this.header)}T.prototype.push=function(w,A){var C=this.strm,j=this.options.chunkSize,F=this.options.dictionary,k,I,G,W,Q,J,Ee=!1;if(this.ended)return!1;I=A===~~A?A:A===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof w=="string"?C.input=p.binstring2buf(w):O.call(w)==="[object ArrayBuffer]"?C.input=new Uint8Array(w):C.input=w,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new f.Buf8(j),C.next_out=0,C.avail_out=j),k=c.inflate(C,v.Z_NO_FLUSH),k===v.Z_NEED_DICT&&F&&(typeof F=="string"?J=p.string2buf(F):O.call(F)==="[object ArrayBuffer]"?J=new Uint8Array(F):J=F,k=c.inflateSetDictionary(this.strm,J)),k===v.Z_BUF_ERROR&&Ee===!0&&(k=v.Z_OK,Ee=!1),k!==v.Z_STREAM_END&&k!==v.Z_OK)return this.onEnd(k),this.ended=!0,!1;C.next_out&&(C.avail_out===0||k===v.Z_STREAM_END||C.avail_in===0&&(I===v.Z_FINISH||I===v.Z_SYNC_FLUSH))&&(this.options.to==="string"?(G=p.utf8border(C.output,C.next_out),W=C.next_out-G,Q=p.buf2string(C.output,G),C.next_out=W,C.avail_out=j-W,W&&f.arraySet(C.output,C.output,G,W,0),this.onData(Q)):this.onData(f.shrinkBuf(C.output,C.next_out))),C.avail_in===0&&C.avail_out===0&&(Ee=!0)}while((C.avail_in>0||C.avail_out===0)&&k!==v.Z_STREAM_END);return k===v.Z_STREAM_END&&(I=v.Z_FINISH),I===v.Z_FINISH?(k=c.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===v.Z_OK):(I===v.Z_SYNC_FLUSH&&(this.onEnd(v.Z_OK),C.avail_out=0),!0)},T.prototype.onData=function(w){this.chunks.push(w)},T.prototype.onEnd=function(w){w===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg};function H(w,A){var C=new T(A);if(C.push(w,!0),C.err)throw C.msg||y[C.err];return C.result}function B(w,A){return A=A||{},A.raw=!0,H(w,A)}u.Inflate=T,u.inflate=H,u.inflateRaw=B,u.ungzip=H},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,s,u){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(v){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var x=y.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(var _ in x)x.hasOwnProperty(_)&&(v[_]=x[_])}}return v},u.shrinkBuf=function(v,y){return v.length===y?v:v.subarray?v.subarray(0,y):(v.length=y,v)};var f={arraySet:function(v,y,x,_,O){if(y.subarray&&v.subarray){v.set(y.subarray(x,x+_),O);return}for(var T=0;T<_;T++)v[O+T]=y[x+T]},flattenChunks:function(v){var y,x,_,O,T,H;for(_=0,y=0,x=v.length;y<x;y++)_+=v[y].length;for(H=new Uint8Array(_),O=0,y=0,x=v.length;y<x;y++)T=v[y],H.set(T,O),O+=T.length;return H}},p={arraySet:function(v,y,x,_,O){for(var T=0;T<_;T++)v[O+T]=y[x+T]},flattenChunks:function(v){return[].concat.apply([],v)}};u.setTyped=function(v){v?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,f)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,p))},u.setTyped(c)},{}],42:[function(r,s,u){var c=r("./common"),f=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var v=new c.Buf8(256),y=0;y<256;y++)v[y]=y>=252?6:y>=248?5:y>=240?4:y>=224?3:y>=192?2:1;v[254]=v[254]=1,u.string2buf=function(_){var O,T,H,B,w,A=_.length,C=0;for(B=0;B<A;B++)T=_.charCodeAt(B),(T&64512)===55296&&B+1<A&&(H=_.charCodeAt(B+1),(H&64512)===56320&&(T=65536+(T-55296<<10)+(H-56320),B++)),C+=T<128?1:T<2048?2:T<65536?3:4;for(O=new c.Buf8(C),w=0,B=0;w<C;B++)T=_.charCodeAt(B),(T&64512)===55296&&B+1<A&&(H=_.charCodeAt(B+1),(H&64512)===56320&&(T=65536+(T-55296<<10)+(H-56320),B++)),T<128?O[w++]=T:T<2048?(O[w++]=192|T>>>6,O[w++]=128|T&63):T<65536?(O[w++]=224|T>>>12,O[w++]=128|T>>>6&63,O[w++]=128|T&63):(O[w++]=240|T>>>18,O[w++]=128|T>>>12&63,O[w++]=128|T>>>6&63,O[w++]=128|T&63);return O};function x(_,O){if(O<65537&&(_.subarray&&p||!_.subarray&&f))return String.fromCharCode.apply(null,c.shrinkBuf(_,O));for(var T="",H=0;H<O;H++)T+=String.fromCharCode(_[H]);return T}u.buf2binstring=function(_){return x(_,_.length)},u.binstring2buf=function(_){for(var O=new c.Buf8(_.length),T=0,H=O.length;T<H;T++)O[T]=_.charCodeAt(T);return O},u.buf2string=function(_,O){var T,H,B,w,A=O||_.length,C=new Array(A*2);for(H=0,T=0;T<A;){if(B=_[T++],B<128){C[H++]=B;continue}if(w=v[B],w>4){C[H++]=65533,T+=w-1;continue}for(B&=w===2?31:w===3?15:7;w>1&&T<A;)B=B<<6|_[T++]&63,w--;if(w>1){C[H++]=65533;continue}B<65536?C[H++]=B:(B-=65536,C[H++]=55296|B>>10&1023,C[H++]=56320|B&1023)}return x(C,H)},u.utf8border=function(_,O){var T;for(O=O||_.length,O>_.length&&(O=_.length),T=O-1;T>=0&&(_[T]&192)===128;)T--;return T<0||T===0?O:T+v[_[T]]>O?T:O}},{"./common":41}],43:[function(r,s,u){function c(f,p,v,y){for(var x=f&65535|0,_=f>>>16&65535|0,O=0;v!==0;){O=v>2e3?2e3:v,v-=O;do x=x+p[y++]|0,_=_+x|0;while(--O);x%=65521,_%=65521}return x|_<<16|0}s.exports=c},{}],44:[function(r,s,u){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,s,u){function c(){for(var v,y=[],x=0;x<256;x++){v=x;for(var _=0;_<8;_++)v=v&1?3988292384^v>>>1:v>>>1;y[x]=v}return y}var f=c();function p(v,y,x,_){var O=f,T=_+x;v^=-1;for(var H=_;H<T;H++)v=v>>>8^O[(v^y[H])&255];return v^-1}s.exports=p},{}],46:[function(r,s,u){var c=r("../utils/common"),f=r("./trees"),p=r("./adler32"),v=r("./crc32"),y=r("./messages"),x=0,_=1,O=3,T=4,H=5,B=0,w=1,A=-2,C=-3,j=-5,F=-1,k=1,I=2,G=3,W=4,Q=0,J=2,Ee=8,ce=9,Ce=15,Ye=8,Le=29,ae=256,be=ae+1+Le,Se=30,Ie=19,nt=2*be+1,V=15,pe=3,Pe=258,Me=Pe+pe+1,it=32,ut=42,vt=69,ct=73,At=91,$e=103,Tt=113,pt=666,kt=1,Ut=2,Vt=3,tn=4,Kt=3;function on(m,te){return m.msg=y[te],te}function bn(m){return(m<<1)-(m>4?9:0)}function wn(m){for(var te=m.length;--te>=0;)m[te]=0}function xt(m){var te=m.state,ge=te.pending;ge>m.avail_out&&(ge=m.avail_out),ge!==0&&(c.arraySet(m.output,te.pending_buf,te.pending_out,ge,m.next_out),m.next_out+=ge,te.pending_out+=ge,m.total_out+=ge,m.avail_out-=ge,te.pending-=ge,te.pending===0&&(te.pending_out=0))}function Bt(m,te){f._tr_flush_block(m,m.block_start>=0?m.block_start:-1,m.strstart-m.block_start,te),m.block_start=m.strstart,xt(m.strm)}function Ct(m,te){m.pending_buf[m.pending++]=te}function nn(m,te){m.pending_buf[m.pending++]=te>>>8&255,m.pending_buf[m.pending++]=te&255}function mt(m,te,ge,L){var ee=m.avail_in;return ee>L&&(ee=L),ee===0?0:(m.avail_in-=ee,c.arraySet(te,m.input,m.next_in,ee,ge),m.state.wrap===1?m.adler=p(m.adler,te,ee,ge):m.state.wrap===2&&(m.adler=v(m.adler,te,ee,ge)),m.next_in+=ee,m.total_in+=ee,ee)}function rt(m,te){var ge=m.max_chain_length,L=m.strstart,ee,De,lt=m.prev_length,Ve=m.nice_match,Je=m.strstart>m.w_size-Me?m.strstart-(m.w_size-Me):0,zt=m.window,Tn=m.w_mask,Yt=m.prev,Lt=m.strstart+Pe,sn=zt[L+lt-1],St=zt[L+lt];m.prev_length>=m.good_match&&(ge>>=2),Ve>m.lookahead&&(Ve=m.lookahead);do if(ee=te,!(zt[ee+lt]!==St||zt[ee+lt-1]!==sn||zt[ee]!==zt[L]||zt[++ee]!==zt[L+1])){L+=2,ee++;do;while(zt[++L]===zt[++ee]&&zt[++L]===zt[++ee]&&zt[++L]===zt[++ee]&&zt[++L]===zt[++ee]&&zt[++L]===zt[++ee]&&zt[++L]===zt[++ee]&&zt[++L]===zt[++ee]&&zt[++L]===zt[++ee]&&L<Lt);if(De=Pe-(Lt-L),L=Lt-Pe,De>lt){if(m.match_start=te,lt=De,De>=Ve)break;sn=zt[L+lt-1],St=zt[L+lt]}}while((te=Yt[te&Tn])>Je&&--ge!==0);return lt<=m.lookahead?lt:m.lookahead}function bt(m){var te=m.w_size,ge,L,ee,De,lt;do{if(De=m.window_size-m.lookahead-m.strstart,m.strstart>=te+(te-Me)){c.arraySet(m.window,m.window,te,te,0),m.match_start-=te,m.strstart-=te,m.block_start-=te,L=m.hash_size,ge=L;do ee=m.head[--ge],m.head[ge]=ee>=te?ee-te:0;while(--L);L=te,ge=L;do ee=m.prev[--ge],m.prev[ge]=ee>=te?ee-te:0;while(--L);De+=te}if(m.strm.avail_in===0)break;if(L=mt(m.strm,m.window,m.strstart+m.lookahead,De),m.lookahead+=L,m.lookahead+m.insert>=pe)for(lt=m.strstart-m.insert,m.ins_h=m.window[lt],m.ins_h=(m.ins_h<<m.hash_shift^m.window[lt+1])&m.hash_mask;m.insert&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[lt+pe-1])&m.hash_mask,m.prev[lt&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=lt,lt++,m.insert--,!(m.lookahead+m.insert<pe)););}while(m.lookahead<Me&&m.strm.avail_in!==0)}function Ht(m,te){var ge=65535;for(ge>m.pending_buf_size-5&&(ge=m.pending_buf_size-5);;){if(m.lookahead<=1){if(bt(m),m.lookahead===0&&te===x)return kt;if(m.lookahead===0)break}m.strstart+=m.lookahead,m.lookahead=0;var L=m.block_start+ge;if((m.strstart===0||m.strstart>=L)&&(m.lookahead=m.strstart-L,m.strstart=L,Bt(m,!1),m.strm.avail_out===0)||m.strstart-m.block_start>=m.w_size-Me&&(Bt(m,!1),m.strm.avail_out===0))return kt}return m.insert=0,te===T?(Bt(m,!0),m.strm.avail_out===0?Vt:tn):(m.strstart>m.block_start&&(Bt(m,!1),m.strm.avail_out===0),kt)}function rn(m,te){for(var ge,L;;){if(m.lookahead<Me){if(bt(m),m.lookahead<Me&&te===x)return kt;if(m.lookahead===0)break}if(ge=0,m.lookahead>=pe&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+pe-1])&m.hash_mask,ge=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),ge!==0&&m.strstart-ge<=m.w_size-Me&&(m.match_length=rt(m,ge)),m.match_length>=pe)if(L=f._tr_tally(m,m.strstart-m.match_start,m.match_length-pe),m.lookahead-=m.match_length,m.match_length<=m.max_lazy_match&&m.lookahead>=pe){m.match_length--;do m.strstart++,m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+pe-1])&m.hash_mask,ge=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart;while(--m.match_length!==0);m.strstart++}else m.strstart+=m.match_length,m.match_length=0,m.ins_h=m.window[m.strstart],m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+1])&m.hash_mask;else L=f._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++;if(L&&(Bt(m,!1),m.strm.avail_out===0))return kt}return m.insert=m.strstart<pe-1?m.strstart:pe-1,te===T?(Bt(m,!0),m.strm.avail_out===0?Vt:tn):m.last_lit&&(Bt(m,!1),m.strm.avail_out===0)?kt:Ut}function Et(m,te){for(var ge,L,ee;;){if(m.lookahead<Me){if(bt(m),m.lookahead<Me&&te===x)return kt;if(m.lookahead===0)break}if(ge=0,m.lookahead>=pe&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+pe-1])&m.hash_mask,ge=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart),m.prev_length=m.match_length,m.prev_match=m.match_start,m.match_length=pe-1,ge!==0&&m.prev_length<m.max_lazy_match&&m.strstart-ge<=m.w_size-Me&&(m.match_length=rt(m,ge),m.match_length<=5&&(m.strategy===k||m.match_length===pe&&m.strstart-m.match_start>4096)&&(m.match_length=pe-1)),m.prev_length>=pe&&m.match_length<=m.prev_length){ee=m.strstart+m.lookahead-pe,L=f._tr_tally(m,m.strstart-1-m.prev_match,m.prev_length-pe),m.lookahead-=m.prev_length-1,m.prev_length-=2;do++m.strstart<=ee&&(m.ins_h=(m.ins_h<<m.hash_shift^m.window[m.strstart+pe-1])&m.hash_mask,ge=m.prev[m.strstart&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=m.strstart);while(--m.prev_length!==0);if(m.match_available=0,m.match_length=pe-1,m.strstart++,L&&(Bt(m,!1),m.strm.avail_out===0))return kt}else if(m.match_available){if(L=f._tr_tally(m,0,m.window[m.strstart-1]),L&&Bt(m,!1),m.strstart++,m.lookahead--,m.strm.avail_out===0)return kt}else m.match_available=1,m.strstart++,m.lookahead--}return m.match_available&&(L=f._tr_tally(m,0,m.window[m.strstart-1]),m.match_available=0),m.insert=m.strstart<pe-1?m.strstart:pe-1,te===T?(Bt(m,!0),m.strm.avail_out===0?Vt:tn):m.last_lit&&(Bt(m,!1),m.strm.avail_out===0)?kt:Ut}function jt(m,te){for(var ge,L,ee,De,lt=m.window;;){if(m.lookahead<=Pe){if(bt(m),m.lookahead<=Pe&&te===x)return kt;if(m.lookahead===0)break}if(m.match_length=0,m.lookahead>=pe&&m.strstart>0&&(ee=m.strstart-1,L=lt[ee],L===lt[++ee]&&L===lt[++ee]&&L===lt[++ee])){De=m.strstart+Pe;do;while(L===lt[++ee]&&L===lt[++ee]&&L===lt[++ee]&&L===lt[++ee]&&L===lt[++ee]&&L===lt[++ee]&&L===lt[++ee]&&L===lt[++ee]&&ee<De);m.match_length=Pe-(De-ee),m.match_length>m.lookahead&&(m.match_length=m.lookahead)}if(m.match_length>=pe?(ge=f._tr_tally(m,1,m.match_length-pe),m.lookahead-=m.match_length,m.strstart+=m.match_length,m.match_length=0):(ge=f._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++),ge&&(Bt(m,!1),m.strm.avail_out===0))return kt}return m.insert=0,te===T?(Bt(m,!0),m.strm.avail_out===0?Vt:tn):m.last_lit&&(Bt(m,!1),m.strm.avail_out===0)?kt:Ut}function Ft(m,te){for(var ge;;){if(m.lookahead===0&&(bt(m),m.lookahead===0)){if(te===x)return kt;break}if(m.match_length=0,ge=f._tr_tally(m,0,m.window[m.strstart]),m.lookahead--,m.strstart++,ge&&(Bt(m,!1),m.strm.avail_out===0))return kt}return m.insert=0,te===T?(Bt(m,!0),m.strm.avail_out===0?Vt:tn):m.last_lit&&(Bt(m,!1),m.strm.avail_out===0)?kt:Ut}function Nt(m,te,ge,L,ee){this.good_length=m,this.max_lazy=te,this.nice_length=ge,this.max_chain=L,this.func=ee}var Wt;Wt=[new Nt(0,0,0,0,Ht),new Nt(4,4,8,4,rn),new Nt(4,5,16,8,rn),new Nt(4,6,32,32,rn),new Nt(4,4,16,16,Et),new Nt(8,16,32,32,Et),new Nt(8,16,128,128,Et),new Nt(8,32,128,256,Et),new Nt(32,128,258,1024,Et),new Nt(32,258,258,4096,Et)];function hn(m){m.window_size=2*m.w_size,wn(m.head),m.max_lazy_match=Wt[m.level].max_lazy,m.good_match=Wt[m.level].good_length,m.nice_match=Wt[m.level].nice_length,m.max_chain_length=Wt[m.level].max_chain,m.strstart=0,m.block_start=0,m.lookahead=0,m.insert=0,m.match_length=m.prev_length=pe-1,m.match_available=0,m.ins_h=0}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ee,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(nt*2),this.dyn_dtree=new c.Buf16((2*Se+1)*2),this.bl_tree=new c.Buf16((2*Ie+1)*2),wn(this.dyn_ltree),wn(this.dyn_dtree),wn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(V+1),this.heap=new c.Buf16(2*be+1),wn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*be+1),wn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fe(m){var te;return!m||!m.state?on(m,A):(m.total_in=m.total_out=0,m.data_type=J,te=m.state,te.pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?ut:Tt,m.adler=te.wrap===2?0:1,te.last_flush=x,f._tr_init(te),B)}function Ze(m){var te=Fe(m);return te===B&&hn(m.state),te}function ot(m,te){return!m||!m.state||m.state.wrap!==2?A:(m.state.gzhead=te,B)}function X(m,te,ge,L,ee,De){if(!m)return A;var lt=1;if(te===F&&(te=6),L<0?(lt=0,L=-L):L>15&&(lt=2,L-=16),ee<1||ee>ce||ge!==Ee||L<8||L>15||te<0||te>9||De<0||De>W)return on(m,A);L===8&&(L=9);var Ve=new M;return m.state=Ve,Ve.strm=m,Ve.wrap=lt,Ve.gzhead=null,Ve.w_bits=L,Ve.w_size=1<<Ve.w_bits,Ve.w_mask=Ve.w_size-1,Ve.hash_bits=ee+7,Ve.hash_size=1<<Ve.hash_bits,Ve.hash_mask=Ve.hash_size-1,Ve.hash_shift=~~((Ve.hash_bits+pe-1)/pe),Ve.window=new c.Buf8(Ve.w_size*2),Ve.head=new c.Buf16(Ve.hash_size),Ve.prev=new c.Buf16(Ve.w_size),Ve.lit_bufsize=1<<ee+6,Ve.pending_buf_size=Ve.lit_bufsize*4,Ve.pending_buf=new c.Buf8(Ve.pending_buf_size),Ve.d_buf=1*Ve.lit_bufsize,Ve.l_buf=3*Ve.lit_bufsize,Ve.level=te,Ve.strategy=De,Ve.method=ge,Ze(m)}function Be(m,te){return X(m,te,Ee,Ce,Ye,Q)}function g(m,te){var ge,L,ee,De;if(!m||!m.state||te>H||te<0)return m?on(m,A):A;if(L=m.state,!m.output||!m.input&&m.avail_in!==0||L.status===pt&&te!==T)return on(m,m.avail_out===0?j:A);if(L.strm=m,ge=L.last_flush,L.last_flush=te,L.status===ut)if(L.wrap===2)m.adler=0,Ct(L,31),Ct(L,139),Ct(L,8),L.gzhead?(Ct(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),Ct(L,L.gzhead.time&255),Ct(L,L.gzhead.time>>8&255),Ct(L,L.gzhead.time>>16&255),Ct(L,L.gzhead.time>>24&255),Ct(L,L.level===9?2:L.strategy>=I||L.level<2?4:0),Ct(L,L.gzhead.os&255),L.gzhead.extra&&L.gzhead.extra.length&&(Ct(L,L.gzhead.extra.length&255),Ct(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(m.adler=v(m.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=vt):(Ct(L,0),Ct(L,0),Ct(L,0),Ct(L,0),Ct(L,0),Ct(L,L.level===9?2:L.strategy>=I||L.level<2?4:0),Ct(L,Kt),L.status=Tt);else{var lt=Ee+(L.w_bits-8<<4)<<8,Ve=-1;L.strategy>=I||L.level<2?Ve=0:L.level<6?Ve=1:L.level===6?Ve=2:Ve=3,lt|=Ve<<6,L.strstart!==0&&(lt|=it),lt+=31-lt%31,L.status=Tt,nn(L,lt),L.strstart!==0&&(nn(L,m.adler>>>16),nn(L,m.adler&65535)),m.adler=1}if(L.status===vt)if(L.gzhead.extra){for(ee=L.pending;L.gzindex<(L.gzhead.extra.length&65535)&&!(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ee&&(m.adler=v(m.adler,L.pending_buf,L.pending-ee,ee)),xt(m),ee=L.pending,L.pending===L.pending_buf_size));)Ct(L,L.gzhead.extra[L.gzindex]&255),L.gzindex++;L.gzhead.hcrc&&L.pending>ee&&(m.adler=v(m.adler,L.pending_buf,L.pending-ee,ee)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=ct)}else L.status=ct;if(L.status===ct)if(L.gzhead.name){ee=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ee&&(m.adler=v(m.adler,L.pending_buf,L.pending-ee,ee)),xt(m),ee=L.pending,L.pending===L.pending_buf_size)){De=1;break}L.gzindex<L.gzhead.name.length?De=L.gzhead.name.charCodeAt(L.gzindex++)&255:De=0,Ct(L,De)}while(De!==0);L.gzhead.hcrc&&L.pending>ee&&(m.adler=v(m.adler,L.pending_buf,L.pending-ee,ee)),De===0&&(L.gzindex=0,L.status=At)}else L.status=At;if(L.status===At)if(L.gzhead.comment){ee=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ee&&(m.adler=v(m.adler,L.pending_buf,L.pending-ee,ee)),xt(m),ee=L.pending,L.pending===L.pending_buf_size)){De=1;break}L.gzindex<L.gzhead.comment.length?De=L.gzhead.comment.charCodeAt(L.gzindex++)&255:De=0,Ct(L,De)}while(De!==0);L.gzhead.hcrc&&L.pending>ee&&(m.adler=v(m.adler,L.pending_buf,L.pending-ee,ee)),De===0&&(L.status=$e)}else L.status=$e;if(L.status===$e&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&xt(m),L.pending+2<=L.pending_buf_size&&(Ct(L,m.adler&255),Ct(L,m.adler>>8&255),m.adler=0,L.status=Tt)):L.status=Tt),L.pending!==0){if(xt(m),m.avail_out===0)return L.last_flush=-1,B}else if(m.avail_in===0&&bn(te)<=bn(ge)&&te!==T)return on(m,j);if(L.status===pt&&m.avail_in!==0)return on(m,j);if(m.avail_in!==0||L.lookahead!==0||te!==x&&L.status!==pt){var Je=L.strategy===I?Ft(L,te):L.strategy===G?jt(L,te):Wt[L.level].func(L,te);if((Je===Vt||Je===tn)&&(L.status=pt),Je===kt||Je===Vt)return m.avail_out===0&&(L.last_flush=-1),B;if(Je===Ut&&(te===_?f._tr_align(L):te!==H&&(f._tr_stored_block(L,0,0,!1),te===O&&(wn(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),xt(m),m.avail_out===0))return L.last_flush=-1,B}return te!==T?B:L.wrap<=0?w:(L.wrap===2?(Ct(L,m.adler&255),Ct(L,m.adler>>8&255),Ct(L,m.adler>>16&255),Ct(L,m.adler>>24&255),Ct(L,m.total_in&255),Ct(L,m.total_in>>8&255),Ct(L,m.total_in>>16&255),Ct(L,m.total_in>>24&255)):(nn(L,m.adler>>>16),nn(L,m.adler&65535)),xt(m),L.wrap>0&&(L.wrap=-L.wrap),L.pending!==0?B:w)}function R(m){var te;return!m||!m.state?A:(te=m.state.status,te!==ut&&te!==vt&&te!==ct&&te!==At&&te!==$e&&te!==Tt&&te!==pt?on(m,A):(m.state=null,te===Tt?on(m,C):B))}function Z(m,te){var ge=te.length,L,ee,De,lt,Ve,Je,zt,Tn;if(!m||!m.state||(L=m.state,lt=L.wrap,lt===2||lt===1&&L.status!==ut||L.lookahead))return A;for(lt===1&&(m.adler=p(m.adler,te,ge,0)),L.wrap=0,ge>=L.w_size&&(lt===0&&(wn(L.head),L.strstart=0,L.block_start=0,L.insert=0),Tn=new c.Buf8(L.w_size),c.arraySet(Tn,te,ge-L.w_size,L.w_size,0),te=Tn,ge=L.w_size),Ve=m.avail_in,Je=m.next_in,zt=m.input,m.avail_in=ge,m.next_in=0,m.input=te,bt(L);L.lookahead>=pe;){ee=L.strstart,De=L.lookahead-(pe-1);do L.ins_h=(L.ins_h<<L.hash_shift^L.window[ee+pe-1])&L.hash_mask,L.prev[ee&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=ee,ee++;while(--De);L.strstart=ee,L.lookahead=pe-1,bt(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=pe-1,L.match_available=0,m.next_in=Je,m.input=zt,m.avail_in=Ve,L.wrap=lt,B}u.deflateInit=Be,u.deflateInit2=X,u.deflateReset=Ze,u.deflateResetKeep=Fe,u.deflateSetHeader=ot,u.deflate=g,u.deflateEnd=R,u.deflateSetDictionary=Z,u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,s,u){function c(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}s.exports=c},{}],48:[function(r,s,u){var c=30,f=12;s.exports=function(v,y){var x,_,O,T,H,B,w,A,C,j,F,k,I,G,W,Q,J,Ee,ce,Ce,Ye,Le,ae,be,Se;x=v.state,_=v.next_in,be=v.input,O=_+(v.avail_in-5),T=v.next_out,Se=v.output,H=T-(y-v.avail_out),B=T+(v.avail_out-257),w=x.dmax,A=x.wsize,C=x.whave,j=x.wnext,F=x.window,k=x.hold,I=x.bits,G=x.lencode,W=x.distcode,Q=(1<<x.lenbits)-1,J=(1<<x.distbits)-1;e:do{I<15&&(k+=be[_++]<<I,I+=8,k+=be[_++]<<I,I+=8),Ee=G[k&Q];t:for(;;){if(ce=Ee>>>24,k>>>=ce,I-=ce,ce=Ee>>>16&255,ce===0)Se[T++]=Ee&65535;else if(ce&16){Ce=Ee&65535,ce&=15,ce&&(I<ce&&(k+=be[_++]<<I,I+=8),Ce+=k&(1<<ce)-1,k>>>=ce,I-=ce),I<15&&(k+=be[_++]<<I,I+=8,k+=be[_++]<<I,I+=8),Ee=W[k&J];n:for(;;){if(ce=Ee>>>24,k>>>=ce,I-=ce,ce=Ee>>>16&255,ce&16){if(Ye=Ee&65535,ce&=15,I<ce&&(k+=be[_++]<<I,I+=8,I<ce&&(k+=be[_++]<<I,I+=8)),Ye+=k&(1<<ce)-1,Ye>w){v.msg="invalid distance too far back",x.mode=c;break e}if(k>>>=ce,I-=ce,ce=T-H,Ye>ce){if(ce=Ye-ce,ce>C&&x.sane){v.msg="invalid distance too far back",x.mode=c;break e}if(Le=0,ae=F,j===0){if(Le+=A-ce,ce<Ce){Ce-=ce;do Se[T++]=F[Le++];while(--ce);Le=T-Ye,ae=Se}}else if(j<ce){if(Le+=A+j-ce,ce-=j,ce<Ce){Ce-=ce;do Se[T++]=F[Le++];while(--ce);if(Le=0,j<Ce){ce=j,Ce-=ce;do Se[T++]=F[Le++];while(--ce);Le=T-Ye,ae=Se}}}else if(Le+=j-ce,ce<Ce){Ce-=ce;do Se[T++]=F[Le++];while(--ce);Le=T-Ye,ae=Se}for(;Ce>2;)Se[T++]=ae[Le++],Se[T++]=ae[Le++],Se[T++]=ae[Le++],Ce-=3;Ce&&(Se[T++]=ae[Le++],Ce>1&&(Se[T++]=ae[Le++]))}else{Le=T-Ye;do Se[T++]=Se[Le++],Se[T++]=Se[Le++],Se[T++]=Se[Le++],Ce-=3;while(Ce>2);Ce&&(Se[T++]=Se[Le++],Ce>1&&(Se[T++]=Se[Le++]))}}else if((ce&64)===0){Ee=W[(Ee&65535)+(k&(1<<ce)-1)];continue n}else{v.msg="invalid distance code",x.mode=c;break e}break}}else if((ce&64)===0){Ee=G[(Ee&65535)+(k&(1<<ce)-1)];continue t}else if(ce&32){x.mode=f;break e}else{v.msg="invalid literal/length code",x.mode=c;break e}break}}while(_<O&&T<B);Ce=I>>3,_-=Ce,I-=Ce<<3,k&=(1<<I)-1,v.next_in=_,v.next_out=T,v.avail_in=_<O?5+(O-_):5-(_-O),v.avail_out=T<B?257+(B-T):257-(T-B),x.hold=k,x.bits=I}},{}],49:[function(r,s,u){var c=r("../utils/common"),f=r("./adler32"),p=r("./crc32"),v=r("./inffast"),y=r("./inftrees"),x=0,_=1,O=2,T=4,H=5,B=6,w=0,A=1,C=2,j=-2,F=-3,k=-4,I=-5,G=8,W=1,Q=2,J=3,Ee=4,ce=5,Ce=6,Ye=7,Le=8,ae=9,be=10,Se=11,Ie=12,nt=13,V=14,pe=15,Pe=16,Me=17,it=18,ut=19,vt=20,ct=21,At=22,$e=23,Tt=24,pt=25,kt=26,Ut=27,Vt=28,tn=29,Kt=30,on=31,bn=32,wn=852,xt=592,Bt=15,Ct=Bt;function nn(X){return(X>>>24&255)+(X>>>8&65280)+((X&65280)<<8)+((X&255)<<24)}function mt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function rt(X){var Be;return!X||!X.state?j:(Be=X.state,X.total_in=X.total_out=Be.total=0,X.msg="",Be.wrap&&(X.adler=Be.wrap&1),Be.mode=W,Be.last=0,Be.havedict=0,Be.dmax=32768,Be.head=null,Be.hold=0,Be.bits=0,Be.lencode=Be.lendyn=new c.Buf32(wn),Be.distcode=Be.distdyn=new c.Buf32(xt),Be.sane=1,Be.back=-1,w)}function bt(X){var Be;return!X||!X.state?j:(Be=X.state,Be.wsize=0,Be.whave=0,Be.wnext=0,rt(X))}function Ht(X,Be){var g,R;return!X||!X.state||(R=X.state,Be<0?(g=0,Be=-Be):(g=(Be>>4)+1,Be<48&&(Be&=15)),Be&&(Be<8||Be>15))?j:(R.window!==null&&R.wbits!==Be&&(R.window=null),R.wrap=g,R.wbits=Be,bt(X))}function rn(X,Be){var g,R;return X?(R=new mt,X.state=R,R.window=null,g=Ht(X,Be),g!==w&&(X.state=null),g):j}function Et(X){return rn(X,Ct)}var jt=!0,Ft,Nt;function Wt(X){if(jt){var Be;for(Ft=new c.Buf32(512),Nt=new c.Buf32(32),Be=0;Be<144;)X.lens[Be++]=8;for(;Be<256;)X.lens[Be++]=9;for(;Be<280;)X.lens[Be++]=7;for(;Be<288;)X.lens[Be++]=8;for(y(_,X.lens,0,288,Ft,0,X.work,{bits:9}),Be=0;Be<32;)X.lens[Be++]=5;y(O,X.lens,0,32,Nt,0,X.work,{bits:5}),jt=!1}X.lencode=Ft,X.lenbits=9,X.distcode=Nt,X.distbits=5}function hn(X,Be,g,R){var Z,m=X.state;return m.window===null&&(m.wsize=1<<m.wbits,m.wnext=0,m.whave=0,m.window=new c.Buf8(m.wsize)),R>=m.wsize?(c.arraySet(m.window,Be,g-m.wsize,m.wsize,0),m.wnext=0,m.whave=m.wsize):(Z=m.wsize-m.wnext,Z>R&&(Z=R),c.arraySet(m.window,Be,g-R,Z,m.wnext),R-=Z,R?(c.arraySet(m.window,Be,g-R,R,0),m.wnext=R,m.whave=m.wsize):(m.wnext+=Z,m.wnext===m.wsize&&(m.wnext=0),m.whave<m.wsize&&(m.whave+=Z))),0}function M(X,Be){var g,R,Z,m,te,ge,L,ee,De,lt,Ve,Je,zt,Tn,Yt=0,Lt,sn,St,Jt,An,ai,Mn,jn,Un=new c.Buf8(4),qn,ii,Si=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!X||!X.state||!X.output||!X.input&&X.avail_in!==0)return j;g=X.state,g.mode===Ie&&(g.mode=nt),te=X.next_out,Z=X.output,L=X.avail_out,m=X.next_in,R=X.input,ge=X.avail_in,ee=g.hold,De=g.bits,lt=ge,Ve=L,jn=w;e:for(;;)switch(g.mode){case W:if(g.wrap===0){g.mode=nt;break}for(;De<16;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}if(g.wrap&2&&ee===35615){g.check=0,Un[0]=ee&255,Un[1]=ee>>>8&255,g.check=p(g.check,Un,2,0),ee=0,De=0,g.mode=Q;break}if(g.flags=0,g.head&&(g.head.done=!1),!(g.wrap&1)||(((ee&255)<<8)+(ee>>8))%31){X.msg="incorrect header check",g.mode=Kt;break}if((ee&15)!==G){X.msg="unknown compression method",g.mode=Kt;break}if(ee>>>=4,De-=4,Mn=(ee&15)+8,g.wbits===0)g.wbits=Mn;else if(Mn>g.wbits){X.msg="invalid window size",g.mode=Kt;break}g.dmax=1<<Mn,X.adler=g.check=1,g.mode=ee&512?be:Ie,ee=0,De=0;break;case Q:for(;De<16;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}if(g.flags=ee,(g.flags&255)!==G){X.msg="unknown compression method",g.mode=Kt;break}if(g.flags&57344){X.msg="unknown header flags set",g.mode=Kt;break}g.head&&(g.head.text=ee>>8&1),g.flags&512&&(Un[0]=ee&255,Un[1]=ee>>>8&255,g.check=p(g.check,Un,2,0)),ee=0,De=0,g.mode=J;case J:for(;De<32;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}g.head&&(g.head.time=ee),g.flags&512&&(Un[0]=ee&255,Un[1]=ee>>>8&255,Un[2]=ee>>>16&255,Un[3]=ee>>>24&255,g.check=p(g.check,Un,4,0)),ee=0,De=0,g.mode=Ee;case Ee:for(;De<16;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}g.head&&(g.head.xflags=ee&255,g.head.os=ee>>8),g.flags&512&&(Un[0]=ee&255,Un[1]=ee>>>8&255,g.check=p(g.check,Un,2,0)),ee=0,De=0,g.mode=ce;case ce:if(g.flags&1024){for(;De<16;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}g.length=ee,g.head&&(g.head.extra_len=ee),g.flags&512&&(Un[0]=ee&255,Un[1]=ee>>>8&255,g.check=p(g.check,Un,2,0)),ee=0,De=0}else g.head&&(g.head.extra=null);g.mode=Ce;case Ce:if(g.flags&1024&&(Je=g.length,Je>ge&&(Je=ge),Je&&(g.head&&(Mn=g.head.extra_len-g.length,g.head.extra||(g.head.extra=new Array(g.head.extra_len)),c.arraySet(g.head.extra,R,m,Je,Mn)),g.flags&512&&(g.check=p(g.check,R,Je,m)),ge-=Je,m+=Je,g.length-=Je),g.length))break e;g.length=0,g.mode=Ye;case Ye:if(g.flags&2048){if(ge===0)break e;Je=0;do Mn=R[m+Je++],g.head&&Mn&&g.length<65536&&(g.head.name+=String.fromCharCode(Mn));while(Mn&&Je<ge);if(g.flags&512&&(g.check=p(g.check,R,Je,m)),ge-=Je,m+=Je,Mn)break e}else g.head&&(g.head.name=null);g.length=0,g.mode=Le;case Le:if(g.flags&4096){if(ge===0)break e;Je=0;do Mn=R[m+Je++],g.head&&Mn&&g.length<65536&&(g.head.comment+=String.fromCharCode(Mn));while(Mn&&Je<ge);if(g.flags&512&&(g.check=p(g.check,R,Je,m)),ge-=Je,m+=Je,Mn)break e}else g.head&&(g.head.comment=null);g.mode=ae;case ae:if(g.flags&512){for(;De<16;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}if(ee!==(g.check&65535)){X.msg="header crc mismatch",g.mode=Kt;break}ee=0,De=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0),X.adler=g.check=0,g.mode=Ie;break;case be:for(;De<32;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}X.adler=g.check=nn(ee),ee=0,De=0,g.mode=Se;case Se:if(g.havedict===0)return X.next_out=te,X.avail_out=L,X.next_in=m,X.avail_in=ge,g.hold=ee,g.bits=De,C;X.adler=g.check=1,g.mode=Ie;case Ie:if(Be===H||Be===B)break e;case nt:if(g.last){ee>>>=De&7,De-=De&7,g.mode=Ut;break}for(;De<3;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}switch(g.last=ee&1,ee>>>=1,De-=1,ee&3){case 0:g.mode=V;break;case 1:if(Wt(g),g.mode=vt,Be===B){ee>>>=2,De-=2;break e}break;case 2:g.mode=Me;break;case 3:X.msg="invalid block type",g.mode=Kt}ee>>>=2,De-=2;break;case V:for(ee>>>=De&7,De-=De&7;De<32;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}if((ee&65535)!==(ee>>>16^65535)){X.msg="invalid stored block lengths",g.mode=Kt;break}if(g.length=ee&65535,ee=0,De=0,g.mode=pe,Be===B)break e;case pe:g.mode=Pe;case Pe:if(Je=g.length,Je){if(Je>ge&&(Je=ge),Je>L&&(Je=L),Je===0)break e;c.arraySet(Z,R,m,Je,te),ge-=Je,m+=Je,L-=Je,te+=Je,g.length-=Je;break}g.mode=Ie;break;case Me:for(;De<14;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}if(g.nlen=(ee&31)+257,ee>>>=5,De-=5,g.ndist=(ee&31)+1,ee>>>=5,De-=5,g.ncode=(ee&15)+4,ee>>>=4,De-=4,g.nlen>286||g.ndist>30){X.msg="too many length or distance symbols",g.mode=Kt;break}g.have=0,g.mode=it;case it:for(;g.have<g.ncode;){for(;De<3;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}g.lens[Si[g.have++]]=ee&7,ee>>>=3,De-=3}for(;g.have<19;)g.lens[Si[g.have++]]=0;if(g.lencode=g.lendyn,g.lenbits=7,qn={bits:g.lenbits},jn=y(x,g.lens,0,19,g.lencode,0,g.work,qn),g.lenbits=qn.bits,jn){X.msg="invalid code lengths set",g.mode=Kt;break}g.have=0,g.mode=ut;case ut:for(;g.have<g.nlen+g.ndist;){for(;Yt=g.lencode[ee&(1<<g.lenbits)-1],Lt=Yt>>>24,sn=Yt>>>16&255,St=Yt&65535,!(Lt<=De);){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}if(St<16)ee>>>=Lt,De-=Lt,g.lens[g.have++]=St;else{if(St===16){for(ii=Lt+2;De<ii;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}if(ee>>>=Lt,De-=Lt,g.have===0){X.msg="invalid bit length repeat",g.mode=Kt;break}Mn=g.lens[g.have-1],Je=3+(ee&3),ee>>>=2,De-=2}else if(St===17){for(ii=Lt+3;De<ii;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}ee>>>=Lt,De-=Lt,Mn=0,Je=3+(ee&7),ee>>>=3,De-=3}else{for(ii=Lt+7;De<ii;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}ee>>>=Lt,De-=Lt,Mn=0,Je=11+(ee&127),ee>>>=7,De-=7}if(g.have+Je>g.nlen+g.ndist){X.msg="invalid bit length repeat",g.mode=Kt;break}for(;Je--;)g.lens[g.have++]=Mn}}if(g.mode===Kt)break;if(g.lens[256]===0){X.msg="invalid code -- missing end-of-block",g.mode=Kt;break}if(g.lenbits=9,qn={bits:g.lenbits},jn=y(_,g.lens,0,g.nlen,g.lencode,0,g.work,qn),g.lenbits=qn.bits,jn){X.msg="invalid literal/lengths set",g.mode=Kt;break}if(g.distbits=6,g.distcode=g.distdyn,qn={bits:g.distbits},jn=y(O,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,qn),g.distbits=qn.bits,jn){X.msg="invalid distances set",g.mode=Kt;break}if(g.mode=vt,Be===B)break e;case vt:g.mode=ct;case ct:if(ge>=6&&L>=258){X.next_out=te,X.avail_out=L,X.next_in=m,X.avail_in=ge,g.hold=ee,g.bits=De,v(X,Ve),te=X.next_out,Z=X.output,L=X.avail_out,m=X.next_in,R=X.input,ge=X.avail_in,ee=g.hold,De=g.bits,g.mode===Ie&&(g.back=-1);break}for(g.back=0;Yt=g.lencode[ee&(1<<g.lenbits)-1],Lt=Yt>>>24,sn=Yt>>>16&255,St=Yt&65535,!(Lt<=De);){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}if(sn&&(sn&240)===0){for(Jt=Lt,An=sn,ai=St;Yt=g.lencode[ai+((ee&(1<<Jt+An)-1)>>Jt)],Lt=Yt>>>24,sn=Yt>>>16&255,St=Yt&65535,!(Jt+Lt<=De);){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}ee>>>=Jt,De-=Jt,g.back+=Jt}if(ee>>>=Lt,De-=Lt,g.back+=Lt,g.length=St,sn===0){g.mode=kt;break}if(sn&32){g.back=-1,g.mode=Ie;break}if(sn&64){X.msg="invalid literal/length code",g.mode=Kt;break}g.extra=sn&15,g.mode=At;case At:if(g.extra){for(ii=g.extra;De<ii;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}g.length+=ee&(1<<g.extra)-1,ee>>>=g.extra,De-=g.extra,g.back+=g.extra}g.was=g.length,g.mode=$e;case $e:for(;Yt=g.distcode[ee&(1<<g.distbits)-1],Lt=Yt>>>24,sn=Yt>>>16&255,St=Yt&65535,!(Lt<=De);){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}if((sn&240)===0){for(Jt=Lt,An=sn,ai=St;Yt=g.distcode[ai+((ee&(1<<Jt+An)-1)>>Jt)],Lt=Yt>>>24,sn=Yt>>>16&255,St=Yt&65535,!(Jt+Lt<=De);){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}ee>>>=Jt,De-=Jt,g.back+=Jt}if(ee>>>=Lt,De-=Lt,g.back+=Lt,sn&64){X.msg="invalid distance code",g.mode=Kt;break}g.offset=St,g.extra=sn&15,g.mode=Tt;case Tt:if(g.extra){for(ii=g.extra;De<ii;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}g.offset+=ee&(1<<g.extra)-1,ee>>>=g.extra,De-=g.extra,g.back+=g.extra}if(g.offset>g.dmax){X.msg="invalid distance too far back",g.mode=Kt;break}g.mode=pt;case pt:if(L===0)break e;if(Je=Ve-L,g.offset>Je){if(Je=g.offset-Je,Je>g.whave&&g.sane){X.msg="invalid distance too far back",g.mode=Kt;break}Je>g.wnext?(Je-=g.wnext,zt=g.wsize-Je):zt=g.wnext-Je,Je>g.length&&(Je=g.length),Tn=g.window}else Tn=Z,zt=te-g.offset,Je=g.length;Je>L&&(Je=L),L-=Je,g.length-=Je;do Z[te++]=Tn[zt++];while(--Je);g.length===0&&(g.mode=ct);break;case kt:if(L===0)break e;Z[te++]=g.length,L--,g.mode=ct;break;case Ut:if(g.wrap){for(;De<32;){if(ge===0)break e;ge--,ee|=R[m++]<<De,De+=8}if(Ve-=L,X.total_out+=Ve,g.total+=Ve,Ve&&(X.adler=g.check=g.flags?p(g.check,Z,Ve,te-Ve):f(g.check,Z,Ve,te-Ve)),Ve=L,(g.flags?ee:nn(ee))!==g.check){X.msg="incorrect data check",g.mode=Kt;break}ee=0,De=0}g.mode=Vt;case Vt:if(g.wrap&&g.flags){for(;De<32;){if(ge===0)break e;ge--,ee+=R[m++]<<De,De+=8}if(ee!==(g.total&4294967295)){X.msg="incorrect length check",g.mode=Kt;break}ee=0,De=0}g.mode=tn;case tn:jn=A;break e;case Kt:jn=F;break e;case on:return k;case bn:default:return j}return X.next_out=te,X.avail_out=L,X.next_in=m,X.avail_in=ge,g.hold=ee,g.bits=De,(g.wsize||Ve!==X.avail_out&&g.mode<Kt&&(g.mode<Ut||Be!==T))&&hn(X,X.output,X.next_out,Ve-X.avail_out),lt-=X.avail_in,Ve-=X.avail_out,X.total_in+=lt,X.total_out+=Ve,g.total+=Ve,g.wrap&&Ve&&(X.adler=g.check=g.flags?p(g.check,Z,Ve,X.next_out-Ve):f(g.check,Z,Ve,X.next_out-Ve)),X.data_type=g.bits+(g.last?64:0)+(g.mode===Ie?128:0)+(g.mode===vt||g.mode===pe?256:0),(lt===0&&Ve===0||Be===T)&&jn===w&&(jn=I),jn}function Fe(X){if(!X||!X.state)return j;var Be=X.state;return Be.window&&(Be.window=null),X.state=null,w}function Ze(X,Be){var g;return!X||!X.state||(g=X.state,(g.wrap&2)===0)?j:(g.head=Be,Be.done=!1,w)}function ot(X,Be){var g=Be.length,R,Z,m;return!X||!X.state||(R=X.state,R.wrap!==0&&R.mode!==Se)?j:R.mode===Se&&(Z=1,Z=f(Z,Be,g,0),Z!==R.check)?F:(m=hn(X,Be,g,g),m?(R.mode=on,k):(R.havedict=1,w))}u.inflateReset=bt,u.inflateReset2=Ht,u.inflateResetKeep=rt,u.inflateInit=Et,u.inflateInit2=rn,u.inflate=M,u.inflateEnd=Fe,u.inflateGetHeader=Ze,u.inflateSetDictionary=ot,u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,s,u){var c=r("../utils/common"),f=15,p=852,v=592,y=0,x=1,_=2,O=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],T=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],B=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(A,C,j,F,k,I,G,W){var Q=W.bits,J=0,Ee=0,ce=0,Ce=0,Ye=0,Le=0,ae=0,be=0,Se=0,Ie=0,nt,V,pe,Pe,Me,it=null,ut=0,vt,ct=new c.Buf16(f+1),At=new c.Buf16(f+1),$e=null,Tt=0,pt,kt,Ut;for(J=0;J<=f;J++)ct[J]=0;for(Ee=0;Ee<F;Ee++)ct[C[j+Ee]]++;for(Ye=Q,Ce=f;Ce>=1&&ct[Ce]===0;Ce--);if(Ye>Ce&&(Ye=Ce),Ce===0)return k[I++]=1<<24|64<<16|0,k[I++]=1<<24|64<<16|0,W.bits=1,0;for(ce=1;ce<Ce&&ct[ce]===0;ce++);for(Ye<ce&&(Ye=ce),be=1,J=1;J<=f;J++)if(be<<=1,be-=ct[J],be<0)return-1;if(be>0&&(A===y||Ce!==1))return-1;for(At[1]=0,J=1;J<f;J++)At[J+1]=At[J]+ct[J];for(Ee=0;Ee<F;Ee++)C[j+Ee]!==0&&(G[At[C[j+Ee]]++]=Ee);if(A===y?(it=$e=G,vt=19):A===x?(it=O,ut-=257,$e=T,Tt-=257,vt=256):(it=H,$e=B,vt=-1),Ie=0,Ee=0,J=ce,Me=I,Le=Ye,ae=0,pe=-1,Se=1<<Ye,Pe=Se-1,A===x&&Se>p||A===_&&Se>v)return 1;for(;;){pt=J-ae,G[Ee]<vt?(kt=0,Ut=G[Ee]):G[Ee]>vt?(kt=$e[Tt+G[Ee]],Ut=it[ut+G[Ee]]):(kt=96,Ut=0),nt=1<<J-ae,V=1<<Le,ce=V;do V-=nt,k[Me+(Ie>>ae)+V]=pt<<24|kt<<16|Ut|0;while(V!==0);for(nt=1<<J-1;Ie&nt;)nt>>=1;if(nt!==0?(Ie&=nt-1,Ie+=nt):Ie=0,Ee++,--ct[J]===0){if(J===Ce)break;J=C[j+G[Ee]]}if(J>Ye&&(Ie&Pe)!==pe){for(ae===0&&(ae=Ye),Me+=ce,Le=J-ae,be=1<<Le;Le+ae<Ce&&(be-=ct[Le+ae],!(be<=0));)Le++,be<<=1;if(Se+=1<<Le,A===x&&Se>p||A===_&&Se>v)return 1;pe=Ie&Pe,k[pe]=Ye<<24|Le<<16|Me-I|0}}return Ie!==0&&(k[Me+Ie]=J-ae<<24|64<<16|0),W.bits=Ye,0}},{"../utils/common":41}],51:[function(r,s,u){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,s,u){var c=r("../utils/common"),f=4,p=0,v=1,y=2;function x(M){for(var Fe=M.length;--Fe>=0;)M[Fe]=0}var _=0,O=1,T=2,H=3,B=258,w=29,A=256,C=A+1+w,j=30,F=19,k=2*C+1,I=15,G=16,W=7,Q=256,J=16,Ee=17,ce=18,Ce=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ye=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],be=512,Se=new Array((C+2)*2);x(Se);var Ie=new Array(j*2);x(Ie);var nt=new Array(be);x(nt);var V=new Array(B-H+1);x(V);var pe=new Array(w);x(pe);var Pe=new Array(j);x(Pe);function Me(M,Fe,Ze,ot,X){this.static_tree=M,this.extra_bits=Fe,this.extra_base=Ze,this.elems=ot,this.max_length=X,this.has_stree=M&&M.length}var it,ut,vt;function ct(M,Fe){this.dyn_tree=M,this.max_code=0,this.stat_desc=Fe}function At(M){return M<256?nt[M]:nt[256+(M>>>7)]}function $e(M,Fe){M.pending_buf[M.pending++]=Fe&255,M.pending_buf[M.pending++]=Fe>>>8&255}function Tt(M,Fe,Ze){M.bi_valid>G-Ze?(M.bi_buf|=Fe<<M.bi_valid&65535,$e(M,M.bi_buf),M.bi_buf=Fe>>G-M.bi_valid,M.bi_valid+=Ze-G):(M.bi_buf|=Fe<<M.bi_valid&65535,M.bi_valid+=Ze)}function pt(M,Fe,Ze){Tt(M,Ze[Fe*2],Ze[Fe*2+1])}function kt(M,Fe){var Ze=0;do Ze|=M&1,M>>>=1,Ze<<=1;while(--Fe>0);return Ze>>>1}function Ut(M){M.bi_valid===16?($e(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):M.bi_valid>=8&&(M.pending_buf[M.pending++]=M.bi_buf&255,M.bi_buf>>=8,M.bi_valid-=8)}function Vt(M,Fe){var Ze=Fe.dyn_tree,ot=Fe.max_code,X=Fe.stat_desc.static_tree,Be=Fe.stat_desc.has_stree,g=Fe.stat_desc.extra_bits,R=Fe.stat_desc.extra_base,Z=Fe.stat_desc.max_length,m,te,ge,L,ee,De,lt=0;for(L=0;L<=I;L++)M.bl_count[L]=0;for(Ze[M.heap[M.heap_max]*2+1]=0,m=M.heap_max+1;m<k;m++)te=M.heap[m],L=Ze[Ze[te*2+1]*2+1]+1,L>Z&&(L=Z,lt++),Ze[te*2+1]=L,!(te>ot)&&(M.bl_count[L]++,ee=0,te>=R&&(ee=g[te-R]),De=Ze[te*2],M.opt_len+=De*(L+ee),Be&&(M.static_len+=De*(X[te*2+1]+ee)));if(lt!==0){do{for(L=Z-1;M.bl_count[L]===0;)L--;M.bl_count[L]--,M.bl_count[L+1]+=2,M.bl_count[Z]--,lt-=2}while(lt>0);for(L=Z;L!==0;L--)for(te=M.bl_count[L];te!==0;)ge=M.heap[--m],!(ge>ot)&&(Ze[ge*2+1]!==L&&(M.opt_len+=(L-Ze[ge*2+1])*Ze[ge*2],Ze[ge*2+1]=L),te--)}}function tn(M,Fe,Ze){var ot=new Array(I+1),X=0,Be,g;for(Be=1;Be<=I;Be++)ot[Be]=X=X+Ze[Be-1]<<1;for(g=0;g<=Fe;g++){var R=M[g*2+1];R!==0&&(M[g*2]=kt(ot[R]++,R))}}function Kt(){var M,Fe,Ze,ot,X,Be=new Array(I+1);for(Ze=0,ot=0;ot<w-1;ot++)for(pe[ot]=Ze,M=0;M<1<<Ce[ot];M++)V[Ze++]=ot;for(V[Ze-1]=ot,X=0,ot=0;ot<16;ot++)for(Pe[ot]=X,M=0;M<1<<Ye[ot];M++)nt[X++]=ot;for(X>>=7;ot<j;ot++)for(Pe[ot]=X<<7,M=0;M<1<<Ye[ot]-7;M++)nt[256+X++]=ot;for(Fe=0;Fe<=I;Fe++)Be[Fe]=0;for(M=0;M<=143;)Se[M*2+1]=8,M++,Be[8]++;for(;M<=255;)Se[M*2+1]=9,M++,Be[9]++;for(;M<=279;)Se[M*2+1]=7,M++,Be[7]++;for(;M<=287;)Se[M*2+1]=8,M++,Be[8]++;for(tn(Se,C+1,Be),M=0;M<j;M++)Ie[M*2+1]=5,Ie[M*2]=kt(M,5);it=new Me(Se,Ce,A+1,C,I),ut=new Me(Ie,Ye,0,j,I),vt=new Me(new Array(0),Le,0,F,W)}function on(M){var Fe;for(Fe=0;Fe<C;Fe++)M.dyn_ltree[Fe*2]=0;for(Fe=0;Fe<j;Fe++)M.dyn_dtree[Fe*2]=0;for(Fe=0;Fe<F;Fe++)M.bl_tree[Fe*2]=0;M.dyn_ltree[Q*2]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function bn(M){M.bi_valid>8?$e(M,M.bi_buf):M.bi_valid>0&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function wn(M,Fe,Ze,ot){bn(M),$e(M,Ze),$e(M,~Ze),c.arraySet(M.pending_buf,M.window,Fe,Ze,M.pending),M.pending+=Ze}function xt(M,Fe,Ze,ot){var X=Fe*2,Be=Ze*2;return M[X]<M[Be]||M[X]===M[Be]&&ot[Fe]<=ot[Ze]}function Bt(M,Fe,Ze){for(var ot=M.heap[Ze],X=Ze<<1;X<=M.heap_len&&(X<M.heap_len&&xt(Fe,M.heap[X+1],M.heap[X],M.depth)&&X++,!xt(Fe,ot,M.heap[X],M.depth));)M.heap[Ze]=M.heap[X],Ze=X,X<<=1;M.heap[Ze]=ot}function Ct(M,Fe,Ze){var ot,X,Be=0,g,R;if(M.last_lit!==0)do ot=M.pending_buf[M.d_buf+Be*2]<<8|M.pending_buf[M.d_buf+Be*2+1],X=M.pending_buf[M.l_buf+Be],Be++,ot===0?pt(M,X,Fe):(g=V[X],pt(M,g+A+1,Fe),R=Ce[g],R!==0&&(X-=pe[g],Tt(M,X,R)),ot--,g=At(ot),pt(M,g,Ze),R=Ye[g],R!==0&&(ot-=Pe[g],Tt(M,ot,R)));while(Be<M.last_lit);pt(M,Q,Fe)}function nn(M,Fe){var Ze=Fe.dyn_tree,ot=Fe.stat_desc.static_tree,X=Fe.stat_desc.has_stree,Be=Fe.stat_desc.elems,g,R,Z=-1,m;for(M.heap_len=0,M.heap_max=k,g=0;g<Be;g++)Ze[g*2]!==0?(M.heap[++M.heap_len]=Z=g,M.depth[g]=0):Ze[g*2+1]=0;for(;M.heap_len<2;)m=M.heap[++M.heap_len]=Z<2?++Z:0,Ze[m*2]=1,M.depth[m]=0,M.opt_len--,X&&(M.static_len-=ot[m*2+1]);for(Fe.max_code=Z,g=M.heap_len>>1;g>=1;g--)Bt(M,Ze,g);m=Be;do g=M.heap[1],M.heap[1]=M.heap[M.heap_len--],Bt(M,Ze,1),R=M.heap[1],M.heap[--M.heap_max]=g,M.heap[--M.heap_max]=R,Ze[m*2]=Ze[g*2]+Ze[R*2],M.depth[m]=(M.depth[g]>=M.depth[R]?M.depth[g]:M.depth[R])+1,Ze[g*2+1]=Ze[R*2+1]=m,M.heap[1]=m++,Bt(M,Ze,1);while(M.heap_len>=2);M.heap[--M.heap_max]=M.heap[1],Vt(M,Fe),tn(Ze,Z,M.bl_count)}function mt(M,Fe,Ze){var ot,X=-1,Be,g=Fe[1],R=0,Z=7,m=4;for(g===0&&(Z=138,m=3),Fe[(Ze+1)*2+1]=65535,ot=0;ot<=Ze;ot++)Be=g,g=Fe[(ot+1)*2+1],!(++R<Z&&Be===g)&&(R<m?M.bl_tree[Be*2]+=R:Be!==0?(Be!==X&&M.bl_tree[Be*2]++,M.bl_tree[J*2]++):R<=10?M.bl_tree[Ee*2]++:M.bl_tree[ce*2]++,R=0,X=Be,g===0?(Z=138,m=3):Be===g?(Z=6,m=3):(Z=7,m=4))}function rt(M,Fe,Ze){var ot,X=-1,Be,g=Fe[1],R=0,Z=7,m=4;for(g===0&&(Z=138,m=3),ot=0;ot<=Ze;ot++)if(Be=g,g=Fe[(ot+1)*2+1],!(++R<Z&&Be===g)){if(R<m)do pt(M,Be,M.bl_tree);while(--R!==0);else Be!==0?(Be!==X&&(pt(M,Be,M.bl_tree),R--),pt(M,J,M.bl_tree),Tt(M,R-3,2)):R<=10?(pt(M,Ee,M.bl_tree),Tt(M,R-3,3)):(pt(M,ce,M.bl_tree),Tt(M,R-11,7));R=0,X=Be,g===0?(Z=138,m=3):Be===g?(Z=6,m=3):(Z=7,m=4)}}function bt(M){var Fe;for(mt(M,M.dyn_ltree,M.l_desc.max_code),mt(M,M.dyn_dtree,M.d_desc.max_code),nn(M,M.bl_desc),Fe=F-1;Fe>=3&&M.bl_tree[ae[Fe]*2+1]===0;Fe--);return M.opt_len+=3*(Fe+1)+5+5+4,Fe}function Ht(M,Fe,Ze,ot){var X;for(Tt(M,Fe-257,5),Tt(M,Ze-1,5),Tt(M,ot-4,4),X=0;X<ot;X++)Tt(M,M.bl_tree[ae[X]*2+1],3);rt(M,M.dyn_ltree,Fe-1),rt(M,M.dyn_dtree,Ze-1)}function rn(M){var Fe=4093624447,Ze;for(Ze=0;Ze<=31;Ze++,Fe>>>=1)if(Fe&1&&M.dyn_ltree[Ze*2]!==0)return p;if(M.dyn_ltree[18]!==0||M.dyn_ltree[20]!==0||M.dyn_ltree[26]!==0)return v;for(Ze=32;Ze<A;Ze++)if(M.dyn_ltree[Ze*2]!==0)return v;return p}var Et=!1;function jt(M){Et||(Kt(),Et=!0),M.l_desc=new ct(M.dyn_ltree,it),M.d_desc=new ct(M.dyn_dtree,ut),M.bl_desc=new ct(M.bl_tree,vt),M.bi_buf=0,M.bi_valid=0,on(M)}function Ft(M,Fe,Ze,ot){Tt(M,(_<<1)+(ot?1:0),3),wn(M,Fe,Ze)}function Nt(M){Tt(M,O<<1,3),pt(M,Q,Se),Ut(M)}function Wt(M,Fe,Ze,ot){var X,Be,g=0;M.level>0?(M.strm.data_type===y&&(M.strm.data_type=rn(M)),nn(M,M.l_desc),nn(M,M.d_desc),g=bt(M),X=M.opt_len+3+7>>>3,Be=M.static_len+3+7>>>3,Be<=X&&(X=Be)):X=Be=Ze+5,Ze+4<=X&&Fe!==-1?Ft(M,Fe,Ze,ot):M.strategy===f||Be===X?(Tt(M,(O<<1)+(ot?1:0),3),Ct(M,Se,Ie)):(Tt(M,(T<<1)+(ot?1:0),3),Ht(M,M.l_desc.max_code+1,M.d_desc.max_code+1,g+1),Ct(M,M.dyn_ltree,M.dyn_dtree)),on(M),ot&&bn(M)}function hn(M,Fe,Ze){return M.pending_buf[M.d_buf+M.last_lit*2]=Fe>>>8&255,M.pending_buf[M.d_buf+M.last_lit*2+1]=Fe&255,M.pending_buf[M.l_buf+M.last_lit]=Ze&255,M.last_lit++,Fe===0?M.dyn_ltree[Ze*2]++:(M.matches++,Fe--,M.dyn_ltree[(V[Ze]+A+1)*2]++,M.dyn_dtree[At(Fe)*2]++),M.last_lit===M.lit_bufsize-1}u._tr_init=jt,u._tr_stored_block=Ft,u._tr_flush_block=Wt,u._tr_tally=hn,u._tr_align=Nt},{"../utils/common":41}],53:[function(r,s,u){function c(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}s.exports=c},{}],54:[function(r,s,u){(function(c){(function(f,p){if(f.setImmediate)return;var v=1,y={},x=!1,_=f.document,O;function T(W){typeof W!="function"&&(W=new Function(""+W));for(var Q=new Array(arguments.length-1),J=0;J<Q.length;J++)Q[J]=arguments[J+1];var Ee={callback:W,args:Q};return y[v]=Ee,O(v),v++}function H(W){delete y[W]}function B(W){var Q=W.callback,J=W.args;switch(J.length){case 0:Q();break;case 1:Q(J[0]);break;case 2:Q(J[0],J[1]);break;case 3:Q(J[0],J[1],J[2]);break;default:Q.apply(p,J);break}}function w(W){if(x)setTimeout(w,0,W);else{var Q=y[W];if(Q){x=!0;try{B(Q)}finally{H(W),x=!1}}}}function A(){O=function(W){process.nextTick(function(){w(W)})}}function C(){if(f.postMessage&&!f.importScripts){var W=!0,Q=f.onmessage;return f.onmessage=function(){W=!1},f.postMessage("","*"),f.onmessage=Q,W}}function j(){var W="setImmediate$"+Math.random()+"$",Q=function(J){J.source===f&&typeof J.data=="string"&&J.data.indexOf(W)===0&&w(+J.data.slice(W.length))};f.addEventListener?f.addEventListener("message",Q,!1):f.attachEvent("onmessage",Q),O=function(J){f.postMessage(W+J,"*")}}function F(){var W=new MessageChannel;W.port1.onmessage=function(Q){var J=Q.data;w(J)},O=function(Q){W.port2.postMessage(Q)}}function k(){var W=_.documentElement;O=function(Q){var J=_.createElement("script");J.onreadystatechange=function(){w(Q),J.onreadystatechange=null,W.removeChild(J),J=null},W.appendChild(J)}}function I(){O=function(W){setTimeout(w,0,W)}}var G=Object.getPrototypeOf&&Object.getPrototypeOf(f);G=G&&G.setTimeout?G:f,{}.toString.call(f.process)==="[object process]"?A():C()?j():f.MessageChannel?F():_&&"onreadystatechange"in _.createElement("script")?k():I(),G.setImmediate=T,G.clearImmediate=H})(typeof self>"u"?typeof c>"u"?this:c:self)}).call(this,typeof Hi<"u"?Hi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(lh)),lh.exports}var T2=C2();const N2=Vr(T2);class O2{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new N2}catch{throw new Error("JSZip lib not loaded")}}open(i,r){return this.zip.loadAsync(i,{base64:r})}openUrl(i,r){return Xu(i,"binary").then((function(s){return this.zip.loadAsync(s,{base64:r})}).bind(this))}request(i,r){var s=new vn,u,c=new Yr(i);return r||(r=c.extension),r=="blob"?u=this.getBlob(i):u=this.getText(i),u?u.then((function(f){let p=this.handleResponse(f,r);s.resolve(p)}).bind(this)):s.reject({message:"File not found in the epub: "+i,stack:new Error().stack}),s.promise}handleResponse(i,r){var s;return r=="json"?s=JSON.parse(i):Zu(r)?s=vr(i,"text/xml"):r=="xhtml"?s=vr(i,"application/xhtml+xml"):r=="html"||r=="htm"?s=vr(i,"text/html"):s=i,s}getBlob(i,r){var s=window.decodeURIComponent(i.substr(1)),u=this.zip.file(s);if(u)return r=r||Ks.lookup(u.name),u.async("uint8array").then(function(c){return new Blob([c],{type:r})})}getText(i,r){var s=window.decodeURIComponent(i.substr(1)),u=this.zip.file(s);if(u)return u.async("string").then(function(c){return c})}getBase64(i,r){var s=window.decodeURIComponent(i.substr(1)),u=this.zip.file(s);if(u)return r=r||Ks.lookup(u.name),u.async("base64").then(function(c){return"data:"+r+";base64,"+c})}createUrl(i,r){var s=new vn,u=window.URL||window.webkitURL||window.mozURL,c,f,p=r&&r.base64;return i in this.urlCache?(s.resolve(this.urlCache[i]),s.promise):(p?(f=this.getBase64(i),f&&f.then((function(v){this.urlCache[i]=v,s.resolve(v)}).bind(this))):(f=this.getBlob(i),f&&f.then((function(v){c=u.createObjectURL(v),this.urlCache[i]=c,s.resolve(c)}).bind(this))),f||s.reject({message:"File not found in the epub: "+i,stack:new Error().stack}),s.promise)}revokeUrl(i){var r=window.URL||window.webkitURL||window.mozURL,s=this.urlCache[i];s&&r.revokeObjectURL(s)}destroy(){var i=window.URL||window.webkitURL||window.mozURL;for(let r in this.urlCache)i.revokeObjectURL(r);this.zip=void 0,this.urlCache={}}}var oh={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var qm;function R2(){return qm||(qm=1,(function(D,i){(function(r){D.exports=r()})(function(){return(function r(s,u,c){function f(y,x){if(!u[y]){if(!s[y]){var _=typeof Da=="function"&&Da;if(!x&&_)return _(y,!0);if(p)return p(y,!0);var O=new Error("Cannot find module '"+y+"'");throw O.code="MODULE_NOT_FOUND",O}var T=u[y]={exports:{}};s[y][0].call(T.exports,function(H){var B=s[y][1][H];return f(B||H)},T,T.exports,r,s,u,c)}return u[y].exports}for(var p=typeof Da=="function"&&Da,v=0;v<c.length;v++)f(c[v]);return f})({1:[function(r,s,u){(function(c){var f=c.MutationObserver||c.WebKitMutationObserver,p;if(f){var v=0,y=new f(H),x=c.document.createTextNode("");y.observe(x,{characterData:!0}),p=function(){x.data=v=++v%2}}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var _=new c.MessageChannel;_.port1.onmessage=H,p=function(){_.port2.postMessage(0)}}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?p=function(){var w=c.document.createElement("script");w.onreadystatechange=function(){H(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},c.document.documentElement.appendChild(w)}:p=function(){setTimeout(H,0)};var O,T=[];function H(){O=!0;for(var w,A,C=T.length;C;){for(A=T,T=[],w=-1;++w<C;)A[w]();C=T.length}O=!1}s.exports=B;function B(w){T.push(w)===1&&!O&&p()}}).call(this,typeof Hi<"u"?Hi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,s,u){var c=r(1);function f(){}var p={},v=["REJECTED"],y=["FULFILLED"],x=["PENDING"];s.exports=_;function _(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,k!==f&&B(this,k)}_.prototype.catch=function(k){return this.then(null,k)},_.prototype.then=function(k,I){if(typeof k!="function"&&this.state===y||typeof I!="function"&&this.state===v)return this;var G=new this.constructor(f);if(this.state!==x){var W=this.state===y?k:I;T(G,W,this.outcome)}else this.queue.push(new O(G,k,I));return G};function O(k,I,G){this.promise=k,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof G=="function"&&(this.onRejected=G,this.callRejected=this.otherCallRejected)}O.prototype.callFulfilled=function(k){p.resolve(this.promise,k)},O.prototype.otherCallFulfilled=function(k){T(this.promise,this.onFulfilled,k)},O.prototype.callRejected=function(k){p.reject(this.promise,k)},O.prototype.otherCallRejected=function(k){T(this.promise,this.onRejected,k)};function T(k,I,G){c(function(){var W;try{W=I(G)}catch(Q){return p.reject(k,Q)}W===k?p.reject(k,new TypeError("Cannot resolve promise with itself")):p.resolve(k,W)})}p.resolve=function(k,I){var G=w(H,I);if(G.status==="error")return p.reject(k,G.value);var W=G.value;if(W)B(k,W);else{k.state=y,k.outcome=I;for(var Q=-1,J=k.queue.length;++Q<J;)k.queue[Q].callFulfilled(I)}return k},p.reject=function(k,I){k.state=v,k.outcome=I;for(var G=-1,W=k.queue.length;++G<W;)k.queue[G].callRejected(I);return k};function H(k){var I=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof I=="function")return function(){I.apply(k,arguments)}}function B(k,I){var G=!1;function W(ce){G||(G=!0,p.reject(k,ce))}function Q(ce){G||(G=!0,p.resolve(k,ce))}function J(){I(Q,W)}var Ee=w(J);Ee.status==="error"&&W(Ee.value)}function w(k,I){var G={};try{G.value=k(I),G.status="success"}catch(W){G.status="error",G.value=W}return G}_.resolve=A;function A(k){return k instanceof this?k:p.resolve(new this(f),k)}_.reject=C;function C(k){var I=new this(f);return p.reject(I,k)}_.all=j;function j(k){var I=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=k.length,W=!1;if(!G)return this.resolve([]);for(var Q=new Array(G),J=0,Ee=-1,ce=new this(f);++Ee<G;)Ce(k[Ee],Ee);return ce;function Ce(Ye,Le){I.resolve(Ye).then(ae,function(be){W||(W=!0,p.reject(ce,be))});function ae(be){Q[Le]=be,++J===G&&!W&&(W=!0,p.resolve(ce,Q))}}}_.race=F;function F(k){var I=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=k.length,W=!1;if(!G)return this.resolve([]);for(var Q=-1,J=new this(f);++Q<G;)Ee(k[Q]);return J;function Ee(ce){I.resolve(ce).then(function(Ce){W||(W=!0,p.resolve(J,Ce))},function(Ce){W||(W=!0,p.reject(J,Ce))})}}},{1:1}],3:[function(r,s,u){(function(c){typeof c.Promise!="function"&&(c.Promise=r(2))}).call(this,typeof Hi<"u"?Hi:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,s,u){var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};function f(q,ie){if(!(q instanceof ie))throw new TypeError("Cannot call a class as a function")}function p(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var v=p();function y(){try{if(!v||!v.open)return!1;var q=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ie=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!q||ie)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function x(q,ie){q=q||[],ie=ie||{};try{return new Blob(q,ie)}catch(ve){if(ve.name!=="TypeError")throw ve;for(var Y=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,me=new Y,we=0;we<q.length;we+=1)me.append(q[we]);return me.getBlob(ie.type)}}typeof Promise>"u"&&r(3);var _=Promise;function O(q,ie){ie&&q.then(function(Y){ie(null,Y)},function(Y){ie(Y)})}function T(q,ie,Y){typeof ie=="function"&&q.then(ie),typeof Y=="function"&&q.catch(Y)}function H(q){return typeof q!="string"&&(console.warn(q+" used as a key, but it is not a string."),q=String(q)),q}function B(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",A=void 0,C={},j=Object.prototype.toString,F="readonly",k="readwrite";function I(q){for(var ie=q.length,Y=new ArrayBuffer(ie),me=new Uint8Array(Y),we=0;we<ie;we++)me[we]=q.charCodeAt(we);return Y}function G(q){return new _(function(ie){var Y=q.transaction(w,k),me=x([""]);Y.objectStore(w).put(me,"key"),Y.onabort=function(we){we.preventDefault(),we.stopPropagation(),ie(!1)},Y.oncomplete=function(){var we=navigator.userAgent.match(/Chrome\/(\d+)/),ve=navigator.userAgent.match(/Edge\//);ie(ve||!we||parseInt(we[1],10)>=43)}}).catch(function(){return!1})}function W(q){return typeof A=="boolean"?_.resolve(A):G(q).then(function(ie){return A=ie,A})}function Q(q){var ie=C[q.name],Y={};Y.promise=new _(function(me,we){Y.resolve=me,Y.reject=we}),ie.deferredOperations.push(Y),ie.dbReady?ie.dbReady=ie.dbReady.then(function(){return Y.promise}):ie.dbReady=Y.promise}function J(q){var ie=C[q.name],Y=ie.deferredOperations.pop();if(Y)return Y.resolve(),Y.promise}function Ee(q,ie){var Y=C[q.name],me=Y.deferredOperations.pop();if(me)return me.reject(ie),me.promise}function ce(q,ie){return new _(function(Y,me){if(C[q.name]=C[q.name]||pe(),q.db)if(ie)Q(q),q.db.close();else return Y(q.db);var we=[q.name];ie&&we.push(q.version);var ve=v.open.apply(v,we);ie&&(ve.onupgradeneeded=function(qe){var ze=ve.result;try{ze.createObjectStore(q.storeName),qe.oldVersion<=1&&ze.createObjectStore(w)}catch(et){if(et.name==="ConstraintError")console.warn('The database "'+q.name+'" has been upgraded from version '+qe.oldVersion+" to version "+qe.newVersion+', but the storage "'+q.storeName+'" already exists.');else throw et}}),ve.onerror=function(qe){qe.preventDefault(),me(ve.error)},ve.onsuccess=function(){var qe=ve.result;qe.onversionchange=function(ze){ze.target.close()},Y(qe),J(q)}})}function Ce(q){return ce(q,!1)}function Ye(q){return ce(q,!0)}function Le(q,ie){if(!q.db)return!0;var Y=!q.db.objectStoreNames.contains(q.storeName),me=q.version<q.db.version,we=q.version>q.db.version;if(me&&(q.version!==ie&&console.warn('The database "'+q.name+`" can't be downgraded from version `+q.db.version+" to version "+q.version+"."),q.version=q.db.version),we||Y){if(Y){var ve=q.db.version+1;ve>q.version&&(q.version=ve)}return!0}return!1}function ae(q){return new _(function(ie,Y){var me=new FileReader;me.onerror=Y,me.onloadend=function(we){var ve=btoa(we.target.result||"");ie({__local_forage_encoded_blob:!0,data:ve,type:q.type})},me.readAsBinaryString(q)})}function be(q){var ie=I(atob(q.data));return x([ie],{type:q.type})}function Se(q){return q&&q.__local_forage_encoded_blob}function Ie(q){var ie=this,Y=ie._initReady().then(function(){var me=C[ie._dbInfo.name];if(me&&me.dbReady)return me.dbReady});return T(Y,q,q),Y}function nt(q){Q(q);for(var ie=C[q.name],Y=ie.forages,me=0;me<Y.length;me++){var we=Y[me];we._dbInfo.db&&(we._dbInfo.db.close(),we._dbInfo.db=null)}return q.db=null,Ce(q).then(function(ve){return q.db=ve,Le(q)?Ye(q):ve}).then(function(ve){q.db=ie.db=ve;for(var qe=0;qe<Y.length;qe++)Y[qe]._dbInfo.db=ve}).catch(function(ve){throw Ee(q,ve),ve})}function V(q,ie,Y,me){me===void 0&&(me=1);try{var we=q.db.transaction(q.storeName,ie);Y(null,we)}catch(ve){if(me>0&&(!q.db||ve.name==="InvalidStateError"||ve.name==="NotFoundError"))return _.resolve().then(function(){if(!q.db||ve.name==="NotFoundError"&&!q.db.objectStoreNames.contains(q.storeName)&&q.version<=q.db.version)return q.db&&(q.version=q.db.version+1),Ye(q)}).then(function(){return nt(q).then(function(){V(q,ie,Y,me-1)})}).catch(Y);Y(ve)}}function pe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Pe(q){var ie=this,Y={db:null};if(q)for(var me in q)Y[me]=q[me];var we=C[Y.name];we||(we=pe(),C[Y.name]=we),we.forages.push(ie),ie._initReady||(ie._initReady=ie.ready,ie.ready=Ie);var ve=[];function qe(){return _.resolve()}for(var ze=0;ze<we.forages.length;ze++){var et=we.forages[ze];et!==ie&&ve.push(et._initReady().catch(qe))}var Ke=we.forages.slice(0);return _.all(ve).then(function(){return Y.db=we.db,Ce(Y)}).then(function(tt){return Y.db=tt,Le(Y,ie._defaultConfig.version)?Ye(Y):tt}).then(function(tt){Y.db=we.db=tt,ie._dbInfo=Y;for(var wt=0;wt<Ke.length;wt++){var It=Ke[wt];It!==ie&&(It._dbInfo.db=Y.db,It._dbInfo.version=Y.version)}})}function Me(q,ie){var Y=this;q=H(q);var me=new _(function(we,ve){Y.ready().then(function(){V(Y._dbInfo,F,function(qe,ze){if(qe)return ve(qe);try{var et=ze.objectStore(Y._dbInfo.storeName),Ke=et.get(q);Ke.onsuccess=function(){var tt=Ke.result;tt===void 0&&(tt=null),Se(tt)&&(tt=be(tt)),we(tt)},Ke.onerror=function(){ve(Ke.error)}}catch(tt){ve(tt)}})}).catch(ve)});return O(me,ie),me}function it(q,ie){var Y=this,me=new _(function(we,ve){Y.ready().then(function(){V(Y._dbInfo,F,function(qe,ze){if(qe)return ve(qe);try{var et=ze.objectStore(Y._dbInfo.storeName),Ke=et.openCursor(),tt=1;Ke.onsuccess=function(){var wt=Ke.result;if(wt){var It=wt.value;Se(It)&&(It=be(It));var Xt=q(It,wt.key,tt++);Xt!==void 0?we(Xt):wt.continue()}else we()},Ke.onerror=function(){ve(Ke.error)}}catch(wt){ve(wt)}})}).catch(ve)});return O(me,ie),me}function ut(q,ie,Y){var me=this;q=H(q);var we=new _(function(ve,qe){var ze;me.ready().then(function(){return ze=me._dbInfo,j.call(ie)==="[object Blob]"?W(ze.db).then(function(et){return et?ie:ae(ie)}):ie}).then(function(et){V(me._dbInfo,k,function(Ke,tt){if(Ke)return qe(Ke);try{var wt=tt.objectStore(me._dbInfo.storeName);et===null&&(et=void 0);var It=wt.put(et,q);tt.oncomplete=function(){et===void 0&&(et=null),ve(et)},tt.onabort=tt.onerror=function(){var Xt=It.error?It.error:It.transaction.error;qe(Xt)}}catch(Xt){qe(Xt)}})}).catch(qe)});return O(we,Y),we}function vt(q,ie){var Y=this;q=H(q);var me=new _(function(we,ve){Y.ready().then(function(){V(Y._dbInfo,k,function(qe,ze){if(qe)return ve(qe);try{var et=ze.objectStore(Y._dbInfo.storeName),Ke=et.delete(q);ze.oncomplete=function(){we()},ze.onerror=function(){ve(Ke.error)},ze.onabort=function(){var tt=Ke.error?Ke.error:Ke.transaction.error;ve(tt)}}catch(tt){ve(tt)}})}).catch(ve)});return O(me,ie),me}function ct(q){var ie=this,Y=new _(function(me,we){ie.ready().then(function(){V(ie._dbInfo,k,function(ve,qe){if(ve)return we(ve);try{var ze=qe.objectStore(ie._dbInfo.storeName),et=ze.clear();qe.oncomplete=function(){me()},qe.onabort=qe.onerror=function(){var Ke=et.error?et.error:et.transaction.error;we(Ke)}}catch(Ke){we(Ke)}})}).catch(we)});return O(Y,q),Y}function At(q){var ie=this,Y=new _(function(me,we){ie.ready().then(function(){V(ie._dbInfo,F,function(ve,qe){if(ve)return we(ve);try{var ze=qe.objectStore(ie._dbInfo.storeName),et=ze.count();et.onsuccess=function(){me(et.result)},et.onerror=function(){we(et.error)}}catch(Ke){we(Ke)}})}).catch(we)});return O(Y,q),Y}function $e(q,ie){var Y=this,me=new _(function(we,ve){if(q<0){we(null);return}Y.ready().then(function(){V(Y._dbInfo,F,function(qe,ze){if(qe)return ve(qe);try{var et=ze.objectStore(Y._dbInfo.storeName),Ke=!1,tt=et.openKeyCursor();tt.onsuccess=function(){var wt=tt.result;if(!wt){we(null);return}q===0||Ke?we(wt.key):(Ke=!0,wt.advance(q))},tt.onerror=function(){ve(tt.error)}}catch(wt){ve(wt)}})}).catch(ve)});return O(me,ie),me}function Tt(q){var ie=this,Y=new _(function(me,we){ie.ready().then(function(){V(ie._dbInfo,F,function(ve,qe){if(ve)return we(ve);try{var ze=qe.objectStore(ie._dbInfo.storeName),et=ze.openKeyCursor(),Ke=[];et.onsuccess=function(){var tt=et.result;if(!tt){me(Ke);return}Ke.push(tt.key),tt.continue()},et.onerror=function(){we(et.error)}}catch(tt){we(tt)}})}).catch(we)});return O(Y,q),Y}function pt(q,ie){ie=B.apply(this,arguments);var Y=this.config();q=typeof q!="function"&&q||{},q.name||(q.name=q.name||Y.name,q.storeName=q.storeName||Y.storeName);var me=this,we;if(!q.name)we=_.reject("Invalid arguments");else{var ve=q.name===Y.name&&me._dbInfo.db,qe=ve?_.resolve(me._dbInfo.db):Ce(q).then(function(ze){var et=C[q.name],Ke=et.forages;et.db=ze;for(var tt=0;tt<Ke.length;tt++)Ke[tt]._dbInfo.db=ze;return ze});q.storeName?we=qe.then(function(ze){if(ze.objectStoreNames.contains(q.storeName)){var et=ze.version+1;Q(q);var Ke=C[q.name],tt=Ke.forages;ze.close();for(var wt=0;wt<tt.length;wt++){var It=tt[wt];It._dbInfo.db=null,It._dbInfo.version=et}var Xt=new _(function(dn,Nn){var _n=v.open(q.name,et);_n.onerror=function(gi){var $t=_n.result;$t.close(),Nn(gi)},_n.onupgradeneeded=function(){var gi=_n.result;gi.deleteObjectStore(q.storeName)},_n.onsuccess=function(){var gi=_n.result;gi.close(),dn(gi)}});return Xt.then(function(dn){Ke.db=dn;for(var Nn=0;Nn<tt.length;Nn++){var _n=tt[Nn];_n._dbInfo.db=dn,J(_n._dbInfo)}}).catch(function(dn){throw(Ee(q,dn)||_.resolve()).catch(function(){}),dn})}}):we=qe.then(function(ze){Q(q);var et=C[q.name],Ke=et.forages;ze.close();for(var tt=0;tt<Ke.length;tt++){var wt=Ke[tt];wt._dbInfo.db=null}var It=new _(function(Xt,dn){var Nn=v.deleteDatabase(q.name);Nn.onerror=function(){var _n=Nn.result;_n&&_n.close(),dn(Nn.error)},Nn.onblocked=function(){console.warn('dropInstance blocked for database "'+q.name+'" until all open connections are closed')},Nn.onsuccess=function(){var _n=Nn.result;_n&&_n.close(),Xt(_n)}});return It.then(function(Xt){et.db=Xt;for(var dn=0;dn<Ke.length;dn++){var Nn=Ke[dn];J(Nn._dbInfo)}}).catch(function(Xt){throw(Ee(q,Xt)||_.resolve()).catch(function(){}),Xt})})}return O(we,ie),we}var kt={_driver:"asyncStorage",_initStorage:Pe,_support:y(),iterate:it,getItem:Me,setItem:ut,removeItem:vt,clear:ct,length:At,key:$e,keys:Tt,dropInstance:pt};function Ut(){return typeof openDatabase=="function"}var Vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tn="~~local_forage_type~",Kt=/^~~local_forage_type~([^~]+)~/,on="__lfsc__:",bn=on.length,wn="arbf",xt="blob",Bt="si08",Ct="ui08",nn="uic8",mt="si16",rt="si32",bt="ur16",Ht="ui32",rn="fl32",Et="fl64",jt=bn+wn.length,Ft=Object.prototype.toString;function Nt(q){var ie=q.length*.75,Y=q.length,me,we=0,ve,qe,ze,et;q[q.length-1]==="="&&(ie--,q[q.length-2]==="="&&ie--);var Ke=new ArrayBuffer(ie),tt=new Uint8Array(Ke);for(me=0;me<Y;me+=4)ve=Vt.indexOf(q[me]),qe=Vt.indexOf(q[me+1]),ze=Vt.indexOf(q[me+2]),et=Vt.indexOf(q[me+3]),tt[we++]=ve<<2|qe>>4,tt[we++]=(qe&15)<<4|ze>>2,tt[we++]=(ze&3)<<6|et&63;return Ke}function Wt(q){var ie=new Uint8Array(q),Y="",me;for(me=0;me<ie.length;me+=3)Y+=Vt[ie[me]>>2],Y+=Vt[(ie[me]&3)<<4|ie[me+1]>>4],Y+=Vt[(ie[me+1]&15)<<2|ie[me+2]>>6],Y+=Vt[ie[me+2]&63];return ie.length%3===2?Y=Y.substring(0,Y.length-1)+"=":ie.length%3===1&&(Y=Y.substring(0,Y.length-2)+"=="),Y}function hn(q,ie){var Y="";if(q&&(Y=Ft.call(q)),q&&(Y==="[object ArrayBuffer]"||q.buffer&&Ft.call(q.buffer)==="[object ArrayBuffer]")){var me,we=on;q instanceof ArrayBuffer?(me=q,we+=wn):(me=q.buffer,Y==="[object Int8Array]"?we+=Bt:Y==="[object Uint8Array]"?we+=Ct:Y==="[object Uint8ClampedArray]"?we+=nn:Y==="[object Int16Array]"?we+=mt:Y==="[object Uint16Array]"?we+=bt:Y==="[object Int32Array]"?we+=rt:Y==="[object Uint32Array]"?we+=Ht:Y==="[object Float32Array]"?we+=rn:Y==="[object Float64Array]"?we+=Et:ie(new Error("Failed to get type for BinaryArray"))),ie(we+Wt(me))}else if(Y==="[object Blob]"){var ve=new FileReader;ve.onload=function(){var qe=tn+q.type+"~"+Wt(this.result);ie(on+xt+qe)},ve.readAsArrayBuffer(q)}else try{ie(JSON.stringify(q))}catch(qe){console.error("Couldn't convert value into a JSON string: ",q),ie(null,qe)}}function M(q){if(q.substring(0,bn)!==on)return JSON.parse(q);var ie=q.substring(jt),Y=q.substring(bn,jt),me;if(Y===xt&&Kt.test(ie)){var we=ie.match(Kt);me=we[1],ie=ie.substring(we[0].length)}var ve=Nt(ie);switch(Y){case wn:return ve;case xt:return x([ve],{type:me});case Bt:return new Int8Array(ve);case Ct:return new Uint8Array(ve);case nn:return new Uint8ClampedArray(ve);case mt:return new Int16Array(ve);case bt:return new Uint16Array(ve);case rt:return new Int32Array(ve);case Ht:return new Uint32Array(ve);case rn:return new Float32Array(ve);case Et:return new Float64Array(ve);default:throw new Error("Unkown type: "+Y)}}var Fe={serialize:hn,deserialize:M,stringToBuffer:Nt,bufferToString:Wt};function Ze(q,ie,Y,me){q.executeSql("CREATE TABLE IF NOT EXISTS "+ie.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Y,me)}function ot(q){var ie=this,Y={db:null};if(q)for(var me in q)Y[me]=typeof q[me]!="string"?q[me].toString():q[me];var we=new _(function(ve,qe){try{Y.db=openDatabase(Y.name,String(Y.version),Y.description,Y.size)}catch(ze){return qe(ze)}Y.db.transaction(function(ze){Ze(ze,Y,function(){ie._dbInfo=Y,ve()},function(et,Ke){qe(Ke)})},qe)});return Y.serializer=Fe,we}function X(q,ie,Y,me,we,ve){q.executeSql(Y,me,we,function(qe,ze){ze.code===ze.SYNTAX_ERR?qe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ie.storeName],function(et,Ke){Ke.rows.length?ve(et,ze):Ze(et,ie,function(){et.executeSql(Y,me,we,ve)},ve)},ve):ve(qe,ze)},ve)}function Be(q,ie){var Y=this;q=H(q);var me=new _(function(we,ve){Y.ready().then(function(){var qe=Y._dbInfo;qe.db.transaction(function(ze){X(ze,qe,"SELECT * FROM "+qe.storeName+" WHERE key = ? LIMIT 1",[q],function(et,Ke){var tt=Ke.rows.length?Ke.rows.item(0).value:null;tt&&(tt=qe.serializer.deserialize(tt)),we(tt)},function(et,Ke){ve(Ke)})})}).catch(ve)});return O(me,ie),me}function g(q,ie){var Y=this,me=new _(function(we,ve){Y.ready().then(function(){var qe=Y._dbInfo;qe.db.transaction(function(ze){X(ze,qe,"SELECT * FROM "+qe.storeName,[],function(et,Ke){for(var tt=Ke.rows,wt=tt.length,It=0;It<wt;It++){var Xt=tt.item(It),dn=Xt.value;if(dn&&(dn=qe.serializer.deserialize(dn)),dn=q(dn,Xt.key,It+1),dn!==void 0){we(dn);return}}we()},function(et,Ke){ve(Ke)})})}).catch(ve)});return O(me,ie),me}function R(q,ie,Y,me){var we=this;q=H(q);var ve=new _(function(qe,ze){we.ready().then(function(){ie===void 0&&(ie=null);var et=ie,Ke=we._dbInfo;Ke.serializer.serialize(ie,function(tt,wt){wt?ze(wt):Ke.db.transaction(function(It){X(It,Ke,"INSERT OR REPLACE INTO "+Ke.storeName+" (key, value) VALUES (?, ?)",[q,tt],function(){qe(et)},function(Xt,dn){ze(dn)})},function(It){if(It.code===It.QUOTA_ERR){if(me>0){qe(R.apply(we,[q,et,Y,me-1]));return}ze(It)}})})}).catch(ze)});return O(ve,Y),ve}function Z(q,ie,Y){return R.apply(this,[q,ie,Y,1])}function m(q,ie){var Y=this;q=H(q);var me=new _(function(we,ve){Y.ready().then(function(){var qe=Y._dbInfo;qe.db.transaction(function(ze){X(ze,qe,"DELETE FROM "+qe.storeName+" WHERE key = ?",[q],function(){we()},function(et,Ke){ve(Ke)})})}).catch(ve)});return O(me,ie),me}function te(q){var ie=this,Y=new _(function(me,we){ie.ready().then(function(){var ve=ie._dbInfo;ve.db.transaction(function(qe){X(qe,ve,"DELETE FROM "+ve.storeName,[],function(){me()},function(ze,et){we(et)})})}).catch(we)});return O(Y,q),Y}function ge(q){var ie=this,Y=new _(function(me,we){ie.ready().then(function(){var ve=ie._dbInfo;ve.db.transaction(function(qe){X(qe,ve,"SELECT COUNT(key) as c FROM "+ve.storeName,[],function(ze,et){var Ke=et.rows.item(0).c;me(Ke)},function(ze,et){we(et)})})}).catch(we)});return O(Y,q),Y}function L(q,ie){var Y=this,me=new _(function(we,ve){Y.ready().then(function(){var qe=Y._dbInfo;qe.db.transaction(function(ze){X(ze,qe,"SELECT key FROM "+qe.storeName+" WHERE id = ? LIMIT 1",[q+1],function(et,Ke){var tt=Ke.rows.length?Ke.rows.item(0).key:null;we(tt)},function(et,Ke){ve(Ke)})})}).catch(ve)});return O(me,ie),me}function ee(q){var ie=this,Y=new _(function(me,we){ie.ready().then(function(){var ve=ie._dbInfo;ve.db.transaction(function(qe){X(qe,ve,"SELECT key FROM "+ve.storeName,[],function(ze,et){for(var Ke=[],tt=0;tt<et.rows.length;tt++)Ke.push(et.rows.item(tt).key);me(Ke)},function(ze,et){we(et)})})}).catch(we)});return O(Y,q),Y}function De(q){return new _(function(ie,Y){q.transaction(function(me){me.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(we,ve){for(var qe=[],ze=0;ze<ve.rows.length;ze++)qe.push(ve.rows.item(ze).name);ie({db:q,storeNames:qe})},function(we,ve){Y(ve)})},function(me){Y(me)})})}function lt(q,ie){ie=B.apply(this,arguments);var Y=this.config();q=typeof q!="function"&&q||{},q.name||(q.name=q.name||Y.name,q.storeName=q.storeName||Y.storeName);var me=this,we;return q.name?we=new _(function(ve){var qe;q.name===Y.name?qe=me._dbInfo.db:qe=openDatabase(q.name,"","",0),q.storeName?ve({db:qe,storeNames:[q.storeName]}):ve(De(qe))}).then(function(ve){return new _(function(qe,ze){ve.db.transaction(function(et){function Ke(Xt){return new _(function(dn,Nn){et.executeSql("DROP TABLE IF EXISTS "+Xt,[],function(){dn()},function(_n,gi){Nn(gi)})})}for(var tt=[],wt=0,It=ve.storeNames.length;wt<It;wt++)tt.push(Ke(ve.storeNames[wt]));_.all(tt).then(function(){qe()}).catch(function(Xt){ze(Xt)})},function(et){ze(et)})})}):we=_.reject("Invalid arguments"),O(we,ie),we}var Ve={_driver:"webSQLStorage",_initStorage:ot,_support:Ut(),iterate:g,getItem:Be,setItem:Z,removeItem:m,clear:te,length:ge,key:L,keys:ee,dropInstance:lt};function Je(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function zt(q,ie){var Y=q.name+"/";return q.storeName!==ie.storeName&&(Y+=q.storeName+"/"),Y}function Tn(){var q="_localforage_support_test";try{return localStorage.setItem(q,!0),localStorage.removeItem(q),!1}catch{return!0}}function Yt(){return!Tn()||localStorage.length>0}function Lt(q){var ie=this,Y={};if(q)for(var me in q)Y[me]=q[me];return Y.keyPrefix=zt(q,ie._defaultConfig),Yt()?(ie._dbInfo=Y,Y.serializer=Fe,_.resolve()):_.reject()}function sn(q){var ie=this,Y=ie.ready().then(function(){for(var me=ie._dbInfo.keyPrefix,we=localStorage.length-1;we>=0;we--){var ve=localStorage.key(we);ve.indexOf(me)===0&&localStorage.removeItem(ve)}});return O(Y,q),Y}function St(q,ie){var Y=this;q=H(q);var me=Y.ready().then(function(){var we=Y._dbInfo,ve=localStorage.getItem(we.keyPrefix+q);return ve&&(ve=we.serializer.deserialize(ve)),ve});return O(me,ie),me}function Jt(q,ie){var Y=this,me=Y.ready().then(function(){for(var we=Y._dbInfo,ve=we.keyPrefix,qe=ve.length,ze=localStorage.length,et=1,Ke=0;Ke<ze;Ke++){var tt=localStorage.key(Ke);if(tt.indexOf(ve)===0){var wt=localStorage.getItem(tt);if(wt&&(wt=we.serializer.deserialize(wt)),wt=q(wt,tt.substring(qe),et++),wt!==void 0)return wt}}});return O(me,ie),me}function An(q,ie){var Y=this,me=Y.ready().then(function(){var we=Y._dbInfo,ve;try{ve=localStorage.key(q)}catch{ve=null}return ve&&(ve=ve.substring(we.keyPrefix.length)),ve});return O(me,ie),me}function ai(q){var ie=this,Y=ie.ready().then(function(){for(var me=ie._dbInfo,we=localStorage.length,ve=[],qe=0;qe<we;qe++){var ze=localStorage.key(qe);ze.indexOf(me.keyPrefix)===0&&ve.push(ze.substring(me.keyPrefix.length))}return ve});return O(Y,q),Y}function Mn(q){var ie=this,Y=ie.keys().then(function(me){return me.length});return O(Y,q),Y}function jn(q,ie){var Y=this;q=H(q);var me=Y.ready().then(function(){var we=Y._dbInfo;localStorage.removeItem(we.keyPrefix+q)});return O(me,ie),me}function Un(q,ie,Y){var me=this;q=H(q);var we=me.ready().then(function(){ie===void 0&&(ie=null);var ve=ie;return new _(function(qe,ze){var et=me._dbInfo;et.serializer.serialize(ie,function(Ke,tt){if(tt)ze(tt);else try{localStorage.setItem(et.keyPrefix+q,Ke),qe(ve)}catch(wt){(wt.name==="QuotaExceededError"||wt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ze(wt),ze(wt)}})})});return O(we,Y),we}function qn(q,ie){if(ie=B.apply(this,arguments),q=typeof q!="function"&&q||{},!q.name){var Y=this.config();q.name=q.name||Y.name,q.storeName=q.storeName||Y.storeName}var me=this,we;return q.name?we=new _(function(ve){q.storeName?ve(zt(q,me._defaultConfig)):ve(q.name+"/")}).then(function(ve){for(var qe=localStorage.length-1;qe>=0;qe--){var ze=localStorage.key(qe);ze.indexOf(ve)===0&&localStorage.removeItem(ze)}}):we=_.reject("Invalid arguments"),O(we,ie),we}var ii={_driver:"localStorageWrapper",_initStorage:Lt,_support:Je(),iterate:Jt,getItem:St,setItem:Un,removeItem:jn,clear:sn,length:Mn,key:An,keys:ai,dropInstance:qn},Si=function(ie,Y){return ie===Y||typeof ie=="number"&&typeof Y=="number"&&isNaN(ie)&&isNaN(Y)},En=function(ie,Y){for(var me=ie.length,we=0;we<me;){if(Si(ie[we],Y))return!0;we++}return!1},pi=Array.isArray||function(q){return Object.prototype.toString.call(q)==="[object Array]"},Vn={},Gn={},vi={INDEXEDDB:kt,WEBSQL:Ve,LOCALSTORAGE:ii},gr=[vi.INDEXEDDB._driver,vi.WEBSQL._driver,vi.LOCALSTORAGE._driver],mi=["dropInstance"],Ci=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(mi),$i={description:"",driver:gr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ca(q,ie){q[ie]=function(){var Y=arguments;return q.ready().then(function(){return q[ie].apply(q,Y)})}}function er(){for(var q=1;q<arguments.length;q++){var ie=arguments[q];if(ie)for(var Y in ie)ie.hasOwnProperty(Y)&&(pi(ie[Y])?arguments[0][Y]=ie[Y].slice():arguments[0][Y]=ie[Y])}return arguments[0]}var Qa=(function(){function q(ie){f(this,q);for(var Y in vi)if(vi.hasOwnProperty(Y)){var me=vi[Y],we=me._driver;this[Y]=we,Vn[we]||this.defineDriver(me)}this._defaultConfig=er({},$i),this._config=er({},this._defaultConfig,ie),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return q.prototype.config=function(Y){if((typeof Y>"u"?"undefined":c(Y))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var me in Y){if(me==="storeName"&&(Y[me]=Y[me].replace(/\W/g,"_")),me==="version"&&typeof Y[me]!="number")return new Error("Database version must be a number.");this._config[me]=Y[me]}return"driver"in Y&&Y.driver?this.setDriver(this._config.driver):!0}else return typeof Y=="string"?this._config[Y]:this._config},q.prototype.defineDriver=function(Y,me,we){var ve=new _(function(qe,ze){try{var et=Y._driver,Ke=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Y._driver){ze(Ke);return}for(var tt=Ci.concat("_initStorage"),wt=0,It=tt.length;wt<It;wt++){var Xt=tt[wt],dn=!En(mi,Xt);if((dn||Y[Xt])&&typeof Y[Xt]!="function"){ze(Ke);return}}var Nn=function(){for(var $t=function(zi){return function(){var bi=new Error("Method "+zi+" is not implemented by the current driver"),Ai=_.reject(bi);return O(Ai,arguments[arguments.length-1]),Ai}},yr=0,Ta=mi.length;yr<Ta;yr++){var Na=mi[yr];Y[Na]||(Y[Na]=$t(Na))}};Nn();var _n=function($t){Vn[et]&&console.info("Redefining LocalForage driver: "+et),Vn[et]=Y,Gn[et]=$t,qe()};"_support"in Y?Y._support&&typeof Y._support=="function"?Y._support().then(_n,ze):_n(!!Y._support):_n(!0)}catch(gi){ze(gi)}});return T(ve,me,we),ve},q.prototype.driver=function(){return this._driver||null},q.prototype.getDriver=function(Y,me,we){var ve=Vn[Y]?_.resolve(Vn[Y]):_.reject(new Error("Driver not found."));return T(ve,me,we),ve},q.prototype.getSerializer=function(Y){var me=_.resolve(Fe);return T(me,Y),me},q.prototype.ready=function(Y){var me=this,we=me._driverSet.then(function(){return me._ready===null&&(me._ready=me._initDriver()),me._ready});return T(we,Y,Y),we},q.prototype.setDriver=function(Y,me,we){var ve=this;pi(Y)||(Y=[Y]);var qe=this._getSupportedDrivers(Y);function ze(){ve._config.driver=ve.driver()}function et(wt){return ve._extend(wt),ze(),ve._ready=ve._initStorage(ve._config),ve._ready}function Ke(wt){return function(){var It=0;function Xt(){for(;It<wt.length;){var dn=wt[It];return It++,ve._dbInfo=null,ve._ready=null,ve.getDriver(dn).then(et).catch(Xt)}ze();var Nn=new Error("No available storage method found.");return ve._driverSet=_.reject(Nn),ve._driverSet}return Xt()}}var tt=this._driverSet!==null?this._driverSet.catch(function(){return _.resolve()}):_.resolve();return this._driverSet=tt.then(function(){var wt=qe[0];return ve._dbInfo=null,ve._ready=null,ve.getDriver(wt).then(function(It){ve._driver=It._driver,ze(),ve._wrapLibraryMethodsWithReady(),ve._initDriver=Ke(qe)})}).catch(function(){ze();var wt=new Error("No available storage method found.");return ve._driverSet=_.reject(wt),ve._driverSet}),T(this._driverSet,me,we),this._driverSet},q.prototype.supports=function(Y){return!!Gn[Y]},q.prototype._extend=function(Y){er(this,Y)},q.prototype._getSupportedDrivers=function(Y){for(var me=[],we=0,ve=Y.length;we<ve;we++){var qe=Y[we];this.supports(qe)&&me.push(qe)}return me},q.prototype._wrapLibraryMethodsWithReady=function(){for(var Y=0,me=Ci.length;Y<me;Y++)Ca(this,Ci[Y])},q.prototype.createInstance=function(Y){return new q(Y)},q})(),Zt=new Qa;s.exports=Zt},{3:3}]},{},[4])(4)})})(oh)),oh.exports}var k2=R2();const Im=Vr(k2);class gg{constructor(i,r,s){this.urlCache={},this.storage=void 0,this.name=i,this.requester=r||Xu,this.resolver=s,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let i;typeof Im>"u"&&(i=Im),this.storage=i.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(i){let r=navigator.onLine;this.online=r,r?this.emit("online",this):this.emit("offline",this)}add(i,r){let s=i.resources.map(u=>{let{href:c}=u,f=this.resolver(c),p=window.encodeURIComponent(f);return this.storage.getItem(p).then(v=>!v||r?this.requester(f,"binary").then(y=>this.storage.setItem(p,y)):v)});return Promise.all(s)}put(i,r,s){let u=window.encodeURIComponent(i);return this.storage.getItem(u).then(c=>c||this.requester(i,"binary",r,s).then(f=>this.storage.setItem(u,f)))}request(i,r,s,u){return this.online?this.requester(i,r,s,u).then(c=>(this.put(i),c)):this.retrieve(i,r)}retrieve(i,r){new vn;var s,u=new Yr(i);return r||(r=u.extension),r=="blob"?s=this.getBlob(i):s=this.getText(i),s.then(c=>{var f=new vn,p;return c?(p=this.handleResponse(c,r),f.resolve(p)):f.reject({message:"File not found in storage: "+i,stack:new Error().stack}),f.promise})}handleResponse(i,r){var s;return r=="json"?s=JSON.parse(i):Zu(r)?s=vr(i,"text/xml"):r=="xhtml"?s=vr(i,"application/xhtml+xml"):r=="html"||r=="htm"?s=vr(i,"text/html"):s=i,s}getBlob(i,r){let s=window.encodeURIComponent(i);return this.storage.getItem(s).then(function(u){if(u)return r=r||Ks.lookup(i),new Blob([u],{type:r})})}getText(i,r){let s=window.encodeURIComponent(i);return r=r||Ks.lookup(i),this.storage.getItem(s).then(function(u){var c=new vn,f=new FileReader,p;if(u)return p=new Blob([u],{type:r}),f.addEventListener("loadend",()=>{c.resolve(f.result)}),f.readAsText(p,r),c.promise})}getBase64(i,r){let s=window.encodeURIComponent(i);return r=r||Ks.lookup(i),this.storage.getItem(s).then(u=>{var c=new vn,f=new FileReader,p;if(u)return p=new Blob([u],{type:r}),f.addEventListener("loadend",()=>{c.resolve(f.result)}),f.readAsDataURL(p,r),c.promise})}createUrl(i,r){var s=new vn,u=window.URL||window.webkitURL||window.mozURL,c,f,p=r&&r.base64;return i in this.urlCache?(s.resolve(this.urlCache[i]),s.promise):(p?(f=this.getBase64(i),f&&f.then((function(v){this.urlCache[i]=v,s.resolve(v)}).bind(this))):(f=this.getBlob(i),f&&f.then((function(v){c=u.createObjectURL(v),this.urlCache[i]=c,s.resolve(c)}).bind(this))),f||s.reject({message:"File not found in storage: "+i,stack:new Error().stack}),s.promise)}revokeUrl(i){var r=window.URL||window.webkitURL||window.mozURL,s=this.urlCache[i];s&&r.revokeObjectURL(s)}destroy(){var i=window.URL||window.webkitURL||window.mozURL;for(let r in this.urlCache)i.revokeObjectURL(r);this.urlCache={},this.removeListeners()}}mr(gg.prototype);class ch{constructor(i){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",i&&this.parse(i)}parse(i){if(!i)return this;const r=Ln(i,"display_options");return r?(Gr(r,"option").forEach(u=>{let c="";switch(u.childNodes.length&&(c=u.childNodes[0].nodeValue),u.attributes.name.value){case"interactive":this.interactive=c;break;case"fixed-layout":this.fixedLayout=c;break;case"open-to-spread":this.openToSpread=c;break;case"orientation-lock":this.orientationLock=c;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const Fm="META-INF/container.xml",B2="META-INF/com.apple.ibooks.display-options.xml",rr={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class Th{constructor(i,r){typeof r>"u"&&typeof i!="string"&&!(i instanceof Blob)&&!(i instanceof ArrayBuffer)&&(r=i,i=void 0),this.settings=di(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),di(this.settings,r),this.opening=new vn,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new vn,spine:new vn,metadata:new vn,cover:new vn,navigation:new vn,pageList:new vn,resources:new vn,displayOptions:new vn},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Xu,this.spine=new Ky,this.locations=new og(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),i&&this.open(i,this.settings.openAs).catch(s=>{var u=new Error("Cannot load book at "+i);this.emit(ht.BOOK.OPEN_FAILED,u)})}open(i,r){var s,u=r||this.determineType(i);return u===rr.BINARY?(this.archived=!0,this.url=new ar("/",""),s=this.openEpub(i)):u===rr.BASE64?(this.archived=!0,this.url=new ar("/",""),s=this.openEpub(i,u)):u===rr.EPUB?(this.archived=!0,this.url=new ar("/",""),s=this.request(i,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):u==rr.OPF?(this.url=new ar(i),s=this.openPackaging(this.url.Path.toString())):u==rr.MANIFEST?(this.url=new ar(i),s=this.openManifest(this.url.Path.toString())):(this.url=new ar(i),s=this.openContainer(Fm).then(this.openPackaging.bind(this))),s}openEpub(i,r){return this.unarchive(i,r||this.settings.encoding).then(()=>this.openContainer(Fm)).then(s=>this.openPackaging(s))}openContainer(i){return this.load(i).then(r=>(this.container=new Zy(r),this.resolve(this.container.packagePath)))}openPackaging(i){return this.path=new Yr(i),this.load(i).then(r=>(this.packaging=new ym(r),this.unpack(this.packaging)))}openManifest(i){return this.path=new Yr(i),this.load(i).then(r=>(this.packaging=new ym,this.packaging.load(r),this.unpack(this.packaging)))}load(i){var r=this.resolve(i);return this.archived?this.archive.request(r):this.request(r,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(i,r){if(i){var s=i,u=i.indexOf("://")>-1;return u?i:(this.path&&(s=this.path.resolve(i)),r!=!1&&this.url&&(s=this.url.resolve(s)),s)}}canonical(i){var r=i;return i?(this.settings.canonical?r=this.settings.canonical(i):r=this.resolve(i,!0),r):""}determineType(i){var r,s,u;if(this.settings.encoding==="base64")return rr.BASE64;if(typeof i!="string")return rr.BINARY;if(r=new ar(i),s=r.path(),u=s.extension,u&&(u=u.replace(/\?.*$/,"")),!u)return rr.DIRECTORY;if(u==="epub")return rr.EPUB;if(u==="opf")return rr.OPF;if(u==="json")return rr.MANIFEST}unpack(i){this.package=i,this.packaging.metadata.layout===""?this.load(this.url.resolve(B2)).then(r=>{this.displayOptions=new ch(r),this.loading.displayOptions.resolve(this.displayOptions)}).catch(r=>{this.displayOptions=new ch,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new ch,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new Jy(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(r=>{console.error(r)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(i){let r=i.navPath||i.ncxPath,s=i.toc;return s?new Promise((u,c)=>{this.navigation=new Yf(s),i.pageList&&(this.pageList=new Vf(i.pageList)),u(this.navigation)}):r?this.load(r,"xml").then(u=>(this.navigation=new Yf(u),this.pageList=new Vf(u),this.navigation)):new Promise((u,c)=>{this.navigation=new Yf,this.pageList=new Vf,u(this.navigation)})}section(i){return this.spine.get(i)}renderTo(i,r){return this.rendition=new Ch(this,r),this.rendition.attachTo(i),this.rendition}setRequestCredentials(i){this.settings.requestCredentials=i}setRequestHeaders(i){this.settings.requestHeaders=i}unarchive(i,r){return this.archive=new O2,this.archive.open(i,r)}store(i){let r=this.settings.replacements&&this.settings.replacements!=="none",s=this.url,u=this.settings.requestMethod||Xu.bind(this);return this.storage=new gg(i,u,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let c=(f,p)=>{p.output=this.resources.substitute(f,p.url)};this.resources.settings.replacements=r||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new ar("/",""),this.spine.hooks.serialize.register(c)}),this.storage.on("online",()=>{this.url=s,this.spine.hooks.serialize.deregister(c)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((i,r)=>{r.output=this.resources.substitute(i,r.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(i){var r=new mn(i),s=this.spine.get(r.spinePos),u=this.load.bind(this);return s?s.load(u).then(function(c){var f=r.toRange(s.document);return f}):new Promise((c,f)=>{f("CFI could not be found")})}key(i){var r=i||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Do}:${r}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}mr(Th.prototype);function Xa(D,i){return new Th(D,i)}Xa.VERSION=Do;typeof global<"u"&&(global.EPUBJS_VERSION=Do);Xa.Book=Th;Xa.Rendition=Ch;Xa.Contents=Ah;Xa.CFI=mn;Xa.utils=qy;const Ku=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),yg=/^Cha xc nh( Chng \d+)?:?\s*/i,z2=async D=>new Promise((i,r)=>{const s=new FileReader;s.onload=u=>{var _;const c=(_=u.target)==null?void 0:_.result;if(!c){r(new Error("File is empty or could not be read."));return}const f=D.name.replace(/\.[^/.]+$/,""),p=[],v=/(?=^Chapter \d+|CHAPTER \d+)/im,y=c.split(v).filter(O=>O.trim()!=="");if(y.length<=1){const O=c.split(`
`).map(T=>T.trim()).filter(T=>T.length>0);O.length>0&&O[0].toLowerCase()===f.toLowerCase()&&O.shift(),p.push({id:Ku(),title:"Full Text",content:O.join(`
`).trim()})}else{const O=y.map(H=>{var A;const B=H.split(`
`),w=((A=B.shift())==null?void 0:A.trim())||"";return{id:Ku(),title:w,content:B.join(`
`).trim()}});let T=null;if(O.length>1){const H=A=>{var C;return(C=A.split(`
`).find(j=>j.trim().length>0))==null?void 0:C.trim()},B=H(O[0].content),w=H(O[1].content);B&&B.length>5&&B===w&&(T=B)}O.forEach((H,B)=>{let w=H.title.replace(yg,"").trim();w||(w=`Chapter ${B+1}`),H.title=w;let A=H.content.split(`
`).map(C=>C.trim()).filter(C=>C.length>0);T&&A.length>0&&A[0]===T&&A.shift(),A.length>0&&A[0].toLowerCase()===f.toLowerCase()&&A.shift(),A.length>0&&p.push({...H,content:A.join(`
`)})})}const x={id:Ku(),title:D.name.replace(/\.[^/.]+$/,""),chapters:p};i(x)},s.onerror=u=>r(u),s.readAsText(D)}),L2=async D=>(console.log(`[Parser] Starting EPUB parsing for: "${D.name}"`),new Promise((i,r)=>{const s=new FileReader;s.onload=async u=>{var c;try{const f=(c=u.target)==null?void 0:c.result;if(!f){r(new Error("File is empty or could not be read."));return}const p=Xa(f),v=await p.loaded.metadata,y=v.title||D.name.replace(/\.[^/.]+$/,""),x=await p.loaded.spine;console.log("[Parser] Book Metadata:",v),console.log(`[Parser] Found ${x.items.length} sections in the book's spine.`);let _;try{const C=await p.coverUrl();if(C){const j=await p.archive.getBlob(C);j instanceof Blob?(_=await new Promise((F,k)=>{const I=new FileReader;I.onloadend=()=>F(I.result),I.onerror=k,I.readAsDataURL(j)}),console.log("[Parser] Successfully extracted cover image.")):console.warn("[Parser] `archive.getBlob` did not return a valid Blob. Cover image might be missing.")}}catch(C){console.warn("[Parser] Could not load cover image:",C)}const O=x.items.map(async(C,j)=>{var J,Ee;const F=await p.load(C.href);if(!F)throw new Error("Failed to load content for chapter");let k;if(typeof F!="string"&&F.documentElement)k=new XMLSerializer().serializeToString(F);else if(typeof F=="string")k=F;else throw new Error("Unsupported content type for chapter");const I=document.createElement("div");I.innerHTML=k,I.querySelectorAll("style, script").forEach(ce=>ce.remove());const G=(I.innerText||I.textContent||"").trim();let Q=(((Ee=(J=C.toc)==null?void 0:J.label)==null?void 0:Ee.trim())||"").replace(yg,"").trim();return Q||(Q=`Chapter ${j+1}`),{id:C.id||Ku(),title:Q,content:G}}),T=await Promise.allSettled(O),H=[];T.forEach((C,j)=>{C.status==="fulfilled"&&C.value.content?H.push(C.value):C.status==="rejected"&&console.error(`[Parser] Failed to process section ${j+1}:`,C.reason)});let B=null;if(H.length>1){const C=k=>{var I;return(I=k.split(`
`).find(G=>G.trim().length>0))==null?void 0:I.trim()},j=C(H[0].content),F=C(H[1].content);j&&j.length>5&&j===F&&(B=j)}const w=H.map(C=>{let j=C.content.split(`
`).map(F=>F.trim()).filter(F=>F.length>0);return B&&j.length>0&&j[0]===B&&j.shift(),j.length>0&&j[0].toLowerCase()===y.toLowerCase()&&j.shift(),j.length>0&&j[0].toLowerCase()===C.title.toLowerCase()&&j.shift(),{...C,content:j.join(`
`)}}).filter(C=>C.content);if(console.log(`[Parser] Successfully cleaned and finalized ${w.length} chapters.`),x.items.length>0&&w.length===0){console.error("[Parser] CRITICAL: All chapters failed to parse. The book is likely corrupted or DRM-protected."),r(new Error("Failed to extract any content. The book may be corrupted or protected by DRM."));return}const A={id:Ku(),title:v.title||D.name.replace(/\.[^/.]+$/,""),author:v.creator,chapters:w,coverImage:_};console.log("[Parser] Successfully created book object."),i(A)}catch(f){console.error("[Parser] A critical error occurred during EPUB setup:",f),r(f)}},s.onerror=u=>r(u),s.readAsArrayBuffer(D)})),M2=async D=>{var r;const i=(r=D.name.split(".").pop())==null?void 0:r.toLowerCase();switch(i){case"txt":return z2(D);case"epub":return L2(D);case"mobi":throw new Error(".mobi files are not supported due to their proprietary format.");default:throw new Error(`Unsupported file type: .${i}`)}},bg=async D=>{const i=await fetch(`${D}/api/backups?app=book`);if(!i.ok)throw new Error(`Server responded with ${i.status}: Failed to list backups.`);return(await i.json()).backups||[]},j2=async(D,i,r)=>{const s=`${D}/api/backup?username=${encodeURIComponent(i)}&app=book`,u=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!u.ok){const c=await u.json().catch(()=>({error:"Unknown server error"}));throw new Error(`Server responded with ${u.status}: ${c.error}`)}},wg=async(D,i)=>{const r=`${D}/api/backup/${encodeURIComponent(i)}?app=book`,s=await fetch(r);if(!s.ok){const u=await s.json().catch(()=>({error:"Backup not found or server error"}));throw new Error(`Server responded with ${s.status}: ${u.error}`)}return s.json()},_g="ebook_reader_settings",Hm={ttsServerUrl:"https://localhost:3000",username:"Default User"},Qu=()=>{try{const D=window.localStorage.getItem(_g);if(D){const i=JSON.parse(D);return{...Hm,...i}}}catch(D){console.error("Error reading settings from localStorage",D)}return Hm},gh=D=>{try{const i=JSON.stringify(D);window.localStorage.setItem(_g,i)}catch(i){console.error("Error saving settings to localStorage",i)}},U2=()=>Qu().ttsServerUrl,q2=({isOpen:D,onClose:i,onDataRestored:r})=>{const[s,u]=dt.useState([]),[c,f]=dt.useState({loading:!1,error:null}),[p,v]=dt.useState({}),y=dt.useCallback(async()=>{const{ttsServerUrl:T}=Qu();if(!T){f({loading:!1,error:"TTS Server URL is not configured in Settings."});return}f({loading:!0,error:null});try{const H=await bg(T);u(H)}catch(H){f({loading:!1,error:H.message})}finally{f(H=>({...H,loading:!1}))}},[]);dt.useEffect(()=>{D&&(y(),v({}))},[D,y]);const x=async T=>{const{ttsServerUrl:H}=Qu();v(B=>({...B,[T.id]:{loading:!0,error:null,success:!1}}));try{const B=await wg(H,T.id);if(B.books&&B.settings)await Bi.transaction("rw",Bi.books,async()=>{await Bi.books.clear(),await Bi.books.bulkAdd(B.books)}),gh(B.settings),v(w=>({...w,[T.id]:{loading:!1,error:null,success:!0}})),setTimeout(()=>{r(),i()},1e3);else throw new Error("Invalid data format in backup.")}catch(B){v(w=>({...w,[T.id]:{loading:!1,error:B.message,success:!1}}))}};if(!D)return null;const _=T=>T!=null&&T.success?"bg-green-600 hover:bg-green-700 disabled:bg-green-600":T!=null&&T.error?"bg-red-600 hover:bg-red-700":T!=null&&T.loading?"bg-slate-600 disabled:bg-slate-600":"bg-cyan-600 hover:bg-cyan-700",O=T=>T!=null&&T.loading?$.jsxs($.Fragment,{children:[$.jsx(Zs,{className:"w-4 h-4"})," ",$.jsx("span",{children:"Selecting..."})]}):T!=null&&T.success?$.jsxs($.Fragment,{children:[$.jsx(Km,{className:"w-4 h-4"})," ",$.jsx("span",{children:"Success!"})]}):T!=null&&T.error?$.jsxs($.Fragment,{children:[$.jsx(vo,{className:"w-4 h-4"})," ",$.jsx("span",{children:"Retry"})]}):$.jsxs($.Fragment,{children:[$.jsx(vo,{className:"w-4 h-4"})," ",$.jsx("span",{children:"Select"})]});return $.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-50 transition-opacity",onClick:i,"aria-modal":"true",role:"dialog",children:$.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl w-full max-w-md m-4 transform transition-all",onClick:T=>T.stopPropagation(),children:[$.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[$.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"User Selection"}),$.jsx("button",{onClick:i,className:"p-1 rounded-full text-slate-400 hover:bg-slate-700 hover:text-white","aria-label":"Close",children:$.jsx(bh,{className:"w-6 h-6"})})]}),$.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[c.loading&&$.jsx("div",{className:"flex justify-center items-center p-8",children:$.jsx(Zs,{className:"w-8 h-8 text-cyan-500"})}),c.error&&$.jsxs("div",{className:"text-center text-red-400 p-4 bg-red-900/20 border border-red-800 rounded-md",children:[$.jsx("p",{className:"font-semibold",children:"Error loading profiles:"}),$.jsx("p",{className:"text-sm",children:c.error})]}),!c.loading&&!c.error&&$.jsx("ul",{className:"space-y-3",children:s.length>0?s.map(T=>{const H=p[T.id];return $.jsxs("li",{className:"bg-slate-700 p-3 rounded-md",children:[$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsxs("div",{children:[$.jsx("p",{className:"font-medium text-slate-200",children:T.name}),$.jsxs("p",{className:"text-xs text-slate-400",children:["Last updated: ",new Date(T.date).toLocaleString()]})]}),$.jsx("button",{onClick:()=>x(T),disabled:(H==null?void 0:H.loading)||(H==null?void 0:H.success),className:`inline-flex items-center justify-center gap-2 w-32 px-4 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-cyan-500 transition-colors ${_(H)}`,children:O(H)})]}),(H==null?void 0:H.error)&&$.jsx("p",{className:"text-xs text-red-400 mt-2 text-right",children:H.error})]},T.id)}):$.jsx("p",{className:"text-center text-slate-500 p-8",children:"No user profiles found on the server."})})]})]})})},I2=({books:D,onAddBook:i,onSelectBook:r,onDeleteBook:s,onGoToSettings:u,onDataRestored:c})=>{const[f,p]=dt.useState(!1),[v,y]=dt.useState(null),x=dt.useRef(null),[_,O]=dt.useState(!1),T=async H=>{var w;const B=(w=H.target.files)==null?void 0:w[0];if(B){p(!0),y(null);try{const A=await M2(B);i(A)}catch(A){y(A.message||"Failed to parse file."),alert(A.message||"Failed to parse file.")}finally{p(!1),x.current&&(x.current.value="")}}};return $.jsxs($.Fragment,{children:[$.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[$.jsxs("header",{className:"relative text-center mb-8",children:[$.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-teal-500",children:"My Ebook Library"}),$.jsx("p",{className:"text-slate-400 mt-2",children:"Import and listen to your favorite books."}),$.jsxs("div",{className:"absolute top-0 right-0 flex items-center gap-2",children:[$.jsx("button",{onClick:()=>O(!0),className:"p-2 text-slate-400 hover:text-cyan-400 transition-colors","aria-label":"Select User",children:$.jsx(sy,{className:"w-7 h-7"})}),$.jsx("button",{onClick:u,className:"p-2 text-slate-400 hover:text-cyan-400 transition-colors","aria-label":"Settings",children:$.jsx(Vm,{className:"w-7 h-7"})})]})]}),$.jsx("div",{className:"flex justify-center mb-8",children:$.jsxs("label",{className:"relative inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-cyan-500 cursor-pointer transition-colors",children:[f?$.jsxs($.Fragment,{children:[$.jsx(Zs,{className:"w-5 h-5 mr-2"}),$.jsx("span",{children:"Processing..."})]}):$.jsx("span",{children:"Import New Book"}),$.jsx("input",{ref:x,type:"file",className:"sr-only",accept:".txt,.epub",onChange:T,disabled:f})]})}),v&&$.jsx("p",{className:"text-center text-red-400 mb-4",children:v}),D.length>0?$.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 sm:gap-6",children:D.map(H=>$.jsx(ly,{book:H,onSelect:r,onDelete:s},H.id))}):$.jsxs("div",{className:"text-center py-16 px-4 border-2 border-dashed border-slate-700 rounded-lg",children:[$.jsx("h2",{className:"text-xl font-medium text-slate-300",children:"Your library is empty."}),$.jsx("p",{className:"text-slate-500 mt-2",children:'Click "Import New Book" to get started.'})]})]}),$.jsx(q2,{isOpen:_,onClose:()=>O(!1),onDataRestored:c})]})};class Vs extends Error{constructor(i){super(i),this.name="TtsError"}}const F2=async(D,i)=>{if(!D||D.trim().length===0)throw console.log("No text provided to generate speech."),new Vs("Cannot generate audio from empty text.");const r=U2();if(!r)throw new Vs("TTS Server URL is not configured. Please check your settings.");let s=D.replace(/[^\p{L}\p{N}\s.,!?:]/gu," ");if(s=s.replace(/\s+/g," ").trim(),!s)throw console.log("Text is empty after cleaning."),new Vs("Text became empty after sanitization.");try{const u=await fetch(`${r}/speak`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:s,language:"vi",accent:"vi_VN",voice:""}),signal:i});if(!u.ok){const f=await u.json().catch(()=>({error:"Unknown server error"}));throw new Error(`Server responded with ${u.status}: ${f.error||"Failed to fetch audio"}`)}return await u.blob()}catch(u){throw u instanceof DOMException&&u.name==="AbortError"?u:(console.error(`Error fetching speech from local server at ${r}:`,u),u instanceof TypeError?new Vs(`Network error connecting to TTS server at ${r}. Ensure the server is running, the URL is correct, and there are no CORS issues. If using HTTPS, you may need to accept a self-signed certificate.`):new Vs(u instanceof Error?u.message:"An unknown error occurred while fetching audio."))}},H2=(D,i=400)=>{if(!D||D.trim().length===0)return[];const r=D.trim();if(r.length<=i)return[r];const s=[],u=r.match(/[^.?!]+[.?!]+["]?\s*|[^.?!]+$/g)||[];if(u.length>1){let c="";for(const f of u){const p=f.trim();p.length!==0&&(c.length>0&&c.length+p.length>i&&(s.push(c.trim()),c=""),c+=p+" ")}c.trim().length>0&&s.push(c.trim())}else{console.warn("[textSplitter] Falling back to character-based chunking. The chapter might lack standard sentence-ending punctuation.");let c=0;for(;c<r.length;){let f=c+i;if(f<r.length){let v=r.lastIndexOf(" ",f);v>c&&(f=v)}else f=r.length;const p=r.substring(c,f).trim();p&&s.push(p),c=f+1}}return s.length===0&&r.length>0?[r]:s},Pm=D=>D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),P2=({isOpen:D,onClose:i,book:r,onSave:s})=>{const[u,c]=dt.useState([]),[f,p]=dt.useState(""),[v,y]=dt.useState([]);if(dt.useEffect(()=>{D&&(c(r.chapters),p(""),y([]))},[D,r.chapters]),dt.useEffect(()=>{const O=f.trim();if(!O){y([]);return}let T=null;try{if(O.includes("#")){const B=`^${Pm(O).replace(/#/,"\\s*\\d+[.:-]?\\s*")}`;T=new RegExp(B,"i")}}catch{}const H=u.reduce((B,w)=>{const A=w.content.trimStart();let C=null;if(T?C=A.match(T):A.toLowerCase().startsWith(O.toLowerCase())&&(C=[A.substring(0,O.length)]),C&&C[0]){const j=C[0],F=A.indexOf(`
`),k=F===-1?A:A.substring(0,F),I=A.substring(j.length);B.push({chapterId:w.id,chapterTitle:w.title,originalLine:k,toRemove:j,result:I})}return B},[]);y(H)},[f,u]),!D)return null;const x=O=>{if(u.length<=1){alert("Cannot delete the last chapter of a book.");return}c(T=>T.filter(H=>H.id!==O))},_=()=>{let O=[...u];const T=f.trim();if(T){let B=null;try{if(T.includes("#")){const w=`^${Pm(T).replace(/#/,"\\s*\\d+[.:-]?\\s*")}`;B=new RegExp(w,"i")}}catch{}O=O.map(w=>{const A=w.content,C=A.trimStart(),j=A.length-C.length,F=A.substring(0,j);let k=A;if(B){const I=C.match(B);I&&I[0]&&(k=F+C.substring(I[0].length))}else C.toLowerCase().startsWith(T.toLowerCase())&&(k=F+C.substring(T.length));return{...w,content:k}})}const H={...r,chapters:O};s(H),i()};return $.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-50 transition-opacity",onClick:i,"aria-modal":"true",role:"dialog",children:$.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-xl w-full max-w-2xl m-4 transform transition-all flex flex-col max-h-[90vh]",onClick:O=>O.stopPropagation(),children:[$.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700 shrink-0",children:[$.jsxs("h2",{className:"text-xl font-bold text-cyan-400",children:['Edit "',r.title,'"']}),$.jsx("button",{onClick:i,className:"p-1 rounded-full text-slate-400 hover:bg-slate-700 hover:text-white","aria-label":"Close",children:$.jsx(bh,{className:"w-6 h-6"})})]}),$.jsxs("div",{className:"p-6 overflow-y-auto space-y-8",children:[$.jsxs("div",{className:"border border-slate-700 rounded-lg p-4",children:[$.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-2",children:"Clean Chapter Prefixes"}),$.jsx("p",{className:"text-sm text-slate-400 mb-3",children:"Remove unwanted repeating text from the beginning of a chapter's content."}),$.jsx("input",{type:"text",value:f,onChange:O=>p(O.target.value),placeholder:"e.g., Chapter #",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md shadow-sm placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"}),$.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Tip: Use ",$.jsx("code",{className:"font-mono bg-slate-600 px-1 rounded",children:"#"})," as a placeholder for any number. Example: ",$.jsx("code",{className:"font-mono bg-slate-600 px-1 rounded",children:"Chapter #"}),' will match "Chapter 1", "Ch. 2:", etc.']}),v.length>0&&$.jsxs("div",{className:"mt-4 p-3 bg-slate-700/50 border border-slate-600 rounded-lg max-h-48 overflow-y-auto",children:[$.jsxs("h4",{className:"text-sm font-semibold text-cyan-400 mb-2",children:["Preview: Will affect ",v.length," chapter(s)"]}),$.jsx("ul",{className:"text-xs text-slate-400 space-y-3",children:v.map(O=>{let T=O.result.trimStart();return T===""&&(T="[Content continues on next line]"),$.jsxs("li",{children:[$.jsxs("strong",{className:"text-slate-300",children:[O.chapterTitle,":"]}),$.jsxs("div",{className:"pl-2 border-l-2 border-red-500/50 ml-1 mt-1 italic",title:O.originalLine,children:["Will remove prefix: ",$.jsxs("span",{className:"font-mono bg-red-900/50 px-1 rounded",children:['"',O.toRemove,'"']})]}),$.jsxs("div",{className:"pl-2 border-l-2 border-green-500/50 ml-1 mt-1",title:O.originalLine,children:["Result will start with: ",$.jsxs("span",{className:"font-mono bg-green-900/50 px-1 rounded break-all",children:['"',T.substring(0,70),T.length>70?"...":"",'"']})]})]},O.chapterId)})})]})]}),$.jsxs("div",{className:"border border-slate-700 rounded-lg p-4",children:[$.jsxs("h3",{className:"text-lg font-semibold text-slate-200 mb-3",children:["Manage Chapters (",u.length,")"]}),$.jsx("ul",{className:"space-y-2 max-h-64 overflow-y-auto pr-2",children:u.map((O,T)=>$.jsxs("li",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-700/50",children:[$.jsxs("p",{className:"flex-grow pr-4 text-slate-300 truncate",title:O.title,children:[$.jsxs("span",{className:"font-mono text-xs text-slate-500 mr-2",children:[T+1,"."]}),O.title]}),$.jsx("button",{onClick:()=>x(O.id),className:"p-2 rounded-full text-slate-400 hover:bg-red-600 hover:text-white transition-colors","aria-label":`Delete chapter: ${O.title}`,children:$.jsx(Ym,{className:"w-5 h-5"})})]},O.id))})]})]}),$.jsxs("div",{className:"flex justify-end items-center p-4 border-t border-slate-700 shrink-0",children:[$.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium rounded-md text-slate-300 hover:bg-slate-700 mr-2",children:"Cancel"}),$.jsx("button",{onClick:_,className:"px-6 py-2 text-sm font-medium rounded-md text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-slate-800",children:"Save Changes"})]})]})})},G2=10,Y2=500,V2=({book:D,onBack:i,onUpdatePosition:r,onUpdateBook:s})=>{var nn;const[u,c]=dt.useState(((nn=D.lastPosition)==null?void 0:nn.chapterIndex)||0),[f,p]=dt.useState([]),[v,y]=dt.useState(new Map),[x,_]=dt.useState(null),[O,T]=dt.useState(!1),[H,B]=dt.useState("idle"),[w,A]=dt.useState("text"),[C,j]=dt.useState(null),[F,k]=dt.useState(!1),[I,G]=dt.useState(null),[W,Q]=dt.useState(0),J=dt.useRef(null),Ee=dt.useRef(null),ce=dt.useRef(null),Ce=dt.useRef(null),Ye=dt.useRef(0),Le=dt.useRef([]),ae=dt.useRef(null),be=dt.useRef(null),Se=dt.useRef(!1),Ie=dt.useRef(!1),nt=dt.useRef(0),V=dt.useRef(null),pe=dt.useRef(C);dt.useEffect(()=>{pe.current=C},[C]);const Pe=dt.useRef(w);dt.useEffect(()=>{Pe.current=w},[w]);const Me=dt.useRef(v);dt.useEffect(()=>{Me.current=v},[v]);const it=dt.useRef([]);dt.useEffect(()=>{it.current=f},[f]);const ut=dt.useRef(O);dt.useEffect(()=>{ut.current=O},[O]);const vt=dt.useRef(u);dt.useEffect(()=>{vt.current=u},[u]);const ct=dt.useCallback(()=>((!J.current||J.current.state==="closed")&&(J.current=new(window.AudioContext||window.webkitAudioContext),Ee.current=J.current.createGain(),Ee.current.connect(J.current.destination)),J.current.state==="suspended"&&J.current.resume(),J.current),[]),At=dt.useCallback(()=>{be.current&&(console.log(`[Interrupt] Cancelling active fetch for index ${ae.current}`),be.current.abort())},[]),$e=dt.useCallback(()=>{if(V.current&&(clearTimeout(V.current),V.current=null),ce.current){ce.current.onended=null;try{ce.current.stop()}catch{}ce.current=null}_(null)},[]),Tt=dt.useCallback((mt,rt)=>{var Ft;const bt=ct();if(bt.resume(),mt>=it.current.length){if(ut.current){const Nt=vt.current+1;Nt<D.chapters.length?(j(0),c(Nt)):T(!1)}return}const Ht=Me.current.get(mt),rn=rt||(Ht==null?void 0:Ht.buffer);if(!rn){(Ht==null?void 0:Ht.state)==="error"&&(G("Playback stopped: Could not generate audio. Check TTS server connection and settings."),T(!1));return}const Et=Pe.current==="text"?`sentence-chunk-${mt}`:`audio-item-${mt}`;(Ft=document.getElementById(Et))==null||Ft.scrollIntoView({behavior:"smooth",block:"center"});const jt=bt.createBufferSource();jt.buffer=rn,jt.connect(Ee.current),jt.onended=()=>{ce.current===jt&&(_(null),ce.current=null,ut.current&&(V.current&&clearTimeout(V.current),V.current=window.setTimeout(()=>{if(ut.current){const Nt=mt+1;j(Nt),Tt(Nt)}},Y2)))},jt.start(0),ce.current=jt,_(mt)},[D.chapters.length,ct]),pt=dt.useCallback(async()=>{if(Ie.current||Le.current.length===0||Se.current)return;Ie.current=!0;const mt=Le.current[0];if(!mt){Ie.current=!1;return}if(mt.loaderId!==Ye.current){console.log(`[Processor] Stale request discarded for index ${mt.index} (Chapter changed)`),Le.current.shift(),Ie.current=!1,Q(Et=>Et+1);return}const{index:rt,loaderId:bt,text:Ht}=mt,rn=new AbortController;be.current=rn,ae.current=rt,y(Et=>{const jt=Et.get(rt);return(jt==null?void 0:jt.state)==="loading"?Et:new Map(Et).set(rt,{state:"loading"})});try{Le.current.shift(),console.log(`[Processor] --> FETCH START for index ${rt}`);const Et=await F2(Ht,rn.signal);if(console.log(`[Processor] <-- FETCH SUCCESS for index ${rt}`),bt!==Ye.current)throw new Error("Stale request after fetch");const jt=ct(),Ft=await Et.arrayBuffer(),Nt=await jt.decodeAudioData(Ft);if(bt!==Ye.current)throw new Error("Stale request after decode");y(Wt=>new Map(Wt).set(rt,{state:"loaded",blob:Et,buffer:Nt,duration:Nt.duration})),H==="loading"&&rt===nt.current&&B("ready"),ut.current&&pe.current===rt&&($e(),Tt(rt,Nt))}catch(Et){if(Et instanceof DOMException&&Et.name==="AbortError")console.log(`[Processor] Aborted fetch for index ${rt}.`),y(jt=>{const Ft=jt.get(rt);return Ft&&Ft.state==="loading"?new Map(jt).set(rt,{state:"idle"}):jt});else if(Et.message.startsWith("Stale request"))console.log(`[Processor] ${Et.message} for index ${rt}`);else if(console.error(`[Processor] XXX FETCH FAILED for index ${rt}`,Et),bt===Ye.current){Se.current=!0,Le.current=[];const jt=Et instanceof Vs?Et.message:`Failed audio for chunk ${rt}. See console.`;y(Ft=>new Map(Ft).set(rt,{state:"error"})),G(jt)}}finally{be.current===rn&&(be.current=null,ae.current=null),Ie.current=!1,Le.current.length>0&&!Se.current&&Q(Et=>Et+1)}},[ct,Tt,$e,H]),kt=dt.useCallback((mt,rt,bt,Ht=!1)=>{if(console.log("[Scheduler] Called",{startIndex:mt,isPriority:rt,isFreshLoad:Ht}),Se.current)return;const rn=Ye.current,Et=[],jt=Math.min(mt+G2,bt.length);for(let Ft=mt;Ft<jt;Ft++){const Nt=Me.current.get(Ft),Wt=Le.current.some(M=>M.index===Ft),hn=ae.current===Ft;(Ht||!Nt||Nt.state==="idle"||Nt.state==="error")&&!Wt&&!hn&&Et.push({index:Ft,loaderId:rn,text:bt[Ft]})}if(Et.length>0){const Ft=Le.current.map(Nt=>Nt.index);if(rt){const Nt=new Set(Et.map(hn=>hn.index)),Wt=Le.current.filter(hn=>!Nt.has(hn.index));Le.current=[...Et,...Wt]}else Le.current.push(...Et);console.log("[Scheduler] Queue state",{before:Ft,new:Et.map(Nt=>Nt.index),after:Le.current.map(Nt=>Nt.index)}),Q(Nt=>Nt+1)}},[]);dt.useEffect(()=>{Le.current.length>0&&!Ie.current&&!Se.current&&pt()},[W,pt]),dt.useEffect(()=>{if(x===null||f.length===0)return;const mt=x+1;mt<f.length&&kt(mt,!1,f)},[x,f,kt]),dt.useEffect(()=>{x!==null&&r(u,x)},[x,u,r]),dt.useEffect(()=>{if(u>=D.chapters.length){c(Math.max(0,D.chapters.length-1));return}const mt=D.chapters[u];if(!mt){B("ready"),p([]);return}console.log(`--- LOADING CHAPTER ${u} ---`),At(),$e(),A("text"),G(null),Ce.current&&(Ce.current.scrollTop=0),Ye.current++,Se.current=!1,Le.current=[],B("loading");const rt=(mt.content||"").trim(),bt=H2(rt);p(bt),y(new Map);let Ht=0;const rn=D.lastPosition;if(rn&&rn.chapterIndex===u&&rn.sentenceIndex>0){const Et=rn.sentenceIndex;j(Et),Ht=Et,setTimeout(()=>{var jt;(jt=document.getElementById(`sentence-chunk-${Et}`))==null||jt.scrollIntoView({behavior:"smooth",block:"center"})},100)}else j(0);if(nt.current=Ht,rt.length<15){ut.current&&u+1<D.chapters.length?(j(0),c(u+1)):(T(!1),p([]),B("ready"));return}return kt(Ht,!0,bt,!0),()=>{console.log(`--- UNLOADING CHAPTER ${vt.current} ---`),At(),$e(),Ye.current++,Se.current=!0,Le.current=[]}},[D.id,u]);const Ut=mt=>{At(),c(mt),A("text"),T(!1),j(null)},Vt=()=>{if(x!==null){$e();const rt=x;j(rt),pe.current=rt,T(!1),ut.current=!1}else{const rt=C??0;$e(),At(),Le.current=[],j(rt),pe.current=rt,T(!0),ut.current=!0;const bt=Me.current.get(rt);(!bt||bt.state!=="loaded")&&y(Ht=>new Map(Ht).set(rt,{state:"loading"})),kt(rt,!0,it.current),Tt(rt)}},tn=mt=>{if(x===mt)$e(),j(mt),pe.current=mt,T(!1),ut.current=!1;else{$e(),At(),Le.current=[],j(mt),pe.current=mt,T(!0),ut.current=!0;const rt=Me.current.get(mt);(!rt||rt.state!=="loaded")&&y(bt=>new Map(bt).set(mt,{state:"loading"})),kt(mt,!0,it.current),Tt(mt)}},Kt=mt=>{s(mt),u>=mt.chapters.length&&c(Math.max(0,mt.chapters.length-1))},on=D.chapters[u],bn=x!==null,wn=H==="loading"&&!bn,xt=()=>$.jsxs("div",{className:"p-6 sm:p-8",children:[$.jsx("h1",{className:"text-3xl font-bold text-cyan-400 mb-6",children:on==null?void 0:on.title}),$.jsx("div",{className:"max-w-none text-slate-300 text-lg leading-relaxed",children:f.length>0?$.jsx("p",{children:f.map((mt,rt)=>{const rn=x===rt||C===rt&&x===null;let Et="";return rn&&(Et="bg-red-900/60 text-red-300"),$.jsxs("span",{id:`sentence-chunk-${rt}`,className:`p-1 rounded transition-colors duration-300 ${Et}`,children:[mt," "]},rt)})}):H!=="loading"?$.jsx("p",{className:"text-slate-500",children:"No content available for this chapter."}):null})]}),Bt=()=>$.jsxs("div",{className:"p-6 sm:p-8",children:[$.jsxs("h1",{className:"text-3xl font-bold text-cyan-400 mb-4",children:[on==null?void 0:on.title," - Audio Tracks"]}),f.length>0?$.jsx("ul",{className:"space-y-2",children:f.map((mt,rt)=>{const bt=v.get(rt),Ht=x===rt,Et=Ht||C===rt&&x===null;let jt="bg-slate-800";return Et&&(jt="bg-red-900/40"),$.jsxs("li",{id:`audio-item-${rt}`,className:`flex items-center justify-between p-3 rounded-lg transition-colors duration-300 ${jt}`,children:[$.jsxs("p",{className:"flex-grow pr-4 font-semibold text-slate-300",children:["Track ",rt+1]}),$.jsxs("div",{className:"flex items-center gap-4 shrink-0",children:[$.jsxs("div",{className:"w-5 h-5 flex items-center justify-center",children:[(bt==null?void 0:bt.state)==="loading"&&$.jsx(Zs,{className:"w-5 h-5 text-slate-400"}),(bt==null?void 0:bt.state)==="loaded"&&$.jsx(uy,{className:"w-5 h-5 text-green-500"}),(bt==null?void 0:bt.state)==="error"&&$.jsx("span",{className:"text-red-400 font-bold text-lg",children:"!"})]}),(bt==null?void 0:bt.duration)&&$.jsxs("span",{className:"text-slate-500 font-mono text-sm select-none w-12 text-right",children:[bt.duration.toFixed(1),"s"]}),(bt==null?void 0:bt.state)!=="error"&&$.jsx("button",{onClick:()=>tn(rt),className:"p-2 rounded-full text-slate-300 hover:bg-slate-700 hover:text-cyan-400 transition-colors","aria-label":Ht?"Stop":"Play sentence",children:Ht?$.jsx(iy,{className:"w-6 h-6 text-cyan-400"}):$.jsx(Hv,{className:"w-6 h-6"})})]})]},rt)})}):$.jsx("p",{className:"text-slate-500 text-center py-8",children:"No audio content available."})]}),Ct=mt=>`px-4 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-slate-900 transition-colors ${w===mt?"bg-cyan-600 text-white":"text-slate-300 hover:bg-slate-700"}`;return $.jsxs($.Fragment,{children:[$.jsxs("div",{className:"flex flex-col md:flex-row h-screen",children:[$.jsxs("aside",{className:"w-full md:w-1-4 lg:w-1-5 bg-slate-800 p-4 overflow-y-auto shrink-0 flex flex-col",children:[$.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-cyan-400 hover:text-cyan-300 mb-4 transition-colors font-semibold",children:[$.jsx(Gm,{className:"w-5 h-5"}),"Back to Library"]}),$.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[$.jsxs("div",{className:"relative w-10 h-10 flex-shrink-0",children:[$.jsx("button",{onClick:Vt,className:"w-full h-full flex items-center justify-center rounded-full bg-slate-700 text-cyan-400 hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":bn?"Pause Book":"Play Book",disabled:wn,children:bn?$.jsx(ny,{className:"w-6 h-6"}):$.jsx(Hv,{className:"w-6 h-6"})}),H==="loading"&&!bn&&$.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-cyan-500/30 border-t-cyan-400 animate-spin pointer-events-none","aria-hidden":"true"})]}),$.jsx("h2",{className:"text-xl font-bold truncate text-slate-200 flex-1",children:D.title}),$.jsx("button",{onClick:()=>k(!0),className:"p-2 text-slate-400 hover:text-cyan-400 transition-colors","aria-label":"Book Settings",children:$.jsx(Vm,{className:"w-6 h-6"})})]}),$.jsx("p",{className:"text-sm text-slate-400 mb-4 truncate",children:D.author}),$.jsxs("div",{className:"mt-4",children:[$.jsx("label",{htmlFor:"chapter-select",className:"block text-sm font-medium text-slate-400 mb-2",children:"Chapter"}),$.jsx("select",{id:"chapter-select",value:u,onChange:mt=>Ut(parseInt(mt.target.value,10)),className:"w-full p-2 rounded-md bg-slate-700 border border-slate-600 text-slate-200 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-colors",children:D.chapters.map((mt,rt)=>$.jsx("option",{value:rt,children:mt.title},mt.id))})]})]}),$.jsxs("main",{className:"flex-grow flex flex-col bg-slate-900 overflow-hidden relative",children:[I&&$.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 bg-red-800/90 backdrop-blur-sm text-white p-3 flex items-center justify-between shadow-lg",children:[$.jsx("p",{className:"text-sm font-medium",children:I}),$.jsx("button",{onClick:()=>G(null),className:"p-1 rounded-full hover:bg-red-700 transition-colors",children:$.jsx(bh,{className:"w-5 h-5"})})]}),$.jsx("div",{className:"border-b border-slate-700 px-4 pt-2 shrink-0",children:$.jsxs("div",{className:"flex space-x-2",children:[$.jsx("button",{className:Ct("text"),onClick:()=>A("text"),children:"Text"}),$.jsx("button",{className:Ct("audio"),onClick:()=>A("audio"),children:"Audio Playlist"})]})}),$.jsx("div",{ref:Ce,className:"flex-grow overflow-y-auto",children:w==="text"?xt():Bt()})]})]}),$.jsx(P2,{isOpen:F,onClose:()=>k(!1),book:D,onSave:Kt})]})},K2=({books:D,onBack:i,onDataRestored:r})=>{const[s,u]=dt.useState(Qu()),[c,f]=dt.useState("idle"),[p,v]=dt.useState([]),[y,x]=dt.useState({loading:!1,error:null,message:null}),[_,O]=dt.useState({}),T=dt.useCallback(async()=>{if(s.ttsServerUrl){x({loading:!0,error:null,message:null});try{const F=await bg(s.ttsServerUrl);v(F)}catch(F){x({loading:!1,error:`Failed to fetch backups: ${F.message}`,message:null})}finally{x(F=>({...F,loading:!1}))}}},[s.ttsServerUrl]);dt.useEffect(()=>{T()},[T]);const H=F=>{const{name:k,value:I}=F.target;u(G=>({...G,[k]:I}))},B=F=>{F.preventDefault(),gh(s),f("saved"),setTimeout(()=>f("idle"),2e3)},w=async()=>{if(!s.username){alert("Please set a username before backing up.");return}x({loading:!0,error:null,message:"Backing up..."});try{const F=Qu(),k={books:D,settings:F};await j2(s.ttsServerUrl,s.username,k),x({loading:!1,error:null,message:"Backup successful!"}),await T()}catch(F){x({loading:!1,error:`Backup failed: ${F.message}`,message:null})}finally{setTimeout(()=>x(F=>({...F,message:null,error:null})),3e3)}},A=async F=>{O(k=>({...k,[F]:{loading:!0,error:null,message:"Restoring..."}}));try{const k=await wg(s.ttsServerUrl,F);if(Array.isArray(k.books)&&typeof k.settings=="object"&&k.settings!==null)await Bi.transaction("rw",Bi.books,async()=>{await Bi.books.clear(),await Bi.books.bulkAdd(k.books)}),gh(k.settings),O(I=>({...I,[F]:{loading:!1,error:null,message:"Success!"}})),setTimeout(()=>{r(),i()},1e3);else throw new Error("Invalid backup file format from server.")}catch(k){O(I=>({...I,[F]:{loading:!1,error:`Restore failed: ${k.message}`,message:null}}))}},C=F=>F!=null&&F.loading?$.jsxs($.Fragment,{children:[$.jsx(Zs,{className:"w-4 h-4"})," ",$.jsx("span",{children:"Restoring..."})]}):(F==null?void 0:F.message)==="Success!"?$.jsxs($.Fragment,{children:[$.jsx(Km,{className:"w-4 h-4"})," ",$.jsx("span",{children:"Success!"})]}):F!=null&&F.error?$.jsxs($.Fragment,{children:[$.jsx(vo,{className:"w-4 h-4"})," ",$.jsx("span",{children:"Retry"})]}):$.jsxs($.Fragment,{children:[$.jsx(vo,{className:"w-4 h-4"})," ",$.jsx("span",{children:"Restore"})]}),j=F=>(F==null?void 0:F.message)==="Success!"?"bg-green-500 hover:bg-green-600 disabled:bg-green-500 text-slate-900":F!=null&&F.error?"bg-red-500 hover:bg-red-600 text-white":F!=null&&F.loading?"bg-slate-600 text-white disabled:bg-slate-600":"bg-teal-400 hover:bg-teal-500 text-slate-900";return $.jsxs("div",{className:"container mx-auto max-w-2xl p-4 sm:p-6 lg:p-8",children:[$.jsxs("header",{className:"relative mb-8",children:[$.jsxs("button",{onClick:i,className:"absolute -left-4 top-1/2 -translate-y-1/2 flex items-center gap-2 text-cyan-400 hover:text-cyan-300 transition-colors font-semibold",children:[$.jsx(Gm,{className:"w-5 h-5"}),"Back"]}),$.jsx("h1",{className:"text-center text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-teal-500",children:"Settings"})]}),$.jsx("div",{className:"bg-slate-800 p-6 rounded-lg shadow-lg mb-8",children:$.jsxs("form",{onSubmit:B,children:[$.jsxs("div",{className:"mb-6",children:[$.jsx("label",{htmlFor:"ttsServerUrl",className:"block text-sm font-medium text-slate-300 mb-2",children:"TTS Server URL"}),$.jsx("input",{type:"url",id:"ttsServerUrl",name:"ttsServerUrl",value:s.ttsServerUrl,onChange:H,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"e.g., http://localhost:3000"})]}),$.jsxs("div",{className:"mb-6",children:[$.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-300 mb-2",children:"Username"}),$.jsx("input",{type:"text",id:"username",name:"username",value:s.username,onChange:H,className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md shadow-sm placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"Enter a username for server backups"}),$.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"This name is used to identify your backups on the server."})]}),$.jsxs("div",{className:"flex items-center gap-4",children:[$.jsx("button",{type:"submit",className:"inline-flex items-center px-6 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-cyan-500 transition-colors",children:"Save Settings"}),c==="saved"&&$.jsx("span",{className:"text-green-400 transition-opacity duration-300",children:"Saved successfully!"})]})]})}),$.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg shadow-lg",children:[$.jsx("h2",{className:"text-2xl font-bold text-slate-200 mb-4",children:"Server Sync / Backup"}),$.jsxs("div",{className:"mb-6",children:[$.jsxs("button",{onClick:w,disabled:y.loading||D.length===0,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 px-6 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-sky-600 hover:bg-sky-700 disabled:bg-sky-800/50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-sky-500 transition-colors",children:[y.loading&&y.message?$.jsx(Zs,{className:"w-5 h-5"}):$.jsx(ay,{className:"w-5 h-5"}),y.message||"Backup to Server"]}),y.error&&$.jsx("p",{className:"mt-2 text-sm text-red-400",children:y.error})]}),$.jsxs("div",{children:[$.jsx("h3",{className:"text-lg font-semibold text-slate-300 mb-3",children:"Available Backups on Server"}),y.loading&&!y.message&&$.jsx("p",{className:"text-slate-400",children:"Loading backups..."}),!y.loading&&y.error&&$.jsx("p",{className:"text-red-400",children:y.error}),!y.loading&&!y.error&&p.length===0&&$.jsx("p",{className:"text-slate-500",children:"No backups found on the server."}),$.jsx("ul",{className:"space-y-3",children:p.map(F=>{const k=_[F.id];return $.jsxs("li",{className:"bg-slate-700 p-3 rounded-md",children:[$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsxs("div",{children:[$.jsx("p",{className:"font-medium text-cyan-400",children:F.name}),$.jsx("p",{className:"text-xs text-slate-400",children:new Date(F.date).toLocaleString()})]}),$.jsx("button",{onClick:()=>A(F.id),disabled:(k==null?void 0:k.loading)||(k==null?void 0:k.message)==="Success!",className:`inline-flex items-center justify-center gap-2 w-32 px-4 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm transition-colors disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-700 ${j(k)}`,children:C(k)})]}),(k==null?void 0:k.error)&&$.jsx("p",{className:"text-xs text-red-400 mt-2 text-right",children:k.error})]},F.id)})})]})]})]})},Z2=()=>{const{books:D,addBook:i,deleteBook:r,updateBook:s,updateBookPosition:u,loadBooks:c,loading:f}=ty(),[p,v]=dt.useState(null),[y,x]=dt.useState("home");dt.useEffect(()=>{p?x("reader"):y==="reader"&&x("home")},[p,y]);const _=()=>{c(),v(null),x("home")},O=w=>{r(w),p===w&&v(null)},T=w=>{v(w)},H=()=>{v(null),x("home")},B=()=>{const w=D.find(A=>A.id===p)||null;if(f)return $.jsx("div",{className:"flex items-center justify-center min-h-screen",children:$.jsx("h1",{className:"text-2xl text-slate-400",children:"Loading Library..."})});switch(y){case"settings":return $.jsx(K2,{books:D,onBack:()=>x("home"),onDataRestored:_});case"reader":return w?$.jsx(V2,{book:w,onBack:H,onUpdatePosition:(A,C)=>u(w.id,{chapterIndex:A,sentenceIndex:C}),onUpdateBook:s}):(x("home"),null);case"home":default:return $.jsx(I2,{books:D,onAddBook:i,onSelectBook:T,onDeleteBook:O,onGoToSettings:()=>x("settings"),onDataRestored:_})}};return $.jsx("div",{className:"min-h-screen bg-slate-900 text-slate-100 font-sans",children:B()})},xg=document.getElementById("root");if(!xg)throw new Error("Could not find root element to mount to");const X2=W0.createRoot(xg);X2.render($.jsx(P0.StrictMode,{children:$.jsx(Z2,{})}));
